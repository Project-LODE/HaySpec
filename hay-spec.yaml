# Hay Description Specification - DRY Refactor
title: Hay Description Specification
version: 0.91.0
status: draft
publisher: Lode
date_published: 20250809
license: CC BY 4.0
schema_uri: https://github.com/lode-global/hay-spec/tree/v0.91.0/schema.yaml

unit_handling_policy: >
  This specification supports both metric and U.S. customary units. Wherever
  measurements are provided, the associated unit must be explicitly declared.
  Metric units are preferred for consistency with international agricultural
  trade. Users may select their preferred unit system using the
  'unit_system_preference' field in the metadata section, but individual fields
  may override this preference.

character_encoding_policy:
  yaml_ascii_only: true
  exports:
    markdown:
      allow_unicode: true
      normalization_form: NFC
      orthography_overrides_ref:
        id: orthography_overrides
        uri: references/orthography_overrides.yaml
        version: 0.1.0

anchors:
  truthy_unknown: &truthy_unknown
    data_type: enum
    required: true
    enum_select_mode: single
    valid_values:
      - true
      - false
      - unknown

sections:
  - id: introduction
    title: Introduction and Front Matter

    definition: >
      Introduces the hay specification's purpose, scope, and intended usage.
      Provides context for its development, importance, and structure, including
      audience, terminology, and field naming conventions.

    narration: |
      Hay is a foundational agricultural commodity, essential to the nutrition
      of dairy and beef cattle, horses, goats, camels, sheep, and other animals.
      In the United States, hay ranks among the leading cash crops by annual
      sales value, alongside corn, wheat, and soybeans. Yet unlike those crops,
      hay is traded entirely on an over-the-counter basis -- through
      peer-to-peer negotiation, dealers, or brokers -- without common product
      definitions or standardized digital tools.

      The hay market does not inherently require centralized exchanges to
      function well. But it does suffer from two critical deficiencies: buyers
      and sellers struggle to find one another efficiently, and there is limited
      electronic facilitation of trading, particularly in matching,
      documentation, and decision support.

      These limitations stem in part from the lack of shared standards. Without
      consistent product descriptions or data conventions, hay listings and
      negotiations rely on informal descriptions, resulting in persistent
      mismatches in perceptions of quality, weak price signals, and high
      friction in trade. This hinders regional and global commerce, limits
      market transparency, and slows investment in modern tools for production,
      logistics, testing, and quality control.

      Efforts to standardize hay go back more than a century. As recently as the
      late 19th century, centralized hay markets operated in cities such as
      Boston, Chicago, and San Francisco. Since then, producer groups, academic
      institutions, extension agencies, and the U.S. Department of Agriculture
      have all proposed grading systems. But none has achieved enduring,
      widespread adoption.

      Several developments now offer new opportunities for progress. Hay exports
      are growing, especially alfalfa, which now trades across borders under
      increasingly formalized standards. Testing technologies have matured,
      including laboratory-based wet chemistry and near-infrared reflectance
      (NIR) spectroscopy. Digital tools and platforms are emerging, enabling
      traceability from field to bale. Online infrastructure allows global
      coordination, opening the door for community-led standards and
      interoperability.

      This document proposes a formal product definition for hay -- a structured
      data model that captures economically salient characteristics in a
      consistent format. Such a definition supports better listings, search,
      comparison, and traceability. Over time, it may also surface replacements
      in market behavior that inform the development of accepted grading
      practices.

      This specification is published by Lode, a platform for improving
      transparency and connectivity in agricultural commodities markets. To
      participate or provide feedback, contact us at standards@lode.global or
      visit lode.global.

      This is a working draft subject to field testing and stakeholder
      refinement. Planned additions include a reference dataset of forage
      varieties with identifiers and metadata, and a registry of forage analysis
      laboratories supporting the specified testing methods and protocols.

  - id: location
    title: Field Location and Growing Environment

    definition: >
      Specifies the geographic and environmental setting of the field or
      production area, including identifiers, region, climate, and proximity to
      known environmental risks. Aids in understanding growing conditions and
      risk factors.

    narration: |
      This section describes the field location and environmental
      characteristics where the hay was produced. Geographic factors play a
      significant role in hay quality, influencing aspects such as nutrient
      content, texture, and palatability. Elevation, climate classification, and
      irrigation infrastructure all shape growing conditions and harvesting
      outcomes.

      These fields support traceability, enable regional comparisons, and help
      buyers assess how site-specific factors may affect hay performance for
      their intended use.

    fields:
      - id: hay_origin
        title: Hay origin
        data_type: object
        required: true

        fields:
          - id: country_code
            title: Country code
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: country_codes
            enum_source:
              id: country_codes
              uri: references/country_codes.yaml
              version: 0.1.0

            definition: >
              Specifies the country in which the hay was produced, using the
              standardized ISO 3166-1 alpha-2 code.

            narration: |
              This field enables consistent identification of the national
              origin of the hay. It supports traceability, regulatory
              compliance, and buyer transparency.

              Standardized country codes simplify reporting, reduce ambiguity,
              and allow system-level filtering, sorting, and cross-border
              analysis.

              System interfaces may implement dropdown menus or auto-complete
              tools linked to an ISO country code list to reduce input errors.

            validation_guidance: |
              Must be a valid 2-letter ISO 3166-1 alpha-2 country code (e.g.,
              `US`, `CA`, `MX`).

          - id: subdivision_code
            title: Subdivision code
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: subdivision_codes
            enum_source:
              id: subdivision_codes
              uri: references/subdivision_codes.yaml
              version: 0.1.0

            definition: >
              Specifies the first-level administrative region associated with
              the hay's origin, using the ISO 3166-2 code format.

            narration: |
              This field identifies the state, province, or regional unit where
              the hay was grown. The ISO 3166-2 format includes the country code
              followed by a hyphen and a regional code (e.g., `US-TX` for
              Texas).

              Use of subdivision codes supports consistent traceability,
              regional reporting, and compatibility with compliance and
              geographic datasets.

              System interfaces may enable filtering by region after a country
              code is selected to reduce input errors and simplify workflows.

              A small number of countries, e.g., Singapore, do not have
              subdivisions and will take a value of `not_applicable` from the
              `subdivision_codes` reference list.

            validation_guidance: |
              - Must be a valid ISO 3166-2 subdivision code (e.g., `US-TX`, `CA-ON`).
              - For countries with no defined subdivisions, use `not_applicable`.
              - The list of valid values is maintained in the `subdivision_codes` reference list.

          - id: county_code
            title: County code
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: county_names
            enum_source:
              id: county_names
              uri: references/county_names.yaml
              version: 0.1.0

            definition: >
              Identifies the county, parish, district, or equivalent
              subnational unit in which the hay was grown. This field uses a
              controlled vocabulary where possible.

            narration: |
              This field captures localized geographic origin below the
              state or provincial level. It supports regulatory programs,
              extension reporting, and region-specific marketing.

              The field draws from a reference list of recognized counties
              or equivalents (e.g., U.S. counties, Canadian census divisions).
              For cases outside the reference list, select `other` and provide
              the actual value using `county_code_other`.

              Together with `country_code` and `subdivision_code`, this field
              contributes to full traceability of hay production location.

            validation_guidance: |
              - Allowed values are defined in `county_names.yaml`.
              - For U.S. entries, select a recognized county from the list.
              - If the county is not in the list, select `other` and supply the actual name in `county_code_other`.
              - Do not enter free-text values directly in this field.

          - id: county_code_other
            title: County code (other)
            data_type: string
            required: false
            max_length: 100

            definition: >
              Provides the actual county, parish, or district name when the
              selected `county_code` is `other`.

            narration: |
              This field allows sellers to specify a geographic unit not
              found in the controlled list, such as a foreign region or
              subnational area outside the U.S. or Canada.

              It ensures that valid traceability is still possible even when
              the controlled list is incomplete.

            validation_guidance: |
              - This field is required if `county_code` is `other`.
              - Maximum length: 100 characters.
              - Do not use this field unless `county_code` equals `other`.

          - id: postal_code
            title: Postal code
            data_type: string
            required: false

            definition: >
              Captures the postal code (or ZIP code) for the location where the
              hay was grown.

            narration: |
              This field provides highly localized origin data that supports
              logistics, mapping, and regulatory compliance.

              Postal codes vary by country -- for example: 90210 (United
              States), K1A 0B1 (Canada), 75008 (France).

              Used in combination with country, subdivision, and county fields,
              the postal code contributes to full geographic traceability.

              Systems may optionally validate format against the selected
              country or enable auto-complete to improve accuracy.

            validation_guidance: |
              - Postal or ZIP code.
              - Free-text field. Maximum length: 20 characters.
              - Must align with format conventions of the associated country.

          - id: field_name
            title: Field name
            data_type: string
            required: false

            definition: >
              Name or label used by the producer to identify the field or block
              from which the hay was harvested.

            narration: |
              This value can help associate the hay lot with operational field
              names in farm records, maps, or traceability systems. Use plain,
              concise naming.

              If the hay was sourced from more than one field, use the keyword
              `multi_field`.

              A blank value does not imply multiple fields.

            validation_guidance: |
              - Maximum length: 100 characters.
              - Do not use formatting, special characters, or markup.
              - If using the keyword `multi_field`, then `hay_single_lot_traceable` must be set to `false`.

          - id: field_id
            title: Field ID
            data_type: string
            required: false

            definition: >
              Internal or external identifier used to uniquely reference the
              field or block where the hay was grown.

            narration: |
              This may be a grower's internal ID, a land parcel number, or a
              geographic reference used in farm management software. Use
              consistent formatting where applicable.

              If the hay was sourced from more than one field, use the keyword
              `multi-field`.

              A blank value does not imply multiple fields.

            validation_guidance: |
              - Maximum length: 100 characters.
              - Use plain text only.
              - If using the keyword `multi-field`, then `hay_single_lot_traceable` must be set to `false`.

          - id: elevation
            title: Elevation
            data_type: object
            required: true

            fields:
              - id: magnitude_int
                title: Magnitude
                data_type: int
                required: true
                valid_range:
                  min: -300
                  max: 13000

              - id: units
                title: Units
                data_type: enum
                required: true
                enum_select_mode: single
                valid_values_ref: units
                enum_source:
                  id: units
                  uri: references/units.yaml
                  version: 0.90

            definition: >
              Elevation of the field, measured as height above or below sea level.

            narration: |
              Elevation can affect forage species suitability, yield, and nutrient density
              due to climatic and soil influences. Provide the average elevation of the
              production field.

              Systems should offer a selector for units (`m`, `ft`) to reduce input errors.

              Valid input range:
                - Feet: -300 to 13000 ft
                - Meters (approximate equivalents): -91 to 3962 m

              Values outside these ranges warrant review.

            validation_guidance: |
              - `units` must be either `m` (meters) or `ft` (feet).
              - `magnitude` must be a whole number representing elevation in the selected units.
              - Bounds by unit:
                - If `units` == `ft`: `magnitude` must be between -300 and 13000.
                - If `units` == `m`: `magnitude` must be between -91 and 3962.
              - Values below 0 represent locations below sea level.
              - Cross-validate elevation against location fields if desired.
              - Note: The `valid_range` on `magnitude` corresponds to feet. Enforce the per-unit
                bounds above at input time to ensure consistency.

          - id: climate_classification
            title: Climate classification
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: climate_codes
            enum_source:
              id: climate_codes
              uri: references/climate_codes.yaml
              version: 0.1.0

            definition: >
              Records the generalized climate classification for the field where
              the hay was grown, using the Koppen-Geiger system.

            narration: |
              This field provides environmental context about the hay's
              production zone using a widely recognized climate classification
              system.

              Examples:

              - `Cfa` -- Humid subtropical (e.g., Southeastern U.S.).
              - `BSk` -- Cold semi-arid (e.g., High Plains).
              - `Dfb` -- Humid continental, warm summer (e.g., Upper Midwest).

              Koppen-Geiger codes reflect key climatic factors like temperature
              patterns and precipitation. Including this data helps agronomists
              and buyers interpret forage characteristics, growing season
              dynamics, and crop risk profiles.

            validation_guidance: |
              - Must be a valid 2- to 3-letter Koppen-Geiger climate code (e.g., `Cfa`, `BSk`, `Dfb`).
              - Values are case-sensitive.

          - id: field_area
            title: Field area
            data_type: object
            required: false

            fields:
              - id: magnitude_float
                title: Magnitude
                data_type: float
                required: false
                valid_range:
                  min: 0.01
                  max: 10000

                validation_guidance: |
                  Must be a positive decimal between **0.01** and **10 000**.

              - id: units
                title: Units
                data_type: enum
                required: false
                required_if:
                  field: field_area.magnitude
                  operator: value_present
                  value: true
                enum_select_mode: single
                valid_values_ref: units
                enum_source:
                  id: units
                  uri: references/units.yaml
                  version: 0.90

                validation_guidance: |
                  Valid values: `acres`, `hectares`. Required when an area
                  magnitude is given.

            definition: >
              Total land area of the production field. Report the numeric value
              (`field_area_magnitude`) together with its unit
              (`field_area_units`).

            narration: |
              Captures the size of the field or parcel from which the hay was
              harvested. Field area is relevant for assessing yield per unit
              area, validating production claims, and understanding operation
              scale.

          - id: irrigation_status
            title: Irrigation status
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values:
              - rainfed_only
              - irrigation_available
              - irrigation_required

            definition: >
              Describes the general irrigation context in which the hay was
              grown.

            narration: |
              This field indicates whether irrigation was necessary, optional,
              or unused in the production of the hay crop.

              - `rainfed_only` -- The crop relied entirely on rainfall.
              - `irrigation_available` -- Irrigation systems are present but not necessarily used.
              - `irrigation_required` -- Irrigation is necessary for successful production.

              This field offers insight into water dependency, production risk,
              and sustainability considerations. It complements
              `irrigation_methods_available` and `irrigation_method_used`.

            validation_guidance: |
              If specified, select **at most one** of `rainfed_only`,
              `irrigation_available`, `irrigation_required`.

          - id: irrigation_methods_available
            title: Irrigation methods available
            data_type: enum
            required: false
            enum_select_mode: multiple
            valid_values:
              - none
              - flood
              - sprinkler
              - pivot
              - drip
              - unknown

            definition: >
              Indicates the primary irrigation method available to the producer,
              regardless of whether it was used during this crop cycle.

            narration: |
              This field describes the irrigation infrastructure or capacity
              available to the grower for this hay crop.

              - `none` -- No irrigation equipment or systems are available.
              - `flood` -- Water is applied using gravity flow across the surface.
              - `sprinkler` -- Water is applied using stationary or portable sprinklers.
              - `pivot` -- Water is applied using a rotating center-pivot system.
              - `drip` -- Water is delivered directly to the root zone through emitters.
              - `unknown` -- Irrigation method is unknown or unreported.

              This field reflects technical capacity and complements
              `irrigation_status`, which describes agronomic necessity.

            validation_guidance: |
              - Accept one or more of the valid values.
              - If 'irrigation_status' is 'irrigation_available', this field **must not** contain 'none'.

          - id: irrigation_method_used
            title: Irrigation method used
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values:
              - none
              - flood
              - sprinkler
              - pivot
              - drip
              - unknown

            definition: >
              Records the primary irrigation method actually used during the most
              recent production cycle of the hay crop.

            narration: |
              This field identifies the method of irrigation, if any, that was
              applied to the hay crop in the field season leading up to harvest.

              - `none` -- No irrigation was used; the crop was fully rainfed.
              - `flood` -- Gravity-flow water was used to irrigate the field.
              - `sprinkler` -- Water was applied via fixed or mobile sprinklers.
              - `pivot` -- A center-pivot system delivered water in arcs or circles.
              - `drip` -- Water was applied directly to the root zone using drip lines or emitters.
              - `unknown` -- Irrigation method is unknown or unreported.

              This field is useful for assessing actual water inputs and complements
              `irrigation_methods_available`, which describes infrastructure rather
              than practice.

            validation_guidance: |
              - Accept only one of the valid values.
              - If `irrigation_methods_available` is `none`, then this field must also be `none`.

  - id: soil
    title: Soil and Field Management
    definition: >
      Summarizes field-level soil characteristics and management practices, such
      as pH, amendments, drainage, and compaction. These factors affect forage
      nutrient uptake, yield potential, and long-term field performance.

    narration: |
      This section captures how the grower prepares and maintains the soil to
      support a healthy forage stand. It includes information about fertilizer
      applications, soil amendments, and general nutrient management.

      These practices influence crop yield, plant vigor, and nutritional quality
      of the harvested hay. They also help downstream users assess environmental
      practices, sustainability, and alignment with production goals, such as
      high-protein dairy forage versus lower-input grazing hay.

      Where applicable, fields differentiate between nutrient application to
      legume and grass crops -- acknowledging, for example, that nitrogen is
      often unnecessary for legumes due to biological nitrogen fixation.

    fields:
      - id: soil_test_date
        title: Soil test date
        data_type: date
        required: false

        definition: >
          Records the date of the most recent soil test used to guide nutrient
          and pH management decisions for the current hay crop.

        narration: |
          Soil testing helps optimize fertilizer and lime application, supports
          environmental stewardship, and informs yield and quality expectations.

          This field enhances transparency in production and may support future
          traceability or certification requirements. When present, it may
          prompt systems to request additional data such as soil pH or nutrient
          inputs.

        validation_guidance: |
          - Must be formatted as `YYYYMMDD`.
          - Use `YYYYMM00` if day is unknown.
          - Use `YYYY0000` if both month and day are unknown.
          - Use `00000000` if no date is available or applicable.

      - id: soil_test_ph
        title: Soil test pH
        data_type: float
        required: false
        valid_range:
          min: 4.5
          max: 8.5

        definition: >
          Records the pH of the soil based on the most recent test.

        narration: |
          Soil pH affects nutrient availability, microbial activity, and overall
          crop performance. Most forage crops perform best when soil pH is
          between 6.0 and 7.5. Legumes such as alfalfa benefit from pH levels
          above 6.5.

          This value should reflect a recent, lab-confirmed soil test. Buyers
          and agronomists may use this value to assess forage quality risk,
          nutrient uptake potential, and whether liming or fertility adjustments
          may have been needed.

        validation_guidance: |
          - Must be a decimal between 4.5 and 8.5.
          - Represents soil pH from the most recent test.
          - Most forage crops perform best between 6.0 and 7.5.
          - Legumes like alfalfa prefer pH above 6.5.
          - Values below 5.0 or above 8.5 are uncommon and may require corrective amendments or retesting.

      - id: soil_liming
        title: Soil liming
        data_type: object
        required: false

        fields:
          - id: lime_applied
            title: Lime applied
            <<: *truthy_unknown

            definition: >
              Indicates whether agricultural lime or another pH-adjusting
              amendment was applied to the field prior to or during the hay crop
              cycle.

            narration: |
              Indicates whether lime was applied to adjust soil pH.

              - `true` -- Lime was applied.
              - `false` -- No lime was applied.
              - `unknown` -- The seller is unsure or has not tested the soil.

              Liming improves nutrient availability and is especially important
              for legumes like alfalfa. Disclosure supports transparency in soil
              management and may affect how buyers interpret forage quality or
              root environment conditions.

            validation_guidance: |
              If specified, must be **one of** `true`, `false`, or `unknown`.

          - id: lime_application_date
            title: Lime application date
            data_type: date
            required: false

            definition: >
              Records the most recent date when lime was applied to adjust soil
              pH for the current hay crop.

            narration: |
              Liming improves nutrient availability and overall forage
              productivity. This date helps contextualize pH-related values and
              supports transparency in soil fertility practices.

            validation_guidance: |
              - Must be formatted as `YYYYMMDD`.
              - Use `YYYYMM00` if day is unknown.
              - Use `YYYY0000` if both month and day are unknown.
              - Use `00000000` if no date is available or applicable.
              - Do not report dates prior to stand establishment.

      - id: fertilizer_application
        title: Fertilizer application
        data_type: object[]
        required: false

        definition: >
          Documents individual fertilizer application events, including date,
          nutrient type, applied amount, and unit of measurement. This format
          supports multiple applications and captures diverse nutrient
          management strategies across the growing season.

        narration: |
          This group allows sellers to record each fertilizer event that
          contributed to forage growth. It supports transparency, environmental
          responsibility, and nutrient management assessments by capturing
          detailed, time-specific input data.

          This structure replaces earlier flat field groups for application
          timing and nutrient rates, offering improved precision and support for
          multiple applications or split applications throughout the season.

        validation_guidance: |
          - Each object in the array must contain a valid date, nutrient type, amount, and unit pair.
          - The array may be empty if no fertilizer was applied or if data is unavailable.
          - Validations should enforce realistic dose limits and require units if amount is provided.

        components:
          - id: application_date
            title: Application date
            data_type: date
            required: true

            definition: >
              The calendar date on which a specific fertilizer application took
              place.

            narration: |
              Knowing the timing of fertilizer applications helps assess
              nutrient uptake efficiency, runoff risk, and alignment with crop
              growth phases.

            validation_guidance: |
              - Must be formatted as `YYYYMMDD`.
              - Use `YYYYMM00` if day is unknown.
              - Use `YYYY0000` if both month and day are unknown.
              - Use `00000000` if the date is unavailable or not applicable.

          - id: nutrient_type
            title: Nutrient type
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - nitrogen
              - phosphorus
              - potassium

            definition: >
              Specifies the primary nutrient applied in this fertilizer event.

            narration: |
              The hay specification tracks only the three macronutrients most
              relevant to forage systems -- nitrogen (N), phosphorus (P), and
              potassium (K).

            validation_guidance: |
              - Must be one of `nitrogen`, `phosphorus`, or `potassium`.

          - id: amount
            title: Amount
            data_type: float
            required: true
            valid_range:
              min: 0.01
              max: 1000

            definition: >
              The numeric quantity of fertilizer nutrient applied, expressed in
              a standard mass unit.

            narration: |
              Reported amounts allow stakeholders to assess whether nutrient
              input levels are consistent with agronomic recommendations,
              regulatory thresholds, or product claims.

            validation_guidance: |
              - Must be a float between 0.01 and 1000.
              - Must be interpreted together with the specified unit.

          - id: units
            title: Units
            data_type: enum
            required: true
            required_if:
              field: fertilizer_application.amount
              operator: value_present
              value: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              The unit of measure used for the nutrient amount, typically a mass
              per area.

            narration: |
              Units ensure that amounts are interpretable and comparable. Common
              options include `pounds_per_acre` or `kilograms_per_hectare`,
              depending on the production system and region.

            validation_guidance: |
              - Must reference a unit compatible with fertilizer application.
              - Required if `fertilizer_application.amount` is provided.

          - id: unit_area
            title: Area units
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              The area basis used to express the fertilizer application rate,
              such as per acre or per hectare.

            narration: |
              This field specifies the unit of land area over which the reported
              fertilizer amount was applied. It ensures that nutrient
              application rates are standardized and interpretable across
              regions and farming systems.

            validation_guidance: |
              - Must reference a valid area unit such as `acre`, `hectare`, or `square_meter`.
              - Required whenever `nutrient_amount` is present to fully specify the application rate.

      - id: organic_amendments
        title: Organic amendments
        data_type: object[]
        required: false

        definition: >
          A list of organic amendment applications made to the field. Each entry
          captures a single event in which an organic or biological material was
          applied to improve soil fertility, structure, or biology.

        narration: |
          This field allows documentation of compost, manure, biochar, or
          similar amendments applied to the soil. These inputs affect soil
          health, nutrient cycling, and long-term sustainability. Tracking
          amendments provides insight into nutrient strategies, organic
          practices, and ecological stewardship.

        validation_guidance: |
          - Each entry must represent a single, discrete amendment application.
          - Exactly one of `unit_mass` or `unit_volume` must be provided.
          - Both must not be present simultaneously.
          - Each entry must include the amendment type, amount, and one valid unit.
          - Do not combine different amendment types or application dates within a single entry.
          - `unit_area` may optionally be included to express a per-area rate in conjunction with mass or volume.

        contextual_notes: >
          - Use volume units (e.g., `gallons`, `cubic_yards`) for wet or loose materials such as slurry, compost, or liquid biofertilizers.
          - Use mass units (e.g., `pounds`, `tons`) for dry or solid materials such as manure, biochar, or pellets.
          - Unit selection should reflect local agronomic practices and the physical state of the amendment.
          - Typical application rates range from 1 to 10 short tons per acre.
          - Rates exceeding 20 tons per acre may warrant verification, especially in conventional systems.

        components:
          - id: amendment_application_date
            title: Application date
            data_type: date
            required: true

            definition: >
              Date the organic amendment was applied to the field.

            narration: |
              Capturing the application date supports evaluation of how timing
              aligns with crop growth stages and nutrient availability. Proper
              documentation of application timing helps assess impacts on yield,
              soil biology, and nutrient cycling.

            validation_guidance: |
              - Must be formatted as `YYYYMMDD`.
              - Use `YYYYMM00` if day is unknown.
              - Use `YYYY0000` if both month and day are unknown.
              - Use `00000000` if no date is available or applicable.

          - id: amendment_type
            title: Amendment type
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: organic_amendment_types
            enum_source:
              id: organic_amendment_types
              uri: references/organic_amendment_types.yaml
              version: 0.90

            definition: >
              Identifies the category or material type of the organic amendment
              applied.

            narration: |
              Specifies what type of organic or biological material was used to
              amend the soil. Common examples include compost, manure, and crop
              residue. Understanding amendment type is essential for
              interpreting nutrient content, application method, and potential
              certification implications.

            validation_guidance: |
              - Must match one of the enumerated values in `organic_amendment_types.yaml`.
              - Use `other` if the amendment type is not listed and provide details elsewhere if needed.

          - id: amendment_amount
            title: Amendment amount
            data_type: float
            required: true
            valid_range:
              min: 0.01
              max: 10000

            definition: >
              Specifies the numeric quantity of the organic amendment applied.

            narration: |
              Indicates how much amendment was applied during a single
              application. This value should be interpreted in conjunction with
              the unit fields. Typical values range from a few hundred to
              several thousand pounds or gallons per acre, depending on material
              and method.

            validation_guidance: |
              - Must be a positive number between 0.01 and 10,000.
              - Units must be specified in one of the accompanying unit fields.
              - Extremely high values should be reviewed for accuracy.

          - id: unit_mass
            title: Mass units
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              Unit of measure used to express the amendment amount by weight.

            narration: |
              If the amendment is measured by weight (e.g., tons, pounds,
              kilograms), this field specifies the unit. Choose the unit that
              aligns with local practice or regulatory requirements.

            validation_guidance: |
              - Required if `unit_volume` is not specified.
              - Must not be present at the same time as `unit_volume`.
              - Must be a mass-based unit from `units.yaml`.

          - id: unit_volume
            title: Volume units
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              Unit of measure used to express the amendment amount by volume.

            narration: |
              If the amendment is measured by volume (e.g., gallons, cubic
              yards), this field specifies the unit. Volume-based measurement is
              common for wet or bulky materials like compost and slurry.

            validation_guidance: |
              - Optional, but mutually exclusive with `unit_mass`.
              - Must be a volume-based unit from `units.yaml`.
              - Do not include both `unit_mass` and `unit_volume` in the same entry.

          - id: unit_area
            title: Area units
            data_type: enum
            required: false
            required_if:
              field: amendment_amount
              operator: value_present
              value: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              Unit of area used to express the application rate per field area.

            narration: |
              This field is used to normalize amendment applications to a
              per-area rate, such as tons per acre or liters per hectare. Area
              units are especially useful when rates vary by field size, or when
              aligning with regulatory or agronomic standards.

            validation_guidance: |
              - Must be included if expressing a per-area application rate.
              - Use in conjunction with `unit_mass` or `unit_volume`.
              - Must not be present without an amendment amount.
              - Typical values include `acre`, `hectare`, or `square_meter`.

  - id: stand
    title: Stand Composition and Agronomic Characteristics

    definition: >
      Describes the agronomic characteristics of the hay stand at the time of
      harvest, including species composition, maturity, establishment method,
      and density. Helps contextualize forage quality and production conditions.

    narration: |
      This section describes the planted forage stand -- the biological and
      agronomic foundation of the hay crop. It includes the intended composition
      of plant varieties, their representation in the harvested hay, and related
      agronomic details such as establishment method, density, and maturity at
      harvest.

      These fields support transparency around crop planning, species selection,
      and cultural practices, helping buyers assess the identity, uniformity,
      and development stage of the forage. The section also captures information
      relevant to quality, palatability, and intended use, and it helps
      agricultural professionals interpret how the hay's characteristics relate
      to field management decisions.

    fields:
      - id: stand_mixture_intended
        title: Intended as mixture
        data_type: boolean
        required: false

        definition: >
          Indicates whether the forage stand was intentionally planted as a
          mixture of two or more species or varieties (polyculture) rather than
          a monoculture.

        narration: |
          This field captures the grower's original intent at the time of stand
          establishment. A value of `true` reflects an intentional mix (e.g.,
          alfalfa and timothy), while `false` indicates a monoculture was
          intended.

          Note that actual harvest outcomes may differ due to environmental or
          agronomic factors. For example, if a grower plants a mix but only one
          species survives, this field would still be `true` based on intent.

          This field pairs with `forage_variety_count` and
          `forage_variety_components` to describe the diversity of the stand and
          with `forage_type_classification` to indicate the botanical
          composition at harvest.

        validation_guidance: |
          - Valid values: `true`, `false`.
          - Should be `true` when `forage_variety_count` > 1.
          - May be used to trigger checks for presence of multiple `forage_variety_components`.

      - id: forage_type_classification
        title: Forage type classification
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values_ref: forage_type_classification
        enum_source:
          id: forage_type_classification
          uri: references/forage_type_classification.yaml
          version: 0.1.0

        definition: >
          Categorizes the harvested forage crop by its dominant biological type
          or mix, such as grass, legume, or a mixed stand-based on what was
          present at the time of harvest.

        narration: |
          This field captures the observed biological classification of the
          forage in the harvested hay, regardless of what was originally
          planted.

          - `grass` -- Composed primarily of grass species (e.g., bermudagrass, timothy, orchardgrass).
          - `legume` -- Composed primarily of legumes (e.g., alfalfa, clover).
          - `grass_legume_mix` -- Contains both grass and legume species in significant proportion.
          - `other` -- Contains significant components not classified as grass or legume (e.g., brassicas, forbs).
          - `unknown` -- Type cannot be determined or was not assessed.

          This classification informs nutritional modeling, feeding decisions,
          and market expectations. It complements other stand-level details such
          as maturity, density, and variety composition.

        validation_guidance: |
          - Must be one of the values defined in `forage_type_classification.yaml`.
          - Required for nutritional modeling and maturity interpretation.
          - Cross-check with `forage_variety_components` and `stand_maturity_at_harvest` to ensure internal consistency.

      - id: forage_variety_count
        title: Forage variety count
        data_type: int
        required: true
        valid_range:
          min: 0
          max: 10

        definition: >
          Reports how many distinct forage varieties were identified in the
          actual harvested crop.

        narration: |
          This field supports both marketing claims (e.g., "two-variety blend")
          and technical functions, such as determining how many entries of
          `forage_variety_components` should be included in a structured record.

          A value of `0` should be used when no species or varieties can be
          positively identified. In such cases, `forage_type_classification`
          must be set to `unknown`.

          In monocultures, use `1`. In mixed stands, use `2` or more. Most
          common values are between 1 and 4.

        validation_guidance: |
          - Must be a whole number from 0 to 10.
          - `0` is only valid if `forage_type_classification` is `unknown`.
          - If `forage_variety_components` are listed, their count must match this value.
          - If `stand_mixture_intended` is `false`, this value should typically be `1`.

      - id: forage_variety_components
        title: Forage variety components
        data_type: object[]
        required: false
        component_repeats: true

        definition: >
          Describes each intentionally planted forage variety in the stand,
          along with its intended and observed contribution to the harvested
          hay.

        narration: |
          Use one entry for each forage variety intentionally seeded or
          established. This component supports agronomic transparency and aligns
          with `stand_mixture_intended` and `forage_variety_count`.

          Include both the target contribution (e.g., expected mix ratio at
          planting) and the actual observed contribution (e.g., estimated
          harvest ratio). This allows comparisons between planned and actual
          stand composition.

        validation_guidance: |
          If a `forage_variety` is provided, both
          `variety_representation_target` and `variety_representation_result`
          must also be included for that entry.

        components:
          - id: forage_variety
            title: Forage variety
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: forage_species
            enum_source:
              id: forage_species
              uri: references/forage_species.yaml
              version: 0.1.0

            definition: >
              Specifies the name of the forage variety intentionally included in
              the stand.

            narration: |
              Select from the reference list of known forage species. The value
              should reflect the actual variety used by the grower. Custom
              varieties may be listed if properly documented.

              This value must be provided for every entry in the component list.

          - id: variety_representation_target
            title: Target mix ratio
            data_type: int
            required: false
            valid_range:
              min: 1
              max: 100

            definition: >
              The grower's intended contribution of this variety to the planted
              stand, expressed as a whole number.

            narration: |
              This field captures the grower's intended composition of the stand
              by assigning a proportional weight to each variety in the mixture.

              If all varieties are intended to contribute equally, the same
              value can be used for each (e.g., 1, 1, 1). Interpretation depends
              on the distribution of values across all components in the same
              mixture.

              This proportional method enables flexible modeling of
              multi-variety stands without requiring percentages or strict
              totals.

            validation_guidance: |
              - Must be a whole number between 1 and 100.
              - Represents the relative proportion of this variety in the intended seed mix.
              - These values will be normalized across all varieties in the group to derive percentage-based contribution estimates.
              - Do not include varieties with a representation target of `0`.

            cross_field_consistency: >
              - This value must be present for every listed forage_variety_component.
              - Interpretation depends on comparison with other component values in the same mixture.

          - id: variety_representation_result
            title: Observed proportion (%)
            data_type: float
            required: false
            valid_range:
              min: 0
              max: 100

            definition: >
              The observed or estimated contribution of this variety in the
              harvested hay, expressed as a percentage.

            narration: >
              This field represents the observed or estimated contribution of a
              specific forage variety to the harvested hay. Unlike the target
              value, this result is typically determined through visual
              inspection, post-harvest scouting, or lab analysis.

              It allows comparison between intended and actual stand outcomes
              and may inform future planning or support quality assurance and
              marketing claims.

            # Tooling must handle blank values.
            validation_guidance: >
              - Must be a decimal between 0.0 and 100.0.
              - Leave blank if the value is unknown or cannot be estimated.
              - Represents the estimated actual proportion of this variety in
                the mature stand.
              - Result values may differ from targets due to establishment
                variability, competition, or reseeding.
              - The total across all varieties should be approximately 100%
                when all components are known.

            cross_field_consistency: >
              - Values across all forage_variety_components should total
                approximately 100.
              - May differ from variety_representation_target due to growth
                patterns, weather, or harvest dynamics.

      - id: stand_maturity_at_harvest
        title: Maturity at harvest
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values_ref: stand_maturity_codes
        enum_source:
          id: stand_maturity_codes
          uri: references/stand_maturity_codes.yaml
          version: 0.90

        definition: >
          Records the developmental stage of the forage stand at harvest. This
          field reflects the dominant maturity of the forage species and
          supports nutritional modeling, quality grading, and feed planning.

        narration: |
          Different species use different maturity scales. For example:

          - Grass hays may be classified as vegetative, boot, heading, flowering, or mature.
          - Alfalfa hays may use terms such as early bud, late bud, full bloom, or post bloom.

          This field should be selected based on the predominant crop type and
          maturity at harvest. When more than one species is present, use the
          best descriptor for the overall stand maturity.

        validation_guidance: |
          - Valid values are referenced externally via the `stand_maturity_codes` list.
          - Must be consistent with `forage_type_classification`.
          - The reference list includes species-specific options and general codes such as `unknown`.

      - id: stand_establishment
        title: Stand establishment
        data_type: object
        required: false

        definition: >
          Describes when and how the forage stand was initially established.
          Establishment timing and method influence stand vigor, persistence,
          and species balance at harvest.

        narration: |
          This object includes two subfields:

          - `method` - the technique used to establish the stand (e.g., drilled, broadcast, sprigged).
          - `date` - the planting or sowing date, as precisely as is known.

          Together these support agronomic evaluation and can be used to
          estimate stand age, competitiveness, and compatibility with
          regenerative practices.

        validation_guidance: |
          - If one of the two subfields is provided, the other is not required.
          - If both are unknown, the entire object may be omitted.
          - The `method` field draws from the `stand_establishment_methods` enum.
          - The `date` field follows `YYYYMMDD` format and supports partial dates.

        fields:
          - id: method
            title: Establishment method
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values_ref: stand_establishment_methods
            enum_source:
              id: stand_establishment_methods
              uri: references/stand_establishment_methods.yaml
              version: 0.90

            definition: >
              The method used to establish the stand, such as drilling or
              broadcasting seed.

            narration: |
              Choose the technique that best describes the initial seeding or
              planting of the forage. This field supports analysis of stand
              performance, soil health, and agronomic practices.

            validation_guidance: |
              Must be one of the values defined in the
              `stand_establishment_methods` list.

          - id: date
            title: Establishment date
            data_type: date
            required: false

            definition: >
              The date on which the forage stand was seeded, sown, or otherwise
              established.

            narration: |
              This is typically the planting date. Use as much precision as is
              available. Supports evaluation of stand age, persistence, and
              maturity at harvest.

            validation_guidance: |
              - Format must follow `YYYYMMDD`.
              - Use `YYYYMM00` for unknown day.
              - Use `YYYY0000` for unknown month and day.
              - Use `00000000` if no date is known.

      - id: stand_density
        title: Stand density
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - sparse
          - moderate
          - dense
          - unknown

        definition: >
          A qualitative assessment of how thick or complete the forage canopy
          was at the time of harvest.

        narration: |
          This field captures the observed density of the forage stand at
          harvest. Higher density often indicates better productivity and more
          effective weed suppression.

          - `sparse` -- Thin coverage with visible gaps or bare soil.
          - `moderate` -- Typical coverage with average uniformity.
          - `dense` -- Lush and uniform canopy with few or no gaps.
          - `unknown` -- Density was not assessed or cannot be reported.

          Stand density provides useful context for interpreting forage quality,
          yield potential, and management history.

        validation_guidance: |
          - Must be one of: `sparse`, `moderate`, `dense`, or `unknown`.
          - This field may be left blank if density was not observed.

      - id: source_stand_age
        title: Stand age
        data_type: float
        required: false
        valid_range:
          min: 0
          max: 50

        definition: >
          Reports the number of full growing seasons the stand has been in
          production before harvest.

        narration: |
          This field indicates the age of the forage stand in completed growing
          seasons at the time of harvest. For example, a new seeding harvested
          in its first year should be recorded as `0`.

          Stand age can influence species persistence, yield potential, and
          nutrient demand. Younger stands may yield less or show dominance by
          aggressive species, while older stands may thin or shift in botanical
          composition.

          Understanding stand age supports agronomic planning and quality
          assessment, especially when paired with maturity, density, and
          establishment method.

        validation_guidance: |
          - Must be a decimal number between 0 and 50.
          - Use `0` for new plantings harvested in their establishment year.
          - Typical range is 1 to 7 years for alfalfa, and 1 to 20+ years for well-managed perennial grasses.

  - id: crop_management
    title: In-Season Crop Management

    definition: >
      Documents key management practices during the growing season, including
      irrigation, fertilization, pest and weed control, and field scouting.
      These inputs influence yield, quality, and safety.

    narration: |
      This section documents how the hay crop was managed during the growing
      season -- including cutting strategy, weed and pest management, and other
      contextual information such as weather stresses or field notes.

      These details help buyers and agronomists evaluate how active crop
      management may have influenced the resulting forage quality, consistency,
      and marketability.

    fields:
      - id: growth_conditions_notes
        title: Growth conditions notes
        data_type: string
        required: false

        definition: >
          Optional field for describing notable growing conditions that may have
          impacted the hay crop, such as drought, flooding, hail, or heat
          stress.

        narration: |
          This field allows producers to disclose unusual or noteworthy
          environmental factors that may have affected yield, quality, or field
          performance. Example entries:

          - Light drought stress during early growth; recovered by late season.
          - Localized hail damage in May.
          - Flooded low areas did not contribute to harvest.

          This information is optional but may support transparency in
          high-trust markets, niche quality claims, or export documentation.

        validation_guidance: |
          Optional free-text description of weather, irrigation, or growing
          conditions. Maximum 500 characters.

      - id: weed_pressure_observed
        title: Weed pressure observed
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - none
          - low
          - moderate
          - high
          - unknown

        definition: >
          Estimates the level of weed presence in the field during the growing
          season.

        narration: |
          This field supports transparency and may inform eligibility for
          certified weed free programs or affect buyer preferences.

          - `none` -- No visible weed pressure; stand appears clean and uniform.
          - `low` -- Minor weed presence; unlikely to affect palatability or marketability.
          - `moderate` -- Noticeable weed presence; may influence feed value or buyer preference.
          - `high` -- Significant weed presence; likely to reduce market value or trigger restrictions.
          - `unknown` -- Seller does not know or declined to report.

        validation_guidance: |
          Valid values: `none`, `low`, `moderate`, `high`, `unknown`.

      - id: hay_herbicide_treated
        title: Hay herbicide treated
        <<: *truthy_unknown

        definition: >
          Discloses whether herbicides were applied to the source field(s)
          during the growing season.

        narration: |
          Herbicide use may influence weed pressure, forage purity, and chemical
          residue risk.

          - `true` -- Herbicides were used.
          - `false` -- No herbicides were applied.
          - `unknown` -- Seller does not know or does not wish to disclose.

        validation_guidance: |
          Valid values: `true`, `false`, `unknown`.

      - id: glyphosate_application_status
        title: Glyphosate application status
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values:
          - not_applied
          - applied_pre_emergence_only
          - applied_pre_harvest
          - applied_to_forage_crop
          - unknown

        definition: >
          Indicates whether glyphosate was applied during the crops production
          cycle, and if so, at what stage. Pre-emergence refers to application
          before forage germination or regrowth. Pre-harvest refers to
          application shortly before cutting. Application to the forage crop
          includes any use where glyphosate made direct contact with marketable
          plant tissue, including to accelerate dry-down.

        narration: |
          This field allows sellers to disclose whether glyphosate was used
          during the production of the hay crop and, if so, at what stage.
          Glyphosate is widely used in conventional agriculture but is subject
          to special scrutiny in certain markets, especially for horse hay,
          organic programs, and export. This disclosure helps buyers assess
          potential concerns related to herbicide residue, crop termination
          practices, and regulatory compliance. The field distinguishes between
          early-season (pre-emergence) and late-season (pre- harvest or
          crop-directed) applications to provide additional transparency.

        validation_guidance: |
          - Must be one of the following values: `not_applied`, `applied_pre_emergence_only`, `applied_pre_harvest`, `applied_to_forage_crop`, or `unknown`.
          - If `applied_to_forage_crop`, disclosure of glyphosate residue testing or potential market restrictions may be warranted, especially for export, equine, or organic-sensitive buyers.

        cross_field_consistency: >
          - If `hay_herbicide_treated` is `false`, then `glyphosate_application_status` should be `not_applied`.
          - If `hay_herbicide_treated` is `unknown`, then `glyphosate_application_status` should be `unknown`.

      - id: pest_pressure_observed
        title: Pest pressure observed
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - none
          - low
          - moderate
          - high
          - unknown

        definition: >
          Reports the level of pest pressure observed during the growing season.

        narration: |
          This field helps assess environmental stress and potential yield or
          quality loss due to pest activity.

          - `none` -- No notable pest activity.
          - `low` -- Minor pest presence; little or no impact.
          - `moderate` -- Noticeable pest presence; some impact on leaf loss, yield, or quality.
          - `high` -- Major pest infestation likely to affect quality or marketability.
          - `unknown` -- Seller does not know or declined to report.

          Common pests may include aphids, armyworms, leafhoppers, or weevils.

        validation_guidance: |
          Valid values: `none`, `low`, `moderate`, `high`, `unknown`.

      - id: hay_pesticide_treated
        title: Hay pesticide treated
        <<: *truthy_unknown

        definition: >
          Discloses whether pesticides (excluding herbicides) such as insecticides, fungicides, or miticides were applied to the hay crop during the growing season.

        narration: |
          This field is important for organic compliance, residue monitoring, and protection of sensitive livestock species.
          - `true` -- One or more pesticide treatments were applied.
          - `false` -- No pesticide treatments were applied.
          - `unknown` -- Seller does not know or does not wish to disclose.

        validation_guidance: |
          Valid values: `true`, `false`, `unknown`.

      - id: hay_preservative_applied
        title: Hay preservative applied
        <<: *truthy_unknown

        definition: >
          Indicates whether a preservative -- such as propionic acid -- was applied to the hay during harvest or storage.

        narration: |
          Preservatives are used to inhibit mold growth and improve storability, especially for hay baled at higher moisture levels.
          - `true` -- A preservative was applied.
          - `false` -- No preservative was used.
          - `unknown` -- Seller does not know or does not wish to disclose.

        validation_guidance: |
          Valid values: `true`, `false`, `unknown`.

      - id: hay_coloring_agent_used
        title: Hay coloring agent used
        <<: *truthy_unknown

        definition: >
          Indicates whether a coloring agent was applied to the hay for cosmetic or marketing purposes.

        narration: |
          Coloring agents do not affect nutritional value but may influence buyer perception or market suitability.
          - `true` -- A coloring agent was used.
          - `false` -- No coloring agent was applied.
          - `unknown` -- Seller does not know or does not wish to disclose.

        validation_guidance: |
          Valid values: `true`, `false`, `unknown`.

      - id: expected_cuttings_per_season
        title: Expected cuttings per season
        data_type: int
        required: false
        valid_range:
          min: 1
          max: 10

        definition: >
          Represents the grower's customary number of hay cuttings per growing season, based on long-term practice with this stand or forage type.

        narration: |
          This field provides context about how intensively the forage stand is typically harvested. The number of cuttings reflects long-term grower practice and is influenced by
          factors such as crop species, climate, irrigation availability, and management goals. It offers insight into stand productivity, regrowth cycles, and how frequently the crop is
          removed during the growing season.

        validation_guidance: |
          - Must be a whole number between 1 and 10.
          - Represents the typical number of cuttings per year for this field.
          - Most grass systems range from 2 to 4 cuttings.
          - Alfalfa systems typically support 3 to 7 cuttings.
          - Values above 7 are rare and may reflect subtropical climates or intensive irrigation.

      - id: cutting_stage_intended
        title: Intended cutting stage
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values_ref: stand_maturity_codes
        enum_source:
          id: stand_maturity_codes
          uri: references/stand_maturity_codes.yaml
          version: 0.90

        definition: >
          Indicates the typical or intended growth stage at which the forage crop is
          cut, based on grower practice or management goals.

        narration: |
          This field records the growth stage at which the grower intends to cut the
          forage crop. The selected stage influences fiber content, digestibility,
          protein concentration, and overall feed value. Cutting earlier often improves
          quality but reduces yield; later stages boost yield but may lower palatability.

          The reported stage reflects agronomic practice or marketing preference, not
          necessarily what was achieved at harvest. For example, a grower may aim for
          boot stage in grasses or early bloom in alfalfa.

          This field is distinct from `stand_maturity_at_harvest`, which captures the
          observed maturity at the time of cutting.

        validation_guidance: |
          - Allowed values are drawn from the `stand_maturity_codes` reference list.
          - Only values with `typical_use_context: intended_stage` should be used.
          - Species-specific validation may use the `forage_type` metadata in the reference list to ensure consistency with `forage_species_type`.

        cross_field_consistency: >
          If `forage_species_type` is known, the selected `cutting_stage_intended`
          should be compatible with its associated `forage_type` in the referenced
          maturity stage list.

  - id: harvest
    title: Harvest-Level Data

    definition: >
      Records field-level harvest details including cutting, baling,
      conditioning, moisture at baling, and other time-sensitive actions.
      Provides context for forage quality and shelf life.

    narration: |
      This section documents key facts about the harvest event or events from
      which the hay was produced.

      It includes cutting number, harvest dates, field yield, and average bale
      weight -- along with indicators of harvest-specific practices such as
      conditioning.

      These fields provide crucial context for traceability, logistics, and
      quality interpretation, especially when evaluating consistency across
      lots, seasons, or producers.

      Accurate reporting of this data supports both market transparency and
      informed decision-making by buyers and nutritionists.

    fields:
      - id: harvest_duration
        title: Harvest duration
        data_type: object
        required: false

        fields:
          - id: harvest_start_datetime
            title: Harvest start date and time
            data_type: datetime
            required: true

            definition: >
              Represents the commencement date and time of the hay harvest, typically corresponding to the initiation of mowing.

            narration: |
              Records the initiation of harvesting operations for the hay lot. This date-time value marks when cutting began.

              - Used in conjunction with `harvest_end_datetime` to provide temporal context for evaluating curing conditions, weather exposure, and alignment with agronomic plans.
              - Especially relevant for traceability, quality assessment, and aligning with records of field operations.

            validation_guidance: |
              - Must be formatted as `YYYYMMDDHHMM`.
              - Use zero placeholders for unknown values in the datetime sequence. For example, if only year, month, and date are known, use `YYMMDD0000`.
              - This date helps consumers understand the age of the hay, its seasonal timing, and local weather correlations.
              - Must precede `harvest_date_end`.

            cross_field_consistency: >
              If `hay_single_lot_traceable` is true, the span between `harvest_start_datetime` and `harvest_end_datetime` must not exceed 48 hours.

          - id: harvest_end_datetime
            title: Harvest end date and time
            data_type: datetime
            required: true

            definition: >
              Represents the conclusion date and time of the hay harvest, typically corresponding to the removal of bales from the field.

            narration: |
              Records the conclusion of harvesting operations for the hay lot. This date-time value marks when bales were removed from the field for storage.

              - Used in conjunction with `harvest_start_datetime` to establish the full harvest window, evaluate drying time, and align with storage, logistics, or inspection records.
              - Important for assessing exposure risks and confirming lot closure for traceability and documentation.

            validation_guidance: |
              - Must be formatted as `YYYYMMDDHHMM`.
              - Use zero placeholders for unknown values in the datetime sequence. For example, if only year, month, and date are known, use `YYYYMMDD0000`.
              - Must not precede `harvest_start_datetime`.

            cross_field_consistency: >
              If `hay_single_lot_traceable` is true, the span between `harvest_start_datetime` and `harvest_end_datetime` must not exceed 48 hours.

      - id: hay_cutting
        title: Hay cutting
        data_type: int
        required: false
        valid_range:
          min: 1
          max: 10

        definition: >
          Indicates which cutting of the season produced this hay (e.g., 1 for
          first cutting, 2 for second cutting).

        narration: |
          This field provides context about the seasonal stage of production.
          Cutting number can influence maturity, nutrient profile, and buyer
          expectations. Earlier cuttings are often leafier and higher in
          digestibility, while later cuttings may offer higher yield or more
          fiber.

        validation_guidance: |
          - Must be a whole number between 1 and 10.
          - Indicates which cutting this hay lot came from during the current production season.
          - Values typically range from 1 to 4 in most systems.
          - Values above 6 are uncommon and usually reflect alfalfa grown under high-intensity or extended-season management.

      - id: baler_moisture_average
        title: Baler moisture average
        data_type: float
        required: false
        valid_range:
          min: 6
          max: 30

        definition: >
          Records the average hay moisture content at harvest, based on baler
          sensor data.

        narration: |
          This value reflects in-field moisture conditions during baling. It
          helps assess spoilage risk, guide storage practices, and indicate
          whether preservative use may have been necessary. Values above
          approximately 18.0 percent may indicate elevated risk of mold or
          heating if no preservative was applied.

        validation_guidance: |
          - Must be a decimal between 6.0 and 30.0.
          - Represents the average moisture content measured by the baler at the time of harvest.
          - Target baling moisture is typically between 12.0 and 18.0 percent depending on bale type.
          - Values below 10.0 may indicate overdrying.
          - Values above 20.0 may increase the risk of mold or heating in storage.

      - id: baler_moisture_high
        title: Baler moisture high
        data_type: float
        required: false
        valid_range:
          min: 6
          max: 40

        definition: >
          Records the highest observed hay moisture content at harvest, based on
          readings from baling equipment sensors.

        narration: |
          This field helps identify zones of elevated spoilage risk due to high
          moisture. When used alongside `baler_moisture_average`, it provides
          insight into variability across the lot. Values above 18.0 percent may
          signal increased risk of mold growth or internal heating during
          storage.

        validation_guidance: |
          - Must be a decimal between 6.0 and 40.0.
          - Represents the highest moisture reading recorded by the baler during this cutting.
          - Values above 20.0 percent increase the risk of mold, spoilage, or internal heating.
          - Values above 30.0 are rare and should be confirmed for accuracy or adjusted if using preservatives.

      - id: hay_conditioned
        title: Hay conditioned
        <<: *truthy_unknown

        definition: >
          Indicates whether hay was mechanically conditioned (e.g., crimped or
          crushed) during harvest.

        narration: |
          Conditioning accelerates drying and helps reduce nutrient loss from
          weathering. This practice can improve drying uniformity, reduce leaf
          loss, and enhance forage quality, particularly in legumes.

        validation_guidance: |
          - Valid values: `true`, `false`, `unknown`.
          - If the hay was not mechanically conditioned, the `false` value should be selected.
          - If conditioning status is not documented or unclear, use `unknown`.

      - id: bale_weight
        title: Bale weight
        data_type: object
        required: true

        fields:
          - id: bale_weight_intended
            title: Intended bale weight
            data_type: int
            required: false
            valid_range:
              min: 9
              max: 3000

            definition: >
              Targeted average bale weight set on the baler or planned by the grower before or during harvest.

            narration: |
              This value reflects the intended bale weight based on baler settings, grower preference, or market expectations. It helps buyers understand packaging consistency and logistical
              factors even if actual bale weights vary.

            validation_guidance: |
              - Must be a whole number representing the target or planned bale weight in the units specified by `bale_weight_units`.
              - Typical weight ranges by bale type and units:
              - `small_square`: 4080 lb or 1836 kg
              - `large_round`: 8001600 lb or 360730 kg
              - `large_square`: 10002000 lb or 450900 kg
              - Values above 2500 lb or 1100 kg are uncommon and should be confirmed for accuracy or bale type.

            cross_field_consistency: >
              - If `bale_shape` is `small_square`, then `bale_weight_intended` should typically be 4080 lb or 1836 kg.
              - If `bale_shape` is `large_round`, then `bale_weight_intended` should typically be 8001600 lb or 360730 kg.
              - If `bale_shape` is `large_square`, then `bale_weight_intended` should typically be 10002000 lb or 450900 kg.
              - If `bale_weight_units` is `kilograms`, ranges should be interpreted in kilograms.

          - id: bale_weight_average
            title: Average bale weight
            data_type: int
            required: true
            valid_range:
              min: 9
              max: 3000

            definition: >
              Average weight of the bales in the lot, either measured or estimated.

            narration: |
              This value represents the typical bale weight achieved in the lot. It may be derived from scale measurements, estimates, or equipment data. Accurate reporting supports
              inventory tracking, logistics, and buyer planning.

            validation_guidance: |
              - Must be a whole number representing the measured or estimated average weight of bales in this lot, using the units specified by `bale_weight_units`.
              - Typical weight ranges by bale type and units:
                  - `small_square`: 4080 lb or 1836 kg.
                  - `large_round`: 8001600 lb or 360730 kg.
                  - `large_square`: 10002000 lb or 450900 kg.
              - Values above 2500 lb or 1100 kg are uncommon and should be reviewed for accuracy or special packing conditions.
            cross_field_consistency: >
              - If `bale_shape` is `small_square`, then `average_bale_weight` should typically be 4080 lb or 1836 kg.
              - If `bale_shape` is `large_round`, then `average_bale_weight` should typically be 8001600 lb or 360730 kg.
              - If `bale_shape` is `large_square`, then `average_bale_weight` should typically be 10002000 lb or 450900 kg.
              - If `bale_weight_units` is `kilograms`, ranges should be interpreted in kilograms.

          - id: bale_weight_units
            title: Bale weight units
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

          - id: bale_weight_assessment_method
            title: Bale weight assessment method
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - truckload_average
              - explicit_weight
              - baler_target
              - grower_estimate_uniform_bales
              - grower_estimate_disparate_bales

            definition: >
              Specifies the method used to determine the reported average bale weight.

            narration: |
              This field clarifies how the average bale weight was determined, supporting transparency for buyers, inventory tracking, and pricing accuracy.
              - `truckload_average`  Based on dividing a known truckload weight by bale count.
              - `explicit_weight`  Directly measured on a certified or calibrated scale.
              - `baler_target`  Based on baler configuration or intended setting.
              - `grower_estimate_uniform_bales`  Visual or experiential estimate assuming bales are similar in size.
              - `grower_estimate_disparate_bales`  Estimate based on variable bale sizes, possibly with added adjustments.

            validation_guidance: |
              Valid values: `truckload_average`, `explicit_weight`, `baler_target`, `grower_estimate_uniform_bales`, `grower_estimate_disparate_bales`.

      - id: source_field_yield
        title: Source field yield
        data_type: object
        required: false

        fields:
          - id: source_field_bale_count
            title: Source field bale count
            data_type: int
            required: false
            valid_range:
              min: 1
              max: 10000

            definition: >
              Total number of bales produced for this hay lot.

            narration: |
              Bale count is essential for calculating inventory, estimating total yield, and planning logistics. It also supports traceability and reconciliation with weight-based yield
              figures when combined with average bale weight.

            validation_guidance: |
              - Must be a whole number between 1 and 10000.
              - Represents the total number of bales produced for this hay lot.
              - Typical field lots contain 50 to 5000 bales depending on bale size and acreage.
              - Values above 10000 are common in large-scale operations.
              - Values above 50000 should be reviewed for inventory or entry error.

          - id: source_field_yield_weight
            title: Source field yield weight
            data_type: float
            required: false
            valid_range:
              min: 0.1
              max: 200

            definition: >
              Total yield, expressed as a weight, from the source field or combined fields that produced this hay.

            narration: |
              This value helps assess field productivity, support inventory reconciliation, and enable comparisons across seasons, stands, or practices. It may be measured or estimated, but
              should align with the declared units for clarity and consistency.

            validation_guidance: |
              - Must be a positive decimal between 0.1 and 200.0.
              - Represents the total yield from the source field for this hay lot.
              - Interpretation depends on `source_field_yield_units`.
              - Typical hay yields range from 0.5 to 8.0 tons per acre per cutting.
              - Values above 50 tons may reflect total across multiple fields or unusually large-scale production.

          - id: source_field_yield_units
            title: Source field yield units
            data_type: enum
            required: false
            required_if:
              field: source_field_yield_weight
              operator: value_present
              value: true
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              Specifies the unit of measure used to report the total field yield in `source_field_yield`.

            narration: |
              This field defines how the yield value is expressed.
              - `metric_tons`  1,000 kilograms (approximately 2,204.62 pounds).
              - `british_long_tons`  2,240 pounds.
              - `us_short_tons`  2,000 pounds.
              Consistent and accurate unit reporting ensures comparability across records and supports correct interpretation of total yield, logistics, and pricing.

            validation_guidance: |
              - Valid values: `metric_tons`, `british_long_tons`, `us_short_tons`.
              - Required if `source_field_yield` is populated.

  - id: packaging
    title: Hay Packaging

    definition: >
      Describes how the hay was packaged, including bale type, dimensions,
      wrapping materials, and labeling. Essential for logistics, compatibility
      with handling equipment, and product identification.

    narration: |
      This section describes the physical form in which the hay is currently
      packaged for sale or shipment. It includes bale dimensions, binding
      material, compression method, and other packaging details that affect
      storage, transport, handling, and customer preferences.

      Packaging specifications may differ from original harvest conditions --
      particularly in cases where hay has been rebaled or processed after the
      initial cutting. Buyers rely on this data to assess compatibility with
      feeding systems, freight capacity, and regulatory or market requirements.

      Note: Some hay may be reprocessed or rebaled after the initial harvest.
      Fields in this section (including weight, shape, and compression) describe
      the hay as currently packaged for sale or shipment -- which may differ
      from the original harvest form.

    fields:
      - id: hay_packaging_history
        title: Hay packaging history
        data_type: enum
        required: true
        enum_select_mode: multiple
        valid_values:
          - original
          - rebaled
          - repackaged
          - compressed
          - unknown

        definition: >
          Indicates whether the hay has undergone any additional packaging
          processes after its initial baling.

        narration: |
          This field provides a simple disclosure of whether the hay has been
          handled beyond its original bale form.

          - `original`  Packaged only once, as initially baled.
          - `rebaled`  Removed from original bale and baled again without major format change.
          - `repackaged`  Converted to a different bale format (e.g., large square to small square).
          - `compressed`  Compressed for storage, containerization, or export.
          - `unknown`  Packaging history not disclosed or not recorded.

        validation_guidance: |
          Valid values: `original`, `rebaled`, `repackaged`, `compressed`,
          `unknown`. If `original` or `unknown`, select no other options.

      - id: repackaged_bale_weights
        title: Repackaged bale weights
        data_type: object
        required: false

        fields:
          - id: weight
            title: Weight
            data_type: float
            required: false
            valid_range:
              min: 1
              max: 3000

            definition: >
              Represents the intended weight of each bale in its final, repackaged form.

            narration: |
              This value reflects the grower's or processor's target weight for
              bales after any post-harvest handling. It supports clarity in retail,
              export, or rebaled contexts and helps reconcile physical inventory and
              pricing.

            validation_guidance: |
              - Must be a whole number between 1 and 3000.
              - Represents the intended weight per bale after repackaging, in the units defined by `bale_weight_units`.
              - This may differ from original bale weights due to resizing or compression for shipping.
              - Typical values follow the same range as original bale weights.
              - Values above 2500 may indicate special handling or export requirements and should be reviewed for accuracy.

          - id: bale_weight_units_repackaged
            title: Repackaged bale weight units
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values_ref: units
            enum_source:
              id: units
              uri: references/units.yaml
              version: 0.90

            definition: >
              Specifies the unit of measure used for reporting bale weights.

            narration: |
              This field defines the unit system used for both `bale_weight_intended` and `average_bale_weight`, as well as `bale_weight_intended_repackaged` if applicable.
              - `pounds` Commonly used in the United States.
              - `kilograms` Standard in most international markets. Consistent unit usage supports accurate interpretation, trade, and conversion across systems.

            validation_guidance: |
              Valid values: `pounds`, `kilograms`.

      - id: bale_binding_material
        title: Bale Binding Material
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values_ref: bale_binding_material
        enum_source:
          id: bale_binding_material
          uri: references/bale_binding_material.yaml
          version: 0.1.0

        narration: |
          Binding material influences handling, market acceptance, and environmental impact.
          - `plastic_twine`  Synthetic twine commonly used in modern baling.
          - `sisal_twine`  Natural fiber twine, biodegradable and often preferred in sensitive markets.
          - `wire`  Metal wire, typically used for compressed or export bales.
          - `net_wrap`  Plastic mesh wrap, common for round bales.
          - `plastic_strap`  Rigid synthetic strapping used for compressed or high-density bales.
          - `other`  Material not listed.
          - `unknown`  Binding material not known or not disclosed.
        definition: >
          Identifies the primary material used to bind or secure the hay bale.
        validation_guidance: |
          Valid values: `plastic_twine`, `sisal_twine`, `wire`, `net_wrap`, `plastic_strap`, `other`, `unknown`.

      - id: bale_format_descriptor
        title: Bale format descriptor
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values_ref: bale_formats
        enum_source:
          id: bale_formats
          uri: references/bale_formats.yaml
          version: 0.90
        narration: |
          This field helps buyers and logistics personnel understand the bale's form factor and binding configuration.
          - `small_two_strand`  Small rectangular bale bound with two strands of twine.
          - `small_three_strand`  Small rectangular bale bound with three strands of twine.
          - `large_3x3x8`  Large square bale approximately 3x3x8 feet.
          - `large_3x4x8`  Large square bale approximately 3x4x8 feet.
          - `large_4x4x8`  Large square bale approximately 4x4x8 feet.
          - `round_twine`  Round bale secured with twine.
          - `round_net_wrap`  Round bale secured with net wrap.
          - `round_plastic_wrap`  Round bale wrapped entirely in plastic film.
          - `other`  Format not listed.
        definition: >
          Specifies the bale format and associated binding configuration, typically used to describe the physical structure and handling characteristics of the bale.
        validation_guidance: |
          Valid values: `small_two_strand`, `small_three_strand`, `large_3x3x8`, `large_3x4x8`, `large_4x4x8`, `round_twine`, `round_net_wrap`, `round_plastic_wrap`, `other`.

      - id: hay_compression
        title: Hay Compression
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values:
          - none
          - single_compressed
          - double_compressed
          - unknown

        definition: >
          Indicates whether the hay has been mechanically compressed after baling to reduce volume or facilitate transport.

        narration: |
          Compression affects bale density, handling requirements, and suitability for export.
          - `none`  No mechanical compression beyond original baling.
          - `single_compressed`  Compressed once after initial baling.
          - `double_compressed`  Compressed twice, often for export or containerization.
          - `unknown`  Compression status not known or not disclosed.

        validation_guidance: |
          Valid values: `none`, `single_compressed`, `double_compressed`, `unknown`.

      - id: bale_shape
        title: Bale Shape
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values:
          - small_rectangular
          - large_rectangular
          - round
          - other

        definition: >
          Specifies the general shape or geometry of the bale.

        narration: |
          Bale shape affects stacking, handling equipment, and compatibility with transportation systems.
          - `small_rectangular`  Typically hand-stacked, manageable by one person.
          - `large_rectangular`  Mechanically handled, often used in commercial operations or export.
          - `round`  Cylindrical bales rolled in the field, often net or twine-wrapped.
          - `other`  Shape not listed.

        validation_guidance: |
          Valid values: `small_rectangular`, `large_rectangular`, `round`, `other`.

      - id: bale_dimensions
        title: Bale dimensions
        data_type: object
        required: false

        components:
          - id: width_float
            title: Width
            data_type: float
            required: false
            valid_range:
              min: 13
              max: 250

            definition: >
              Specifies the intermediate dimension of a rectangular bale, based
              on the relative length of its sides.

            narration: |
              For rectangular bales, width is defined as the second-longest
              side. This approach ensures consistency regardless of bale
              orientation during storage or transport. Used together with length
              and height, this field supports volume calculations, space
              planning, and equipment compatibility.

            validation_guidance: |
              - Must be a decimal number between 13.0 and 250.0.
              - Units are defined by `bale_dimension_units`.
              - Applies only to bales with `bale_shape` of `small_rectangular` or `large_rectangular`.
              - Typical width values for small rectangular bales range from 14 to 18 inches (36 to 46 cm); large bales may range from 32 to 48 inches (81 to 122 cm).
              - For round bales, this field should be left blank or omitted.

          - id: height_float
            title: Height
            data_type: float
            required: false
            valid_range:
              min: 13
              max: 250

            definition: >
              Specifies the shortest dimension of a rectangular bale, based on
              the relative length of its sides.

            narration: |
              For rectangular bales, height is defined as the shortest of the
              three sides. This standardized interpretation improves consistency
              in documenting bale geometry and supports accurate modeling of
              stack height and loading patterns.

            validation_guidance: |
              - Must be a decimal number between 13.0 and 250.0.
              - Units are defined by `bale_dimension_units`.
              - Applies only to bales with `small_rectangular` or `large_rectangular` shape.
              - Typical height values for small bales range from 14 to 18 inches (36 to 46 cm); large bales may be taller.
              - For round bales, this field should be left blank or omitted.

          - id: length_float
            title: Length
            data_type: float
            required: false
            valid_range:
              min: 20
              max: 190

            definition: >
              Specifies the longest dimension of a rectangular bale, based on
              the relative length of its sides.

            narration: |
              For rectangular bales, length is defined as the longest of the
              three dimensions. This standardization ensures consistency across
              records and enables accurate calculation of volume, pallet
              configuration, and transport requirements.

            validation_guidance: |
              - Must be a decimal number between 20.0 and 190.0.
              - Units are defined by `bale_dimension_units`.
              - Applies only to bales with `small_rectangular` or `large_rectangular` shape.
              - Typical length values are 36 to 42 inches (91 to 107 cm) for small bales and up to 96 inches (244 cm) for large bales.
              - For round bales, this field should be left blank or omitted.

          - id: diameter
            title: Diameter
            data_type: float
            required: false
            valid_range:
              min: 13
              max: 250

            definition: >
              Specifies the diameter of a round bale, measured across its
              circular face.

            narration: |
              Diameter is a key measurement for round bales, affecting storage
              space, wrapping requirements, and equipment compatibility. This
              value, combined with axis length, can also be used to estimate
              volume.

            validation_guidance: |
              - Must be a decimal number between 13.0 and 250.0.
              - Units are defined by `bale_dimension_units`.
              - Applies only to bales with `bale_shape` of `round`.
              - Typical round bale diameters range from 48 to 72 inches (122 to 183 cm).
              - For rectangular bales, this field should be left blank or omitted.

          - id: bale_dimension_axis
            title: Bale Dimension Axis
            data_type: float
            required: false
            valid_range:
              min: 20
              max: 190

            definition: >
              Specifies the axis of a round bale, measured from flat face to
              flat face.

            narration: |
              The axis is the lengthwise measurement of a round bale and,
              together with diameter, defines its full dimensions. This
              measurement is important for modeling storage density, wrapping
              needs, and fitting bales into transport systems.

            validation_guidance: |
              - Must be a decimal number between 20.0 and 190.0.
              - Units are defined by `bale_dimension_units`.
              - Applies only to bales with `bale_shape` of `round`.
              - Typical round bale axis lengths range from 60 to 72 inches (152 to 183 cm).
              - For rectangular bales, this field should be left blank or omitted.

      - id: bale_dimension_units
        title: Bale Dimension Units
        data_type: enum
        required: false
        required_if:
          any_populated:
            - bale_dimension_width
            - bale_dimension_height
            - bale_dimension_length
            - bale_dimension_diameter
            - bale_dimension_axis
          operator: value_present
          value: true
        enum_select_mode: single
        valid_values:
          - inches
          - centimeters
          - feet
          - meters

        definition: >
          Specifies the unit of measure used for all bale dimension fields:
          bale_dimension_width, bale_dimension_height, bale_dimension_length,
          bale_dimension_diameter, and bale_dimension_axis.

        narration: |
          - Valid values: `inches`, `centimeters`, `feet`, `meters`.
          - Applies to all dimension fields including `bale_dimension_width`, `bale_dimension_height`, `bale_dimension_length`, `bale_dimension_diameter`, and `bale_dimension_axis`.
          - Select a consistent unit for all bale dimensions within each record.
          - Typical value ranges provided in other fields are expressed in both inches and centimeters; interpretation depends on the selected unit.
          - If using `feet` or `meters`, ensure that recorded values reflect proper conversions from standard reference ranges.

        validation_guidance: |
          - Required if any `bale_dimension_*` fields are populated.
          - Valid values: `inches`, `centimeters`.
          - Applies to all dimension fields including `bale_dimension_width`, `bale_dimension_height`, `bale_dimension_length`, `bale_dimension_diameter`, and `bale_dimension_axis`.
          - Select a consistent unit for all bale dimensions within each record.
          - Typical value ranges provided in other fields are expressed in both inches and centimeters; interpretation depends on the selected unit.

      - id: unitization
        title: Unitization (bundles and pallets)
        data_type: "object[]"
        required: false

        definition: >
          Describes packaging and handling units above the single-bale level, such as
          bundled bales and palletized loads, to support handling, logistics, and
          order configuration.

        narration: |
          Use this group to record how bales are grouped for handling. Common
          examples include:
            - Fixed-count bundles (e.g., 21 two-strand bales per bundle)
            - Palletized units (bundles or loose bales stacked on a pallet and wrapped)
          Provide one object per distinct unit configuration used for the lot.

        fields:
          - id: unitization_method
            title: Unitization method
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - bundle
              - palletized
              - none

            definition: >
              Indicates the packaging approach above the single-bale level.

            validation_guidance: |
              - Use 'bundle' for strapped/wrapped sets of bales without a pallet.
              - Use 'palletized' for bales or bundles placed on a pallet.
              - Use 'none' if bales are shipped loose (no higher-level unit).

          - id: bales_per_bundle
            title: Bales per bundle
            data_type: int
            required: false

            definition: >
              Number of bales contained in a single bundle unit.

            validation_guidance: |
              - Required if unitization_method == 'bundle'.
              - Valid range: 2 to 40.
              - For typical two-strand small squares, common values are 14 to 21.

          - id: bundles_per_pallet
            title: Bundles per pallet
            data_type: int
            required: false

            definition: >
              Number of bundles stacked on one pallet.

            validation_guidance: |
              - Required if unitization_method == 'palletized' and pallet_contents == 'bundles'.
              - Valid range: 1 to 30.

          - id: bales_per_pallet
            title: Bales per pallet
            data_type: int
            required: false

            definition: >
              Number of loose bales stacked directly on one pallet (no intermediate bundles).

            validation_guidance: |
              - Required if unitization_method == 'palletized' and pallet_contents == 'bales'.
              - Valid range: 2 to 200.

          - id: pallet_contents
            title: Pallet contents
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values:
              - bundles
              - bales

            definition: >
              Specifies whether the pallet holds bundles or loose bales.

            validation_guidance: |
              - Required if unitization_method == 'palletized'.
              - If 'bundles', supply bundles_per_pallet and bales_per_bundle (if applicable).
              - If 'bales', supply bales_per_pallet.

          - id: unit_label
            title: Unit label
            data_type: string
            required: false
            max_length: 60

            definition: >
              Seller-facing shorthand label for the unit (e.g., '21-bale bundle',
              '2 bundles per pallet', '48x40 pallet').

            validation_guidance: |
              - ASCII characters only.
              - Optional, for display on quotes, BOLs, or pick tickets.

          - id: unit_weight
            title: Unit weight
            data_type: object
            required: false
            fields:
              - id: magnitude_int
                title: Magnitude
                data_type: int
                required: true
                valid_range:
                  min: 1
                  max: 20000

              - id: units
                title: Units
                data_type: enum
                required: true
                enum_select_mode: single
                valid_values_ref: units
                enum_source:
                  id: units
                  uri: references/units.yaml
                  version: 0.90

            definition: >
              Gross weight of the handling unit (bundle or pallet), including any
              strapping, wrap, and pallet if present.

            validation_guidance: |
              - Recommended units: lb or kg.
              - May be derived from average_bale_weight * bales_per_bundle (and bundles_per_pallet if palletized).

          - id: unit_dimensions
            title: Unit dimensions
            data_type: object
            required: false
            fields:

              - id: length_int
                title: Length
                data_type: int
                required: true
                valid_range: { min: 10, max: 400 }   # typical inches or cm ranges
              - id: width_int

                title: Width
                data_type: int
                required: true
                valid_range: { min: 10, max: 200 }

              - id: height_int
                title: Height
                data_type: int
                required: true
                valid_range: { min: 10, max: 250 }

              - id: units
                title: Units
                data_type: enum
                required: true
                enum_select_mode: single
                valid_values_ref: units
                enum_source:
                  id: units
                  uri: references/units.yaml
                  version: 0.90

            definition: >
              Outer dimensions of the handling unit (bundle or pallet) for storage,
              transport planning, and cube optimization.

            validation_guidance: |
              - Recommended units: in, cm.
              - For pallets, dimensions refer to footprint and overall stack height.

          - id: securement
            title: Securement
            data_type: object
            required: false
            fields:
              - id: method
                title: Method
                data_type: enum
                required: false
                enum_select_mode: single
                valid_values:
                  - twine
                  - netwrap
                  - stretch_wrap
                  - strapping
                  - film_wrap
                  - none

              - id: material_details
                title: Material details
                data_type: string
                required: false
                max_length: 120

            definition: >
              Materials or methods used to bind bundles or stabilize pallet loads.

            validation_guidance: |
              - ASCII characters only for material_details.
              - If method == 'none', omit material_details.

          - id: pallet_specs
            title: Pallet specs
            data_type: object
            required: false
            fields:
              - id: pallet_type
                title: Pallet type
                data_type: enum
                required: false
                enum_select_mode: single
                valid_values:
                  - stringer_48x40_in
                  - euro_1200x800_mm
                  - block_other
                  - custom

              - id: pallet_mass
                title: Pallet mass
                data_type: object
                required: false
                fields:
                  - id: magnitude_int
                    title: Magnitude
                    data_type: int
                    required: true
                    valid_range: { min: 5, max: 100 }

                  - id: units
                    title: Units
                    data_type: enum
                    required: true
                    enum_select_mode: single
                    valid_values_ref: units
                    enum_source:
                      id: units
                      uri: references/units.yaml
                      version: 0.90

            definition: >
              Optional description of the pallet platform when unitization_method is
              'palletized'.

            validation_guidance: |
              - If unitization_method != 'palletized', omit pallet_specs.
              - pallet_mass typically 15 to 50 lb (or 7 to 23 kg) depending on design.

        validation_guidance: |
          - Provide one object per distinct unitization choice used in the lot.
          - Cross-field consistency:
            - If unitization_method == 'bundle': bales_per_bundle is required.
            - If unitization_method == 'palletized' and pallet_contents == 'bundles':
              bundles_per_pallet is required; bales_per_bundle recommended.
            - If unitization_method == 'palletized' and pallet_contents == 'bales':
              bales_per_pallet is required.
            - If both bundles_per_pallet and bales_per_bundle are supplied,
              implied_bales_per_pallet = bundles_per_pallet * bales_per_bundle
              should equal bales_per_pallet when provided.
          - unit_weight may be derived from bale counts and average_bale_weight
            if not directly measured; document derivation in release notes if needed.
          - Dimensions and weights must use explicit units; see unit_handling_policy in the header.
          - ASCII-only values in YAML. Non-ASCII may be introduced at export per character_encoding_policy.

  - id: traceability
    title: Traceability

    definition: >
      Defines how the hay can be traced back to its origin, including internal
      and external lot identifiers and optional field-to-bale mapping. Supports
      logistical transparency, documentation, and regulatory compliance.

    narration: |
      This section captures whether the hay can be traced to a clearly defined production lot and
      whether formal identifiers exist that facilitate lot-level tracking, recall, or certification.

      Traceability is increasingly important in high-value or regulated markets, as it supports
      inventory segregation, quality assurance, documentation of origin, and post-sale issue
      resolution. It enables sellers to demonstrate chain of custody, buyers to verify source
      conditions, and all parties to manage logistics and compliance more effectively.

    fields:
      - id: hay_single_lot_traceable
        title: Hay single lot traceable
        data_type: boolean
        required: true

        definition: >
          Affirms whether the hay being described originates from a single, defined lot, harvested under uniform agronomic and environmental conditions.

        narration: |
          A lot is defined as forage taken from the same farm, field, and cut, harvested and stored under uniform conditions within a 48-hour period, as described in Ball et al. (2001).
          This designation supports clarity in nutritional representation, quality assessment, and logistical consistency. Where hay is mixed across cuts, fields, or harvest conditions,
          the value should be `false`.

        validation_guidance: |
          - Valid values: `true`, `false`.
          - Use `true` only if all bales included in the described unit meet the lot definition without exception.

      - id: lot_identifiers
        title: Lot identifiers
        data_type: object
        required: false

        fields:
          - id: lot_identifier_internal
            title: Lot identifier internal
            data_type: string
            required: false

            definition: >
              This field allows the seller to assign an internal identifier to the lot from which the hay originated.

            narration: |
              The internal identifier may reflect farm, field, cutting, or date conventions relevant to the seller's operation. It does not need to conform to any industry standard but
              should be unique within the seller's system.

              It may be used for inventory management, customer reference, and traceability across quality or testing modules.

            validation_guidance: |
              An internal identifier assigned by the producer or handler. Maximum length: 100 characters.

          - id: lot_identifier_external
            title: Lot identifier external
            data_type: object
            required: false

            definition: >
              A structured identifier used to associate the hay lot with an external tracking or documentation system.

            narration: |
              This component captures an externally issued lot identifier and its issuing authority.
              - Component includes the following fields: `lot_identifier_external_value`, `lot_identifier_external_issuer`.
              - If `lot_identifier_external` is provided, both `lot_identifier_external_value` and `lot_identifier_external_issuer` must be completed.
              - Each value must be a string not exceeding 100 characters.

            validation_guidance: |
              - All component fields must be completed if this component is present.
              - Each field must contain a string no longer than 100 characters.
              - Values should be issued by a recognized organization, such as a cooperative, exporter, certifying agency, or regulatory body.

            fields:
              - id: lot_identifier_external_value
                title: Lot identifier external value
                data_type: string
                required: false

                definition: >
                  This field records the externally issued lot identifier assigned to the hay or forage lot by a regulatory, certifying, or export authority.

                narration: |
                  External lot identifiers may appear on documents such as:

                  - Organic certificates (e.g., USDA NOP Lot #12345)
                  - Phytosanitary inspection reports
                  - Export documents or permits
                  - Weed-free forage program tags or declarations

                  The value may include letters, numbers, or a combination thereof. Systems should preserve the identifier exactly as provided by the issuing body, including any dashes,
                  slashes, or formatting symbols.

                  This field enhances traceability and may support validation workflows, especially in regulated or export-focused markets.

                validation_guidance: |
                  Free-text field. Maximum length: 100 characters. Preserve formatting as issued.

              - id: lot_identifier_external_issuer
                title: Lot identifier external issuer
                data_type: string
                required: false
                required_if:
                  field: lot_identifier_external_value
                  operator: value_present
                  value: true

                definition: >
                  Identifies the organization or program that issued the external lot identifier used to track the hay lot.

                narration: |
                  This field specifies the certifying or regulatory body that assigned the external lot identifier. Examples may include government agencies (e.g., USDA, CFIA), organic
                  certification bodies, weed-free forage programs, or export compliance authorities.

                  Referencing an external list ensures consistency across systems while allowing flexibility for less common or custom issuers. Structured issuer data improves traceability and
                  supports document integration and validation workflows.

                validation_guidance: |
                  - Required if `lot_identifier_external` is populated.
                  - Must match an entry from the reference list of external lot identifier issuers.
                  - Contact the publisher for the current list of accepted issuers.
                  - Maximum length: 100 characters.

      - id: lot_mapping_field_to_bale_supported
        title: Lot mapping field to bale supported
        data_type: boolean
        required: false

        definition: >
          Indicates whether the seller maintains a system (digital or physical) for mapping specific bales or sub-lots to field-level characteristics.

        narration: |
          This field affirms whether bale-level traceability is supported -- such as mapping individual bales to GPS coordinates, yield zones, harvest blocks, or storage groupings.

          Field-to-bale mapping allows for more precise tracking of forage origin, quality gradients, and logistical handling. This capability enhances transparency, supports premium
          markets, and may enable integration with field data platforms or precision agriculture systems.

        validation_guidance: |
          Valid values: true, false

  - id: physical_characteristics
    title: Physical Characteristics and Condition

    definition: >
      Records visual and physical observations of the hay at the time of sale or
      inspection, including texture, color, odor, presence of contaminants, and
      general condition.

    narration: |
      This section captures the visible, tactile, and olfactory traits of the
      hay, as well as relevant effects from post-harvest weather exposure and
      storage-related degradation.

      These characteristics help buyers assess product condition, identify
      potential quality risks, and determine suitability for specific uses or
      animal classes.

    fields:
      - id: weather_damage_windrow
        title: Weather damage windrow
        data_type: object
        required: true

        definition: >
          Records the presence and extent of weather-related damage that occurred
          while the forage was in the windrow stage (before baling), due to
          factors such as rain, sleet, hail, or fog.

        narration: |
          Exposure to adverse weather during the windrow stage can significantly
          reduce hay quality, affecting color, nutrient content, palatability,
          and microbial load. Even brief rain events can leach soluble nutrients
          or promote spoilage. This field captures seller-reported conditions
          and provides transparency to buyers evaluating risk or feed value.

          Common weather factors assessed include rainfall, hail, and flooding.
          Damage assessments may be qualitative or based on field logs.

        validation_guidance: |
          - This is a required structural field that groups component fields representing different weather events.
          - Each component field within this object should represent a specific weather factor (e.g., `rain`, `hail`) and its assessed impact.
          - Systems should treat a fully blank or null group as an indication of "no known damage."
          - Values within this object must follow any enumerated schema defined for severity or presence (e.g., `true`, `false`, `unknown`).

        fields:
          - id: weather_damage_windrow_rain
            title: Weather damage windrow rain
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay was rained on while in the windrow.

            narration: |
              Exposure to rain in the windrow can increase surface moisture,
              delay curing, and reduce forage quality through leaching and
              microbial activity.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if rain occurred after cutting and before baling.

          - id: weather_damage_windrow_snow
            title: Weather damage windrow snow
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay was exposed to snow in the windrow.

            narration: |
              Snowfall on windrowed hay may cause freezing, delay drying, and
              contribute to uneven curing or mold risk.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if snow fell on the hay while in the windrow stage.

          - id: weather_damage_windrow_sleet
            title: Weather damage windrow sleet
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay experienced sleet while in the windrow.

            narration: |
              Sleet can introduce moisture and freeze-thaw conditions, leading
              to stem bruising, prolonged drying, or nutrient loss.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if sleet occurred before baling, while the hay was windrowed.

          - id: weather_damage_windrow_hail
            title: Weather damage windrow hail
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay experienced hail in the windrow.

            narration: |
              Hail may physically damage hay in the windrow, causing leaf shatter, bruising, and reduced forage value.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if hail fell on hay after cutting and before baling.

          - id: weather_damage_windrow_fog
            title: Weather damage windrow fog
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay was exposed to fog in the windrow.

            narration: |
              Persistent fog can slow drying and promote mold development by
              contributing to prolonged surface moisture.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if fog conditions delayed curing during the windrow stage.

          - id: weather_damage_windrow_dewfall
            title: Weather damage windrow dewfall
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay experienced dewfall in the windrow.

            narration: |
              Heavy dewfall may prolong drying or cause leaf stickiness,
              affecting baling decisions and potential nutrient loss.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if dew was significant enough to affect windrow drying behavior.

          - id: weather_damage_windrow_assessment
            title: Weather damage windrow assessment
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - none
              - minor
              - modest
              - substantial
              - unknown

            definition: >
              Optional comment on the type or extent of windrow weather damage.

            narration: |
              Summarizes the degree of weather impact observed while the hay was
              in the windrow stage. This field provides an overall impression
              based on field observations or records.

            validation_guidance: |
              - Valid values: `none`, `light`, `moderate`, `severe`, `unknown`.
              - Choose the level that best reflects the overall impact of weather events during the windrow period.

      - id: weather_damage_baled
        title: Weather damage baled
        data_type: object
        required: true

        definition: >
          Records the presence and extent of weather-related damage that
          occurred after baling, including exposure to rain, flooding, or other
          environmental events during storage, transit, or handling.

        narration: |
          Once baled, hay is vulnerable to water infiltration and humidity that
          can result in mold, discoloration, and spoilage. This field documents
          any post-baling exposure to weather that could degrade product quality.

          Transparency about post-baling weather exposure helps avoid disputes
          related to mold, heat damage, or moisture-triggered microbial activity.

        validation_guidance: |
          - This is a required structural field that groups component fields representing different post-baling weather exposures.
          - Each component should identify a specific weather factor and its observed or suspected impact on the hay.
          - A fully blank or null object may be interpreted as "no known damage."
          - Valid values in the components should conform to any schema governing weather exposure assessments.

        fields:
          - id: weather_damage_baled_rain
            title: Weather damage baled rain
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay was rained on after baling.

            narration: |
              Rain falling on baled hay can lead to rewetting, mold growth,
              heating, or spoilage -- especially in uncovered storage
              conditions.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if the bales were rained on after baling.

          - id: weather_damage_baled_snow
            title: Weather damage baled snow
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay was exposed to snow after baling.

            narration: |
              Snow on baled hay can contribute to moisture buildup and
              degradation if it melts or freezes repeatedly before storage.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if snow fell on hay after baling and before covered storage.

          - id: weather_damage_baled_sleet
            title: Weather damage baled sleet
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay experienced sleet after baling.

            narration: |
              Sleet on bales may introduce external moisture or ice, especially
              on field-cured or uncovered stacks.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if sleet affected bales after harvest.

          - id: weather_damage_baled_hail
            title: Weather damage baled hail
            <<: *truthy_unknown

            definition: >
              Indicates whether the hay experienced hail after baling.

            narration: |
              Hail can damage bales by puncturing wrap or exposing inner
              material to weather, especially during storage or transit.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if hail impacted bales post-baling.

          - id: weather_damage_baled_moisture
            title: Weather damage baled moisture
            <<: *truthy_unknown

            definition: >
              Indicates whether bales show signs of moisture exposure
              post-baling.

            narration: |
              This field captures whether surface or internal moisture was
              observed on bales at the time of inspection, regardless of weather
              source.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if moisture was evident on the bale surface or within during storage or transport.

          - id: weather_damage_baled_assessment
            title: Weather damage baled assessment
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - none
              - minor
              - modest
              - substantial
              - unknown

            definition: >
              Optional comment on the type or extent of post-baling weather
              damage.

            narration: |
              Summarizes the extent of weather-related damage observed after
              baling. May reflect discoloration, mold, softened texture, or
              visible deterioration.

            validation_guidance: |
              - Valid values: `none`, `light`, `moderate`, `severe`, `unknown`.
              - Choose the level that best describes the overall condition of bales as affected by weather post-harvest.

      - id: hay_leafiness
        title: Hay Leafiness
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - very_leafy
          - leafy
          - slightly_stemmy
          - stemmy

        definition: >
          Indicates the degree of leaf retention and presence relative to stems.

        narration: |
          Leafiness is a strong indicator of forage quality, especially in legumes.

        validation_guidance: |
          - Valid values: `very_leafy`, `leafy`, `slightly_stemmy`, `stemmy`.
          - Select the value that best describes the observed proportion of leaves to stems in the hay.
          - Leafier hay is generally preferred for higher-quality forage, particularly in legumes.

      - id: hay_texture
        title: Hay Texture
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - very_soft_and_pliable
          - soft
          - slightly_harsh
          - harsh_or_brittle

        definition: >
          Describes the perceived texture or coarseness of the hay.

        narration: |
          Texture affects intake, palatability, and suitability for different species.

        validation_guidance: |
          - Valid values: `very_soft_and_pliable`, `soft`, `slightly_harsh`, `harsh_or_brittle`.
          - Choose the descriptor that best reflects the tactile feel of the hay when handled.
          - Softer textures are typically associated with higher palatability and digestibility.

      - id: hay_color
        title: Hay Color
        data_type: enum
        required: false
        enum_select_mode: single
        valid_values:
          - natural_green_color_of_crop
          - light_green
          - yellow_to_slightly_brownish
          - brown_or_black

        definition: >
          Describes the dominant color of the hay at time of sale.

        narration: |
          Color indicates curing quality, storage conditions, and freshness.

        validation_guidance: |
          - Valid values: `natural_green_color_of_crop`, `light_green`, `yellow_to_slightly_brownish`, `brown_or_black`.
          - Select the color that most closely matches the overall appearance of the hay.
          - Greener color usually reflects better preservation and nutrient retention; darker colors may suggest weathering or microbial degradation.

      - id: weed_content
        title: Weed content
        data_type: object
        required: false

        fields:
          - id: weed_free_certification_status
            title: Weed free certification status
            data_type: object
            required: false

            definition: >
              Container field representing whether the hay has been certified as
              weed free, and if so, by whom and under what identifier.

            narration: >
              This object captures information about formal weed-free
              certification, if applicable. Weed-free hay is often required for
              transport into sensitive ecological zones, such as national parks
              or designated weed-free corridors. The field includes a boolean
              indicator of certification, the issuing certifying authority, and
              the certificate ID.

            validation_guidance: >
              - If `weed_free_certified` is `true`, then both `certifying_authority` and `certificate_id` should be provided.
              - If no weed-free certification applies, this field may be omitted or set with `weed_free_certified` = `false`.

            fields:
              - id: weed_free_certified
                title: Weed free certified
                data_type: boolean
                required: false

                definition: >
                  Indicates whether the hay has been officially certified as
                  weed free by a recognized authority.

                narration: >
                  This boolean field reports the certification status of the hay
                  with respect to weed contamination. Weed-free certifications
                  are often required for public lands, government contracts, or
                  specialty export markets.

                validation_guidance: >
                  - If `true`, supporting documentation should be provided via `certifying_authority` and `certificate_id`.
                  - If `false` or unknown, the hay is not considered certified.

              - id: certifying_authority
                title: Certifying authority
                data_type: enum
                required: false
                required_if:
                  field: weed_free_certified
                  operator: value_present
                  value: true
                enum_select_mode: single
                valid_values_ref: certifying_authorities
                enum_source:
                  id: certifying_authorities
                  uri: references/certifying_authorities.yaml
                  version: 0.90

                definition: >
                  The official body or organization that issued the weed-free
                  certification.

                narration: >
                  This field records the certifying entity responsible for
                  verifying that the hay meets weed-free standards. Examples may
                  include state departments of agriculture, cooperative weed
                  management areas (CWMAs), or other recognized regulatory
                  agencies.

                validation_guidance: >
                  - Must be one of the predefined values in `certifying_authorities.yaml`.
                  - Required if `weed_free_certified` is `true`.

              - id: certificate_id
                title: Certificate ID
                data_type: string
                required: false
                required_if:
                  field: weed_free_certified
                  operator: value_present
                  value: true

                definition: >
                  A unique identifier or code issued by the certifying authority
                  to reference the specific weed-free certificate.

                narration: >
                  This field provides a certificate number, code, or other
                  unique identifier associated with the weed-free status. It
                  helps support traceability and document verification,
                  especially when hay is transported across jurisdictions with
                  strict noxious weed rules.

                validation_guidance: >
                  - Required if `weed_free_certified` is `true`.
                  - Maximum length: 100 characters.

          - id: weed_content_estimate
            title: Weed content estimate
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values:
              - none
              - trace
              - light
              - moderate
              - heavy

            definition: >
              An estimated assessment of the quantity or density of weeds present in the hay at time of inspection or sale.

            narration: >
              This field provides a qualitative estimate of weed content in the hay. It is intended to convey the extent of weed material visible in the bale or forage sample. This information may inform buyer decisions, affect price or eligibility for certain markets, and support transparency about forage quality. The estimate may be based on visual inspection, prior field scouting, or other relevant observations.

            validation_guidance: >
              - Must be one of the following values: `none`, `trace`, `light`, `moderate`, or `heavy`.
              - If the seller provides this value, it should reflect the best available estimate at time of listing or delivery.
              - `none` indicates no visible weeds; `trace` implies minimal presence.

          - id: weeds_present
            title: Weeds present
            data_type: object[]
            required: false
            component_repeats: true

            definition: >
              A repeatable list of weed species observed in the harvested hay or
              within the field at the time of harvest. Each entry identifies one
              species considered a contaminant or quality concern.

            narration: |
              This field allows sellers to disclose specific weed species that
              were present in the stand or baled material. Weed presence can
              affect hay marketability, feed quality, and animal health.

              Even small amounts of certain weeds may be a problem in sensitive
              contexts such as equine operations or export shipments. Buyers
              may use this information to assess weed tolerance or need for
              further inspection.

              When `toxic_plants_present` is marked `true`, the relevant toxic
              species should be included in this list if known.

            validation_guidance: |
              - Each object entry must represent a single weed species.
              - Component field `weed_species_present` is required in each entry.
              - Accept only values listed in the `weed_species.yaml` reference file.
              - Do not combine multiple species in one entry.

            components:
              - id: weed_species_present
                title: Weed species present
                data_type: enum
                required: true
                enum_select_mode: single
                valid_values_ref: weed_species
                enum_source:
                  id: weed_species
                  uri: references/weed_species.yaml
                  version: 0.90

                definition: >
                  Identifies the species of weed observed within the hay or
                  production field. Drawn from a standardized list of plant
                  species that are considered agronomically undesirable due to
                  factors such as invasiveness, toxicity, or marketability impact.

                narration: |
                  Accurate weed species disclosure helps buyers evaluate risk
                  related to feed quality, animal safety, and compliance with
                  regulatory or export standards. The reference list includes
                  species classified as noxious, invasive, or toxic, as well as
                  commonly encountered field weeds.

                  The list is periodically updated and designed to support
                  downstream filtering, highlighting, and warnings in technical
                  systems. Each species is tagged with metadata flags that may
                  influence handling or buyer decisions.

                validation_guidance: |
                  - Required in each entry of `weeds_present`.
                  - Must match a valid ID from the external `weed_species.yaml` reference list.
                  - One species per entry. Do not combine multiple species into a single value.
                  - Species flagged in the reference list as:
                    - `toxic: true` should also prompt review of the `toxic_plants_present` field.
                    - `noxious: true` may affect eligibility for certain export programs or regional certification.
                    - `invasive: true` may trigger additional scrutiny in regulated zones or protected regions.
                  - Systems may display warnings or enforce constraints based on the combination of these flags and the intended use of the hay.

          - id: toxic_plants_present
            title: Toxic plants present
            data_type: boolean
            required: false

            definition: >
              Indicates whether any known toxic or harmful plant species were
              observed within the harvested hay. This includes species that may
              pose health risks to livestock if ingested, even in small amounts.

            narration: |
              Some plant species contain toxic compounds that can be harmful or
              fatal to animals. These include, but are not limited to, species
              such as hoary alyssum, bracken fern, johnsongrass (with nitrates),
              water hemlock, and locoweeds. This field helps buyers assess
              safety risks associated with the forage.

              Sellers should answer `true` if any potentially toxic plants were
              identified in the stand or harvested bales, regardless of quantity.
              When set to `true`, supporting detail should be provided in
              the `weed_species_present` or a supplemental notes field.

            validation_guidance: |
              - Acceptable values: `true` or `false`.
              - Use `true` if any toxic or harmful plants were known or suspected to be present.
              - If `true`, systems may require further disclosure of species.
              - Use `false` only if no toxic plants were identified or reasonably suspected during production or inspection.

          - id: burrs_awns_present
            title: Burrs or awns present
            data_type: boolean
            required: false

            definition: >
              Indicates the presence of burrs, thorns, or spiny material.

            narration: |
              Burrs and awns may injure animals or reduce palatability.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if burrs or barbed plant materials are found in the hay.
              - Use `false` if no burrs or awns are observed.
              - Use `unknown` if this cannot be determined with certainty.

          - id: insects_present
            title: Insects present
            data_type: boolean
            required: false

            definition: >
              Indicates visible insects or insect residues in the hay.

            narration: |
              Insect presence may signal contamination or poor storage.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if insects, insect parts, or visible signs of insect infestation are present.
              - Use `false` if the hay is free of insects or evidence of infestation.
              - Use `unknown` if the presence of insects cannot be assessed.

      - id: organoleptic_factors
        title: Organoleptic factors
        data_type: object
        required: false

        fields:
          - id: organoleptic_factor_odor
            title: Organoleptic factor odor
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values:
              - clean_crop_smell
              - dusty
              - moldy
              - somewhat_sour
              - sour
              - rotten_or_otherwise_foul

            definition: >
              Describes the odor of the hay.

            narration: |
              Odor can indicate freshness, spoilage, or fermentation.

            validation_guidance: |
              - Valid values: `clean_crop_smell`, `dusty`, `moldy`, `somewhat_sour`, `sour`, `rotten_or_otherwise_foul`.
              - Select the odor description that most closely matches the dominant smell of the hay at inspection.
              - Clean crop smell is desirable; other odors may indicate spoilage, contamination, or improper storage.

          - id: organoleptic_factor_moldy
            title: Organoleptic factor moldy
            <<: *truthy_unknown

            definition: >
              Indicates visible mold presence.

            narration: |
              Visible mold affects feed safety, palatability, and marketability.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if mold is visible or clearly detectable by smell or texture.
              - Use `false` only when mold is confidently absent.
              - Use `unknown` if mold presence cannot be determined.

          - id: organoleptic_factor_dusty
            title: Organoleptic factor dusty
            <<: *truthy_unknown

            definition: >
              Indicates the presence of airborne dust during handling.

            narration: |
              Dust may affect respiratory health in animals and handlers.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if dust is visible during handling or noted by smell.
              - Use `false` only if the hay appears clean and dust-free.
              - Use `unknown` if dustiness cannot be assessed.

          - id: organoleptic_factor_rot
            title: Organoleptic factor rot
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - true
              - false
              - unknown

            definition: >
              Indicates signs of decomposition or rot in the hay.

            narration: |
              Rot affects feed quality, safety, and odor.

            validation_guidance: |
              - Valid values: `true`, `false`, `unknown`.
              - Select `true` if any portion of the hay shows signs of rot, decay, or putrefaction.
              - Use `false` only if the hay is free of rot.
              - Use `unknown` if rot cannot be determined.

      - id: handling_sequence
        title: Handling Sequence
        data_type: object[]
        required: true

        definition: >
          Captures a structured, sequential record of the hay's handling,
          storage, and transfer stages from baling to delivery or final
          inspection. Each entry represents one distinct handling event or
          storage condition and may include up to eight fields describing the
          conditions, structures, and effects present at that stage.

        narration: |
          Hay quality and condition can be significantly influenced by how the
          product is handled after baling. This field enables producers,
          merchants, and buyers to document and assess the chain of custody,
          storage conditions, and environmental exposures that may affect
          product value.

          The handling sequence may include on-farm storage, restacking,
          transloading, warehouse storage, in-transit pauses, and final delivery
          conditions. Each entry may contain up to eight fields: `stage_label`,
          `location_type`, `duration_estimate`, `storage_structure`,
          `surface_type`, `airflow_condition`, `restacked`, and
          `storage_degradation_visible`.

          Entries may be descriptive or partial depending on information
          availability. Transparency about the post-baling journey helps build
          trust, supports dispute resolution, and aligns with quality assurance
          protocols in regulated or export contexts.

        validation_guidance: |
          - Must be a list of structured entries representing the handling and storage sequence from baling to delivery.
          - Each entry may include the following fields: `stage_label`, `location_type`, `duration_estimate`, `storage_structure`, `surface_type`, `airflow_condition`, `restacked`, and `exposure_risk`.
          - Values should reflect what is known or reasonably inferred about each handling stage.
          - Unknown or estimated values are acceptable if clearly disclosed.
          - The list may contain up to 5 entries.
          - The list may be empty if no handling history is available.

        cross_field_consistency: >
          - If `handling_sequence` is provided, it must include exactly one entry with `stage_label` = `final`.
          - If multiple entries have `stage_label` = `final`, validation should fail.
          - If `handling_sequence` is empty, this must reflect a true lack of known handling history. In such cases, no final storage information will be available.
          - The first entry, if known, should be labeled `initial`.
          - The last entry, if present, must be labeled `final`.
          - Any `intermediate` entries should reflect actual handling order between initial and final stages. If sequencing is uncertain, maintain logical best-effort order.
          - All entries should use the same eight recognized fields where applicable, but may leave fields blank or omit them if unknown.

        components:
          - id: stage_label
            title: Stage Label
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - initial
              - intermediate
              - final

            definition: >
              - Specifies the role or position of this stage within the overall post-baling handling sequence.
              - Used to identify the final known storage location as well as earlier stages in the hay's movement history.

            narration: |
              - Labels each handling stage as the initial, intermediate, or final part of the hay's journey from field to buyer.
              - The final stage represents where the hay is currently stored or was last observed before delivery.

            validation_guidance: |
              Must be selected from the list of allowed values
              Each entry in the handling_sequence must have a stage_label
              At least one entry must be labeled final
              There should be only one final entry per sequence

          - id: location_type
            title: Location Type
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - on-farm
              - co-op
              - broker yard
              - merchant warehouse
              - export staging
              - final delivery
              - other

            definition: >
              - Describes the type of site at which the hay was stored or handled during a specific stage.
              - Used to infer operational scale, infrastructure, and traceability expectations.

            narration: |
              - Helps identify where this handling or storage stage occurred.
              - The type of location offers clues about infrastructure, control over conditions, and the overall reliability of the storage environment.

            validation_guidance: |
              - Must be selected from the list of allowed values.
              - Describes the location type for this stage in the handling sequence.

          - id: duration_estimate
            title: Estimated Duration
            data_type: string
            required: false

            definition: >
              A free-text estimate of how long the hay remained at this location.
              Common formats include "2 weeks", "10-15 days", or "< 1 month".
              May be unknown or approximate.

            narration: |
              Gives an approximate idea of how long the hay remained at this stage.
              Longer durations may increase exposure risks or help explain nutrient changes between harvest and delivery.

            validation_guidance: |
              Must be a single string not exceeding 100 characters
              Should describe the estimated duration of stay in human-readable terms
              May be approximate or unknown

          - id: storage_structure
            title: Storage Structure
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - barn_enclosed
              - barn_open_sided
              - tarp_covered_stack
              - shed_roof_only
              - open_air_uncovered
              - containerized
              - unknown
              - other

            definition: >
              Describes the primary structural protection provided during
              storage at this handling stage. Used to infer exposure to sun,
              wind, and precipitation at intermediate locations.

            narration: |
              Describes the kind of shelter or structure used to store hay
              during this handling stage. Different structures affect drying,
              exposure risk, and long-term quality.

            validation_guidance: |
              - Must be selected from the list of allowed values.
              - Describes the structural covering or protection used at this handling stage.
              - Use unknown if the storage type is not documented or observed.

          - id: surface_type
            title: Surface Type
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - bare_soil
              - concrete
              - gravel
              - pallets
              - plastic_sheeting
              - vegetation
              - wood
              - other
              - unknown

            definition: >
              - Describes the surface material beneath the hay during storage.
              - Used to estimate moisture risk from ground contact and potential contamination.

            narration: |
              - Shows what the hay was stored on -- such as pallets or bare ground -- during this handling stage.
              - Used to assess potential moisture exposure, contamination, and contact-related damage.

            validation_guidance: |
              - Must be selected from the list of allowed values.
              - Describes the surface on which bales were stacked or stored during this stage.

          - id: airflow_condition
            title: Airflow Condition
            data_type: enum
            required: true
            enum_select_mode: single
            valid_values:
              - natural_ventilation
              - forced_ventilation
              - limited_airflow
              - sealed_enclosure
              - unknown

            definition: >
              - Describes the airflow environment around the hay during storage.
              - Used to estimate spoilage risk, moisture retention, and ventilation quality.

            narration: |
              - Explains how well air moved around the hay at this location.
              - Ventilation affects mold risk, moisture loss, and overall preservation quality.

            validation_guidance: |
              - Must be selected from the list of allowed values.
              - Describes the type and adequacy of ventilation at the storage location.

          - id: restacked
            title: Restacked at This Stage
            data_type: boolean
            required: false

            definition: >
              - Indicates whether the hay was restacked at this location or prior to this stage.
              - Restacking increases handling losses and may alter bale integrity.

            narration: |
              - Indicates whether the hay was moved and re-stacked at this stage.
              - Restacking often leads to leaf loss or compaction, which can reduce quality.

            validation_guidance: |
              - Must be true or false.
              - Indicates whether bales were restacked during this stage of handling.

          - id: storage_degradation_visible
            title: Visible Storage Degradation
            data_type: enum
            required: true
            enum_select_mode: multiple
            valid_values:
              - superficial_sun_bleaching
              - bottom_bale_damage_minor
              - bottom_bale_damage_significant
              - color_decline_minor
              - color_decline_significant
              - other

            definition: >
              - Identifies visible signs of storage-related degradation that occurred during this handling stage.
              - Captures physical effects such as bleaching, bottom bale spoilage, or noticeable color loss due to poor storage conditions.

            narration: |
              - Specifies the types of damage or quality decline observed during this storage stage.
              - Helps buyers assess whether any handling-related degradation is superficial or materially significant.

            validation_guidance: |
              - Must be selected from the list of allowed values.
              - Multiple values may be selected if more than one type of degradation is visible or likely.
              - Leave blank if no damage is evident or the hay was not inspected at this stage.

  - id: nutrient_analysis
    title: Nutrient Analysis
    definition: >
      Contains results from laboratory analysis of forage nutrient content,
      including protein, fiber, minerals, digestibility, and energy metrics.
      Used to evaluate feeding value and compliance with nutritional targets.

    narration: |
      This section captures laboratory test results and related metadata for the
      hay's nutritional profile. These metrics help buyers evaluate forage
      quality and suitability for various animal classes.

      When available, forage analysis results supplement visual observations and
      support data-driven ration formulation. Fields cover whether the hay was
      tested, how the sample was processed, and selected analytical values.

    validation_guidance: |
      - Certain laboratory results may return the special value `trace`, indicating that an analyte was detected but not present at a reliably quantifiable concentration.
      - `trace` is permitted only for specific fields, such as `chloride_ion`, and must be explicitly listed in that fields valid values.
      - Use `trace` to distinguish between non-detection and sub-threshold detection; do not substitute `0.00`.
      - Numeric values, when used, should reflect results above the detection threshold and typically include up to two decimal places.
      - This approach supports clarity in interpreting low-level results without compromising numeric integrity in other fields.

    groups:
      - id: lab_processing
        title: Lab processing

        definition: >
          Describes how the forage sample was selected, handled, and analyzed in
          a laboratory setting, including who sampled it, how it was tested, and
          what methods were used.

        narration: |
          This group captures the full context of laboratory testing, from
          sample collection through result reporting. It documents who took the
          sample, under what conditions, when it was tested, and by which lab.
          It also includes method references and any relevant processing notes
          or quality flags.

        fields:
          - id: hay_tested
            title: Hay tested
            <<: *truthy_unknown

            definition: >
              Indicates whether a laboratory test was performed on a sample from
              this hay lot.

            narration: |
              This field confirms whether analytical testing was performed on a
              sample from the hay lot. Use `true` if lab testing occurred,
              `false` if no testing was done, and `unknown` if the status is
              uncertain. This field provides critical context for interpreting
              downstream lab analysis values and overall lot characterization.

            validation_guidance: |
              Must be one of: `true`, `false`, or `unknown`.

          - id: hay_sample_date
            title: Hay sample date
            data_type: date
            required: false

            definition: >
              Date when the hay sample was collected for laboratory testing.

            narration: |
              Records the date on which the hay sample was collected for
              laboratory analysis. Accurate sample dating is important for
              interpreting results in the context of hay storage time, nutrient
              degradation, and marketing timelines.

              Some laboratories require the sample date for regulatory or
              archival purposes.

            validation_guidance: |
              - Must be formatted as `YYYYMMDD`.
              - Use `YYYYMM00` if day is unknown.
              - Use `YYYY0000` if both month and day are unknown.
              - Use `00000000` if no date is available or applicable.

            cross_field_consistency: >
              The value for `hay_sample_date` should not precede that for
              `harvest_date_end` (if known), and should reflect the hay lot
              offered for sale.

          - id: hay_sampler_independent
            title: Hay sampler independent
            <<: *truthy_unknown

            definition: >
              Indicates whether the individual or entity that collected the hay
              sample was independent of the seller.

            narration: |
              A value of `true` indicates the sample was taken by a third party
              -- such as a certified lab technician, consultant, or extension
              agent -- with no financial interest in the hay sale.

              A value of `false` means the sample was collected by the seller or
              someone affiliated with the seller.

              Use `unknown` when the sampler's identity or affiliation is not
              known. This distinction can influence buyer confidence in the
              impartiality of lab results, especially in regulated feed programs
              or high-value transactions.

            validation_guidance: |
              Must be one of: `true`, `false`, or `unknown`.

          - id: hay_sampler_certified
            title: Hay sampler certified
            <<: *truthy_unknown

            definition: >
              Indicates whether the person who collected the hay sample was
              certified or formally trained in forage sampling techniques.

            narration: |
              A value of `true` means the sampler held a recognized
              certification or had formal training in standardized forage
              sampling procedures -- such as using a coring probe and collecting
              samples from multiple bales.

              A value of `false` indicates the sample was collected by someone
              without documented training or certification.

              Use `unknown` if the samplers qualifications are not known.
              Certification status can influence confidence in the samples
              quality and the reliability of lab results, particularly in
              regulated or quality-assured programs.

            validation_guidance: |
              Must be one of: `true`, `false`, or `unknown`.

          - id: hay_sampling_protocol
            title: Hay sampling protocol
            data_type: enum
            required: false
            enum_select_mode: single
            valid_values_ref: sampling_protocols
            enum_source:
              id: sampling_protocols
              uri: references/sampling_protocols.yaml
              version: 0.90

            definition: >
              Identifies the standardized or customary procedure used to collect
              the hay sample for laboratory testing, selected from a controlled
              list of recognized sampling protocols.

            narration: |
              This field records the sampling methodology used to obtain a
              laboratory sample from the hay lot. It must be chosen from a
              predefined list of standard or well-documented protocols.

              Protocols may include formal guidelines published by the National
              Forage Testing Association (NFTA), university extension services,
              or other professional or industry sources. Informal methods may
              also be listed if commonly used in practice.

              Proper sampling methodology is critical to ensure that test
              results accurately reflect the lot as a whole. The selected value
              helps buyers, sellers, and laboratories interpret results in
              context.

            validation_guidance: |
              - Value must match one of the enumerated options in the external `sampling_protocols.yaml` reference list.
              - Only one value may be selected.
              - If the exact protocol is unknown, select the closest match or use a general category such as `unspecified` or `other` if available.

          - id: forage_testing_laboratory
            title: Forage testing laboratory
            data_type: enum
            required: false
            required_if:
              field: hay-tested
              operator: value_present
              value: true
            enum_select_mode: single
            valid_values_ref: forage_testing_laboratories
            enum_source:
              id: forage_testing_laboratories
              uri: references/forage_testing_laboratories.yaml
              version: 0.90

            definition: >
              Identifies the laboratory responsible for conducting the forage
              analysis.

            narration: |
              This field specifies the laboratory that conducted the forage
              analysis. Using a standardized reference list of certified forage
              testing labs promotes consistency and traceability. Many listed
              labs participate in proficiency programs such as the National
              Forage Testing Association (NFTA) or equivalent international
              standards.

              If the analysis was performed using in-house or on-farm equipment,
              the value "Internal lab" should be used. In these cases, sellers
              are encouraged to provide supporting documentation of their
              testing procedures and equipment calibration.

            validation_guidance: |
              Should match a value from the reference list
              `forage_testing_laboratories`or use the additional value "Internal
              lab" for in-house testing.

          - id: hay_testing_method
            title: Hay testing method
            data_type: enum
            required: false
            required_if:
              field: hay_tested
              operator: values_tested
              value: true
            enum_select_mode: single
            valid_values:
              - chemical_analysis
              - nir_spectroscopy
              - both_chemical_analysis_and_nir

            definition: >
              Identifies the analytical method used to evaluate the hay sample.

            narration: |
              This field provides context for interpreting the reliability and
              precision of reported forage values.

              - `chemical_analysis`: Traditional wet chemistry methods. These are highly accurate and are used to calibrate other methods.
              - `nir_spectroscopy`: Near-infrared reflectance spectroscopy (NIR), a rapid and cost-effective method that compares spectral profiles to a calibrated database. Accuracy depends on forage type and calibration quality.
              - `both_chemical_analysis_and_nir`: Indicates that both methods were applied to the same sample, either for validation or to leverage the strengths of each.

              Understanding the test method is essential for comparing results
              across samples and for determining whether the data are suitable
              for ration formulation or regulatory compliance.

            validation_guidance: |
              - Required if `hay_tested` is `true`.
              - Must be one of: `chemical_analysis`, `nir_spectroscopy`, or `both_chemical_analysis_and_nir`.

          - id: hay_testing_date
            title: Hay testing date
            data_type: date
            required: false
            required_if:
              field: hay_tested
              operator: values_present
              value: true

            definition: >
              Records the date on which the hay sample was tested in the
              laboratory.

            narration: |
              This field captures the date the hay sample was analyzed by the
              laboratory.

              Knowing the testing date helps verify sample freshness, confirm
              turnaround time from collection to analysis, and evaluate how
              results correspond to hay condition over time.

              In some contexts, this field may also serve regulatory or
              traceability requirements, especially if results are used for
              certification, export, or feed safety documentation.

            validation_guidance: |
              - Required if `hay_tested` is `true`.
              - Must be formatted as `YYYYMMDD`.
              - A full date is required.
              - Partial or unknown values are not permitted for this field.
              - Must be a valid ISO 8601 date.

          - id: lab_sample_id
            title: Lab sample ID
            data_type: string
            required: false
            required_if:
              field: hay_tested
              operator: values_present
              value: true

            definition: >
              Records the sample identifier assigned by the laboratory.

            narration: |
              This field stores the unique identifier used by the lab to track
              the submitted hay sample. It facilitates communication with the
              lab, retrieval of results, and verification of the original
              report.

            validation_guidance: |
              - Required if `hay_tested` is `true`.
              - Free-text field. Recommended maximum length: 100 characters.

          - id: lab_report_reference
            title: Lab report reference
            data_type: string
            required: false

            definition: >
              Stores a file name, report ID, or external link to the full lab
              report.

            narration: |
              Use this field to reference the original laboratory report
              associated with the hay sample. This may include a PDF report ID,
              file name, or direct link to a document. It supports traceability
              and documentation for regulatory or commercial use.

            validation_guidance: |
              Free-text field. Recommended maximum length: 250 characters. May include alphanumeric codes or a URL.

          - id: lab_processing_notes
            title: Lab Processing Notes
            data_type: string
            required: false

            definition: >
              Captures lab-specific comments about how the sample was prepared
              or handled prior to analysis.

            narration: |
              This field allows the laboratory or data manager to record any
              relevant observations during sample handling -- such as
              regrinding, moisture correction, irregular particle size, or
              unusual sample condition. These notes help explain unexpected
              results and support transparency in lab workflows.

            validation_guidance: |
              Free-text field. Recommended maximum length: 250 characters.

          - id: lab_processing_completed_date
            title: Lab processing completed date
            data_type: date
            required: false

            definition: >
              Records the date the laboratory completed processing and analysis
              of the hay sample.

            narration: |
              This date marks when the lab finalized its processing of the
              sample and results became available. It may differ from the
              testing date in cases of batch delays, reruns, or extended
              digestion procedures.

            validation_guidance: |
              - Must be formatted as `YYYYMMDD`.
              - A full date is required.
              - Partial or unknown values are not permitted for this field.
              - Must be a valid ISO 8601 date.

          - id: lab_quality_code
            title: Lab quality code
            data_type: string
            required: false

            definition: >
              Represents an internal or external lab-issued code qualifying the
              reliability or status of the analysis.

            narration: |
              Some laboratories assign quality flags or interpretation codes to
              clarify how results should be used. For example, a code might
              indicate that the sample was rerun, that results exceeded
              calibration bounds, or that the test is for screening purposes
              only. This field enables transparent data handling and user
              awareness of result confidence.

            validation_guidance: |
              Free-text field. Recommended maximum length: 100 characters.

      - id: base_nutrient_values
        title: Base nutrient values

        definition: >
          Captures the moisture and dry matter content of the forage, which
          serve as the foundation for interpreting all other nutrient metrics.

        narration: |
          This group records the water content and corresponding dry matter of
          the hay sample. Moisture and dry matter values are essential for
          converting nutrient concentrations between as-fed and dry matter
          bases.

          These two fields form the backbone of forage analysis, affecting
          nutritional calculations, storage decisions, and feed formulation
          across all classes of livestock.

        fields:
          - id: moisture_content
            title: Moisture content
            data_type: float
            required:
            units: percent_as_fed
            valid_range:
              min: 6.0
              max: 25.0
            validation_pending: true

            definition: >
              The percentage of the sample's total weight that consists of
              water. Moisture content is the inverse of dry matter and plays a
              critical role in hay storage, preservation, and nutritional
              calculations.

            narration: |
              Forage testing labs may measure moisture content directly or
              calculate it by subtracting dry matter from 100%. Moisture content
              is also used to convert other nutrient values between "as-fed" and
              "dry matter" basis. While this specification records moisture
              content explicitly, dry matter may be calculated separately when
              needed. A value of 100% would represent pure water and is not
              realistic in hay samples.

            validation_guidance: |
              - Required if `hay_tested` is `true`.
              - Must be a positive decimal between 6.0 and 25.0.
              - Values above 18.0% may require preservative or special handling depending on bale size and storage conditions.
              - Typical moisture at baling ranges from 12-18% for dry hay, with lower targets for large square bales.

          - id: dry_matter
            title: Dry matter
            data_type: float
            units: percent_as_fed
            valid_range:
              min: 75.0
              max: 94.0
            validation_pending: true

            definition: >
              A positive decimal value representing the dry matter content of
              the hay sample, expressed as a percentage. Dry matter is the
              portion of the forage that remains after all moisture has been
              removed.

            narration: |
              Dry matter includes all nutrients -- such as fiber, protein,
              minerals, and energy -- and is the standard basis for comparing
              feeds and formulating rations. Values below 85% may suggest
              elevated moisture and increased risk of spoilage or spontaneous
              heating. All nutrient values are typically reported on a dry
              matter basis to eliminate dilution effects from water and ensure
              comparability across feed types.

            validation_guidance: |
              - Required if `hay_tested` is `true`.
              - Must be a positive decimal between 75.0 and 94.0.
              - Dry matter reflects the portion of forage that is not water.
              - Most dry hay falls between 82-90% DM.
              - High-moisture forage (e.g., baleage) may test as low as 55%, corresponding to 45% moisture.

      - id: forage_quality_indexes
        title: Forage quality indexes

        definition: >
          Contains standardized forage quality indexes derived from fiber and
          energy content to evaluate feed value across hay types.

        narration: |
          This group includes widely used forage indexes that summarize the
          hay's overall quality for feeding purposes.

          Relative Feed Value (RFV) estimates intake potential and digestibility
          based on ADF and NDF values, while Relative Forage Quality (RFQ)
          improves upon RFV by incorporating fiber digestibility. These indexes
          allow buyers, nutritionists, and producers to compare hay lots
          consistently and determine suitability for specific livestock classes
          or feeding programs.

        fields:
          - id: relative_feed_value
            title: Relative Feed Value (RFV)
            data_type: float
            required: false
            required_if:
              field: hay-tested
              operator: value_present
              value: true
            units: index
            valid_range:
              min: 70.0
              max: 240.0
            validation_pending: true

            definition: >
              A positive decimal value representing the Relative Feed Value
              (RFV) of the hay sample. RFV is a standardized index used to
              estimate overall forage quality based on digestibility and
              potential intake, calculated from ADF and NDF values.

            narration: |
              Relative Feed Value (RFV) is calculated using the formula: RFV
              equals Dry Matter Intake percent times Digestible Dry Matter
              percent divided by 1.29. The scale is normalized so that
              full-bloom alfalfa scores 100. Higher values suggest improved
              animal performance due to greater digestibility and intake
              potential. Example classifications include: greater than 150 is
              considered excellent; 125 to 150 is good; 103 to 124 is fair; 87
              to 102 is poor; less than 87 is reject or very low quality. RFV
              does not account for fiber digestibility differences among forages
              and is being replaced in many contexts by Relative Forage Quality
              (RFQ), which provides a more accurate assessment.

            validation_guidance: |
              - Must be a positive decimal between 70.0 and 240.0.
              - Relative Feed Value (RFV) is a dimensionless index used to evaluate forage quality based on ADF and NDF.
              - Most hay falls between 100 and 180. Values above 185 indicate very high-quality dairy forage.

          - id: relative_forage_quality
            title: Relative Forage Quality (RFQ)
            data_type: float
            required: false
            required_if:
              field: hay-tested
              operator: value_present
              value: true
            units: index
            valid_range:
              min: 70.0
              max: 240.0
            validation_pending: true

            definition: >
              A positive decimal value representing the Relative Forage Quality
              (RFQ) of the hay sample. RFQ is an enhanced forage index that
              estimates overall feed value by incorporating both potential
              intake and fiber digestibility.

            narration: |
              Relative Forage Quality (RFQ) improves upon Relative Feed Value
              (RFV) by using Total Digestible Nutrients (TDN) instead of Acid
              Detergent Fiber (ADF) and by incorporating Neutral Detergent Fiber
              Digestibility (NDFD), when available. It is calculated using a
              formula such as RFQ equals Dry Matter Intake percent times Total
              Digestible Nutrients percent divided by 1.23. Dry Matter Intake is
              based on NDF, and TDN is based on ADF and NDFD. RFQ provides a
              more accurate assessment of feeding value, particularly for
              grasses, mixed forages, and forages with high fiber digestibility.
              Like RFV, it is scaled so that full-bloom alfalfa scores 100.
              Example classifications include: greater than 170 is prime; 150 to
              170 is premium; 130 to 149 is good; 100 to 129 is fair; and less
              than 100 is low quality. RFQ is now the preferred index in many
              extension and laboratory reports, especially when NDFD is measured
              or predicted.

            validation_guidance: |
              - Must be a positive decimal between 70.0 and 240.0.
              - Relative Forage Quality (RFQ) improves on RFV by incorporating digestible fiber and is considered more accurate for grass and mixed forages.
              - Most hay falls between 100 and 200.

      - id: nrc2001_energy
        title: NRC 2001 energy estimates

        definition: >
          Provides a detailed breakdown of forage energy content based on NRC 2001 ruminant nutrition models, expressed in both imperial and metric units.

        narration: |
          This group includes calculated energy values used in ration balancing for ruminants. It reflects the NRC 2001 model structure, with values such as Digestible Energy (DE),
          Metabolizable Energy (ME), and Net Energy for Lactation, Maintenance, and Gain (NEL, NEM, NEG). Each is presented in both pounds and kilograms to support U.S. and international
          feeding systems.

          Total Digestible Nutrients (TDN) is included as a legacy metric for estimating energy availability. These values are critical for livestock performance modeling and feed
          efficiency optimization.

        fields:
          - id: digestible_energy_1x_mcal_per_lb
            title: Digestible energy (1x, Mcal/lb)
            data_type: float
            required: false
            units: mcal_per_lb
            valid_range:
              min: 0.80
              max: 1.35
            validation_pending: true

            definition: >
              A positive decimal value representing the Digestible Energy (DE)
              of the hay sample in megacalories per pound (Mcal/lb), calculated
              at maintenance-level intake (1X).

            narration: |
              Digestible Energy (DE) is calculated as the gross energy of the
              forage minus fecal energy losses. It is an intermediate measure
              used before metabolizable and net energy estimates. This value is
              expressed in megacalories per pound of feed on a dry matter basis.
              The 1X designation refers to maintenance-level intake, meaning it
              does not account for energy demands from lactation, growth, or
              work. Higher DE values indicate better digestibility and energy
              availability. DE is used in ration formulation for animals such as
              horses, beef cattle, and sheep.

            validation_guidance: |
              - Must be a decimal between 0.80 and 1.35.
              - Digestible energy at maintenance (DE_1x) represents the energy available from the forage assuming intake at 1x maintenance level.
              - Most hay falls between 1.00 and 1.35 Mcal/lb, with values below 0.90 typical of straw or poor-quality hay.

          - id: metabolizable_energy_1x_mcal_per_lb
            title: Metabolizable energy (1x, Mcal/lb)
            data_type: float
            required: false
            units: mcal_per_lb
            valid_range:
              min: 0.70
              max: 1.15
            validation_pending: true

            definition: >
              A positive decimal value representing the Metabolizable Energy
              (ME) of the hay sample in megacalories per pound (Mcal/lb),
              calculated at maintenance-level intake (1X).

            narration: |
              Metabolizable Energy (ME) is calculated as Digestible Energy (DE)
              minus energy lost as gases, primarily methane, and in urine. It
              represents the portion of energy available for maintenance and
              productive functions in the animal. The 1X label refers to
              maintenance-level intake, meaning this energy value does not
              include adjustments for added metabolic demand such as lactation
              or growth. ME is typically expressed in megacalories per pound on
              a dry matter basis and is commonly used in ration formulation for
              ruminants and equines. It also serves as the basis for calculating
              net energy values.

            validation_guidance: |
              - Must be a decimal between 0.70 and 1.15.
              - Metabolizable energy at maintenance (ME_1x) accounts for urinary and gaseous energy losses.
              - Most hay falls between 0.90 and 1.20 Mcal/lb.
              - Values above 1.30 are rare and usually reflect highly digestible forage or misreported data.

          - id: net_energy_lactation_3x_mcal_per_lb
            title: Net energy for lactation (3x, Mcal/lb)
            data_type: float
            required: false
            units: mcal_per_lb
            valid_range:
              min: 0.50
              max: 0.80
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy of Lactation (NEL) of the hay sample in megacalories per pound (Mcal/lb), adjusted for intake at three times maintenance
              level (3X).

            narration: |
              Net Energy of Lactation (NEL) estimates the portion of energy in forage available for milk production after subtracting all energy losses, including those from feces, urine,
              gases, and heat increment. The 3X designation refers to dry matter intake at three times the maintenance energy requirement, which reflects typical consumption patterns in
              lactating dairy cows. This standardization improves the comparability of NEL values across forages. NEL is expressed in megacalories per pound on a dry matter basis and is
              widely used in dairy ration formulation to estimate energy supply and milk yield potential.

            validation_guidance: |
              - Must be a decimal between 0.50 and 0.80.
              - Net Energy for Lactation at 3x intake (NEL_3x) estimates energy available for milk production.
              - Most grass hay ranges from 0.50-0.65 Mcal/lb, while top alfalfa may reach 0.80 Mcal/lb.
              - Values above 0.82 are uncommon in dry forages.

          - id: net_energy_maintenance_3x_mcal_per_lb
            title: Net energy for maintenance (3x, Mcal/lb)
            data_type: float
            required: false
            units: mcal_per_lb
            valid_range:
              min: 0.52
              max: 0.85
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy of Maintenance (NEM) of the hay sample in megacalories per pound (Mcal/lb), adjusted for intake at three times maintenance
              level (3X).

            narration: |
              Net Energy of Maintenance (NEM) quantifies the portion of forage energy available to meet an animal's basic metabolic functions such as respiration, circulation, and
              temperature regulation. The 3X label indicates energy availability at an intake level three times higher than basic maintenance requirements, aligning with standardized feeding
              models for comparability. NEM is used primarily in beef cattle and sheep ration formulation to estimate whether the forage provides adequate baseline energy supply. It is
              expressed in megacalories per pound on a dry matter basis.

            validation_guidance: |
              - Must be a decimal between 0.52 and 0.85.
              - Net Energy for Maintenance at 3x intake (NEM_3x) reflects energy available to support baseline bodily function in livestock.
              - Most hay falls between 0.55-0.75 Mcal/lb.
              - Straw and damaged forages may test below 0.50. Values above 0.85 are rare.

          - id: net_energy_gain_3x_mcal_per_lb
            title: Net energy for gain (3x, Mcal/lb)
            data_type: float
            units: mcal_per_lb
            valid_range:
              min: 0.25
              max: 0.65
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy of Gain (NEG) of the hay sample in megacalories per pound (Mcal/lb), adjusted for intake at three times maintenance level
              (3X).

            narration: |
              Net Energy of Gain (NEG) estimates the portion of energy in forage that is available for body weight gain after meeting maintenance energy needs. It accounts for energy lost as
              feces, urine, gases, heat, and maintenance metabolism. The 3x designation standardizes intake to three times maintenance level, reflecting expected consumption in growing beef
              cattle and optimizing comparability across forages. NEG is a critical value in formulating rations for weight gain and finishing programs. It is expressed in megacalories per
              pound on a dry matter basis.

            validation_guidance: |
              - Must be a decimal between 0.25 and 0.65.
              - Net Energy for Gain at 3x intake (NEG_3x) estimates the energy available for weight gain. Most hay falls between 0.45-0.70 Mcal/lb. Values below 0.30 are typical of crop
              residue or straw. Values above 0.78 are rare in dry forages.

          - id: digestible_energy_1x_mcal_per_kg
            title: Digestible energy (1x, Mcal/kg)
            data_type: float
            required: false
            units: mcal_per_kg
            valid_range:
              min: 1.76
              max: 2.98
            validation_pending: true

            definition: >
              A positive decimal value representing the Digestible Energy (DE) of the hay sample in megacalories per kilogram (Mcal/kg), calculated at maintenance-level intake (1X).

            narration: |
              Digestible Energy (DE) measures the energy available in forage after subtracting fecal energy losses from gross energy content. The 1X designation indicates the estimate is
              based on intake equivalent to one times the maintenance energy requirement, consistent with NRC standards. This field expresses DE in megacalories per kilogram to support
              metric-based and international ration formulation. While U.S. systems commonly use Mcal/lb, Mcal/kg values are standard in global livestock nutrition.

            validation_guidance: |
              - Must be a decimal between 1.76 and 2.98.
              - Digestible energy at maintenance (DE_1x) represents the energy available from the forage when fed at maintenance intake level. This metric form is expressed in megacalories
              per kilogram of dry matter. Most hay falls between 2.0 and 2.9 Mcal/kg.

          - id: metabolizable_energy_1x_mcal_per_kg
            title: Metabolizable energy (1x, Mcal/kg)
            data_type: float
            units: mcal_per_kg
            valid_range:
              min: 1.54
              max: 2.53
            validation_pending: true

            definition: >
              A positive decimal value representing the Metabolizable Energy (ME) of the hay sample in megacalories per kilogram (Mcal/kg), calculated at maintenance-level intake (1X).

            narration: |
              Metabolizable Energy (ME) represents the amount of energy available to the animal after subtracting fecal, urinary, and gaseous losses from the Digestible Energy (DE) of the
              forage. This value is expressed in megacalories per kilogram to support metric-based feeding systems. The 1X designation reflects intake at maintenance energy levels, in line
              with assumptions used in NRC 2001 models for ruminants. Most hays provide between 1.6 and 2.3 Mcal/kg of ME on a dry matter basis. This value is essential for comparing forage
              sources in international and metric ration formulation contexts.

            validation_guidance: |
              - Must be a decimal between 1.54 and 2.53.
              - Metabolizable energy at maintenance (ME_1x) represents the portion of digestible energy retained after urinary and gas losses. This metric version is expressed per kilogram
              of dry matter. Most hay falls between 2.0 and 2.8 Mcal/kg.

          - id: net_energy_lactation_3x_mcal_per_kg
            title: Net energy for lactation (3x, Mcal/kg)
            data_type: float
            units: mcal_per_kg
            valid_range:
              min: 1.10
              max: 1.76
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy of Lactation (NEL) of the hay sample in megacalories per kilogram (Mcal/kg), assuming dry matter intake at three times
              maintenance level (3X).

            narration: |
              Net Energy for Lactation (NEL) represents the energy available from forage for milk production, after subtracting all losses from feces, urine, gas, and heat increment. This
              field expresses that value in megacalories per kilogram to support metric-based feed systems. The 3X label reflects a standardized dry matter intake level equivalent to three
              times maintenance, as used in NRC 2001 energy modeling. This intake assumption supports comparability across forages and feeding programs. Most hays fall between 1.3 and 1.8
              Mcal/kg NEL on a dry matter basis. Higher values indicate greater energy density and are typically associated with earlier-cut or legume-rich forages appropriate for lactating
              animals.

            validation_guidance: |
              - Must be a decimal between 1.10 and 1.76.
              - Net Energy for Lactation at 3x intake (NEL_3x) reflects the portion of feed energy used for milk production. This metric version is expressed in Mcal per kilogram of dry
              matter. Most hay ranges from 1.0 to 1.7 Mcal/kg, with high-end alfalfa approaching 1.85.

          - id: net_energy_maintenance_3x_mcal_per_kg
            title: Net energy for maintenance (3x, Mcal/kg)
            data_type: float
            units: mcal_per_kg
            valid_range:
              min: 1.15
              max: 1.87
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy for Maintenance (NEM) of the hay sample in megacalories per kilogram (Mcal/kg), assuming dry matter intake at three times
              maintenance level (3X).

            narration: |
              Net Energy for Maintenance (NEM) is the portion of forage energy available to sustain essential functions such as thermoregulation, circulation, and tissue maintenance. It is a
              foundational energy metric used in both beef and dairy nutrition models. The 3X designation reflects an assumed intake level at three times the maintenance requirement,
              following NRC 2001 energy modeling conventions. This field expresses NEM in megacalories per kilogram to support metric-based and international nutrition systems. Forage
              samples typically range from 1.1 to 1.6 Mcal/kg NEM. Higher values indicate better energy efficiency for livestock maintenance needs and are often observed in early-cut or
              legume-rich forages.

            validation_guidance: |
              - Must be a decimal between 1.15 and 1.87.
              - Net Energy for Maintenance at 3x intake (NEM_3x) reflects the energy required for basic body function. Expressed per kilogram of dry matter. Most dry hay falls between 1.2
              and 1.7 Mcal/kg, with values above 1.9 being rare.

          - id: net_energy_gain_3x_mcal_per_kg
            title: Net energy for gain (3x, Mcal/kg)
            data_type: float
            required: false
            units: mcal_per_kg
            valid_range:
              min: 0.55
              max: 1.80
            validation_pending: true

            definition: >
              A positive decimal value representing the Net Energy for Gain (NEG) of the hay sample in megacalories per kilogram (Mcal/kg), assuming dry matter intake at three times
              maintenance level (3X).

            narration: |
              Net Energy for Gain (NEG) estimates the portion of forage energy available for body weight gain, including both muscle and fat deposition, after maintenance energy needs have
              been met. This value is reported in megacalories per kilogram on a dry matter basis to support metric-based feeding systems. The 3x designation follows NRC 2001 modeling
              standards, assuming dry matter intake at three times the maintenance requirement. Most forages range between 0.55 and 1.3 Mcal/kg NEG. Higher values reflect greater energy
              density and are associated with increased average daily gain (ADG) in growing or finishing livestock, especially beef cattle.

            validation_guidance: |
              - Must be a decimal between 0.55 and 1.80.
              - Net Energy for Gain at 3x intake (NEG_3x) estimates energy available for bodyweight gain. Most dry hay falls between 0.8 and 1.50 Mcal/kg. Lower values are typical of straw
              and stalks. Values above 1.75 are rare.

          - id: tdn_1x
            title: Total Digestible Nutrients (TDN, 1x)
            data_type: float
            required: false
            units: percent_dm
            valid_range:
              min: 48.0
              max: 72.0
            validation_pending: true

            definition: >
              A positive decimal value representing the Total Digestible
              Nutrients (TDN) of the hay sample, expressed as a percentage of
              dry matter, at maintenance-level intake (1X).

            narration: |
              Total Digestible Nutrients (TDN) estimates the total amount of
              digestible fiber, protein, lipid, and carbohydrate in a forage. It
              is a key indicator of the forage's overall energy content. The 1x
              designation refers to an intake level equal to one times the
              animal's maintenance requirement, consistent with NRC 2001
              modeling standards. TDN is expressed as a percentage of dry
              matter. Most hay samples fall between 50 and 70 percent TDN.
              Higher values suggest greater energy availability and typically
              result from earlier harvests and more digestible forage
              components.

            validation_guidance: |
              - Must be a decimal between 48.0 and 72.0.
              - Total Digestible Nutrients at 1x intake (TDN_1x) reflects the total energy-yielding portion of the forage. Most hay falls between 55-70% TDN. Values above 75% are rare and
              suggest very high digestibility or analytical anomalies.

      - id: protein_fractions
        title: Protein fractions

        definition: >
          Breaks down the crude protein content of the forage into digestible
          and indigestible fractions to evaluate true protein availability.

        narration: |
          This group provides a detailed profile of forage protein quality and
          availability. It includes total crude protein and subdivides it into
          fractions representing soluble, degradable, and indigestible
          components. These values are essential for balancing rations based on
          rumen degradability and metabolizable protein supply.

          Understanding these fractions helps nutritionists formulate diets that
          match animal requirements, minimize waste, and improve feed
          efficiency, particularly in high-performance or sensitive livestock
          systems.

        fields:
          - id: crude_protein
            title: Crude protein
            data_type: object
            required: false
            any_of:
              - required: [crude_protein_pct_dm]
              - required: [crude_protein_pct_af]

            definition: >
              A structured field reporting the Crude Protein (CP) content of the
              forage sample, expressed on a dry matter (% DM) and/or as-fed (%
              AF) basis.

            narration: |
              Crude Protein (CP) estimates the total protein content of forage
              by multiplying the measured nitrogen content by a factor of 6.25.
              This estimate includes both true protein and non-protein nitrogen
              (NPN) compounds.

              Crude protein is a foundational measure in forage analysis and
              livestock ration formulation. It helps determine whether a forage
              meets the dietary protein requirements of various animal classes,
              including maintenance, growth, reproduction, and lactation.

              Typical CP values for grass hays range from 6% to 12% on a dry
              matter basis, while legume hays such as alfalfa may range from 15%
              to 25% depending on maturity and management. Forages with CP below
              7% are unlikely to support adequate microbial activity in the
              rumen and may require supplementation.

            validation_guidance: |
              - Crude protein values should be reported as a percentage on a dry matter and/or as-fed basis.
              - Values below 5% may indicate overly mature or weathered forage and are typically deficient.
              - Values between 6% and 12% are common in grass hays; values from 15% to 25% are common in legume hays.
              - Values above 28% are rare and may reflect immature legumes or laboratory anomalies.

            fields:
              - id: crude_protein_pct_dm
                title: Crude protein (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 4.0
                  max: 25.0

                definition: >
                  The Crude Protein (CP) content of the forage sample expressed
                  as a percentage of dry matter, excluding moisture content.

                narration: |
                  This value provides a moisture-adjusted measure of total
                  nitrogen-derived protein in the forage. It is the preferred
                  basis for comparing protein levels across different forages
                  and is standard in ration balancing.

                validation_guidance: |
                  - Must be a decimal between 4.0 and 25.0.
                  - Values below 7% may not support optimal rumen microbial activity.
                  - Values above 25% are generally limited to high-quality legume hay.

              - id: crude_protein_pct_af
                title: Crude protein (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 3.0
                  max: 20.0

                definition: >
                  The Crude Protein (CP) content of the forage sample expressed
                  as a percentage of the as-fed material, including moisture
                  content.

                narration: |
                  This value reflects actual protein content in the feed as
                  delivered to livestock. It is useful for calculating ration
                  contributions on an as-fed basis, especially when adjusting
                  for forage moisture variability.

                validation_guidance: |
                  - Must be a decimal between 3.0 and 20.0.
                  - As-fed values are moisture-dependent and typically lower than dry matter equivalents.
                  - Use this field when ration formulation is performed using as-fed weights.

          - id: available_protein
            title: Available protein
            data_type: object
            required: false
            any_of:
              - required: [available_protein_pct_dm]
              - required: [available_protein_pct_af]

            definition: >
              A structured field reporting the available protein content of the
              forage sample, expressed on a dry matter (% DM) and/or as-fed (%
              AF) basis.

            narration: |
              Available protein represents the fraction of crude protein (CP)
              that remains digestible and absorbable by the animal after
              subtracting heat-damaged or indigestible nitrogen. It is commonly
              estimated as crude protein minus acid detergent insoluble crude
              protein (ADF-CP).

              Available protein provides a more accurate assessment of the true
              nutritional value of forage protein, particularly for hays
              affected by harvest moisture, overheating, or mold. Damage from
              rain or excessive storage heat can reduce protein availability
              through Maillard reactions and protein-fiber binding.

              Grass hays typically contain 4% to 9% available protein on a dry matter basis. High-quality legume hays may reach 14% to 17%, depending on harvest maturity and handling.

            validation_guidance: |
              - Must be a decimal between 2.0 and 18.0.
              - Grass hays generally contain 4-9% available protein on a dry matter basis.
              - Legume hays in good condition may contain 14-17%.
              - Values above 18% are uncommon and should be verified for accuracy.

            fields:
              - id: available_protein_pct_dm
                title: Available protein (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 3.0
                  max: 24.0

                definition: >
                  The available protein content of the forage sample, expressed
                  as a percentage of dry matter, excluding moisture content.

                narration: |
                  This field estimates the digestible and usable portion of
                  total protein, based on nitrogen that is not bound to
                  indigestible fiber or rendered unavailable by heat damage. It
                  is a better predictor of animal performance than crude protein
                  alone.

                validation_guidance: |
                  - Must be a decimal between 3.0 and 24.0.
                  - Values between 4% and 9% are common for grass hay; 14-17% for high-quality legumes.
                  - Low values may indicate protein degradation; high values should be cross-checked with CP and ADF-CP.

              - id: available_protein_pct_af
                title: Available protein (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 2.5
                  max: 19.0

                definition: >
                  The available protein content of the forage sample, expressed
                  as a percentage of the as-fed material, including moisture.

                narration: |
                  This value accounts for moisture and is useful when
                  formulating rations using as-fed quantities. It typically runs
                  2-3 percentage points lower than dry matter values, depending
                  on forage moisture content.

                validation_guidance: |
                  - Must be a decimal between 2.5 and 19.0.
                  - Adjust for forage moisture to interpret accurately in ration balancing.
                  - Use alongside `% DM` to assess forage quality across storage or harvest conditions.

          - id: acid_detergent_insoluble_crude_protein
            title: ADICP (acid detergent insoluble CP)
            data_type: object
            required: false
            any_of:
              - required: [acid_detergent_insoluble_crude_protein_pct_dm]
              - required: [acid_detergent_insoluble_crude_protein_pct_af]

            definition: >
              A structured field reporting the acid detergent insoluble crude
              protein (ADICP or ADF-CP) content of the forage sample, expressed
              on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Acid Detergent Insoluble Crude Protein (ADICP), also known as
              ADF-CP, is the fraction of crude protein that is tightly bound to
              the acid detergent fiber (ADF) fraction and largely indigestible.
              It often results from heat damage during harvest or storage and is
              not usable by ruminants.

              ADICP is subtracted from total crude protein to calculate
              available protein. Well-cured hay generally has ADICP levels below
              2%. Values above 3% may indicate rain exposure, excessive
              maturity, or overheating -- each of which can significantly degrade
              forage quality even if crude protein appears high.

              Interpreting ADICP alongside crude and available protein helps
              assess actual nutritional value and detect hidden losses in forage
              quality.

            validation_guidance: |
              - Must be a decimal between 0.2 and 6.0.
              - Grass hays typically range from 0.5% to 2.0%; legumes may show slightly higher values when damaged.
              - Values above 3.0% indicate possible heat damage or poor harvest conditions.
              - Should be used in calculating available protein as: CP - ADICP.

            fields:
              - id: acid_detergent_insoluble_crude_protein_pct_dm
                title: ADICP (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.0
                  max: 6.0

                definition: >
                  The acid detergent insoluble crude protein content of the
                  forage, expressed as a percentage of dry matter.

                narration: |
                  This field quantifies the protein fraction bound to acid
                  detergent fiber and thus considered indigestible. It helps
                  identify losses from heat or microbial damage and is used to
                  estimate available protein.

                validation_guidance: |
                  - Must be a decimal between 0.0 and 6.0.
                  - Typical values range from 0.5% to 2.0%.
                  - Values above 3.0% often reflect compromised forage.

              - id: acid_detergent_insoluble_crude_protein_pct_af
                title: ADICP (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.0
                  max: 5.0

                definition: >
                  The acid detergent insoluble crude protein content of the
                  forage, expressed as a percentage of the as-fed material,
                  including moisture.

                narration: |
                  The as-fed value includes the effect of forage moisture and is
                  useful when assessing quality on a delivered or fed basis. It
                  complements the dry matter figure and supports ration
                  calculations across varied moisture conditions.

                validation_guidance: |
                  - Must be a decimal between 0.0 and 5.0.
                  - Adjust for moisture to align with ration calculations and feeding form.

          - id: adjusted_crude_protein
            title: Adjusted crude protein
            data_type: object
            required: false
            any_of:
              - required: [adjusted_crude_protein_pct_dm]
              - required: [adjusted_crude_protein_pct_af]

            definition: >
              A structured field reporting the adjusted crude protein (ACP)
              content of the forage sample, expressed on a dry matter (% DM)
              and/or as-fed (% AF) basis.

            narration: |
              Adjusted Crude Protein (ACP) is a refined measure of total forage
              protein, subtracting indigestible fractions such as acid detergent
              insoluble crude protein (ADICP or ADF-CP). It reflects the portion
              of protein that is actually usable by the animal and provides a
              more accurate indicator of nutritional value than crude protein
              alone.

              ACP is typically calculated as crude protein minus ADICP. It is
              closely related to "available protein," though the two terms may
              differ depending on lab methodology or modeling system. Most hays
              show ACP values 1 to 3 percentage points lower than crude protein.
              Weather-damaged or heat-affected hay may exhibit larger gaps.

              Reporting ACP supports improved ration formulation, especially
              when feeding ruminants with high-quality or compromised hay.

            validation_guidance: |
              - Must be a decimal between 3.0 and 26.0.
              - Adjusted crude protein removes indigestible protein fractions (e.g., ADICP) to better estimate usable protein.
              - Typically 1-3 points below total CP; values above 26% are uncommon.
              - Should be consistent with CP and ADICP values: ACP = CP - ADICP.

            fields:
              - id: adjusted_crude_protein_pct_dm
                title: Adjusted crude protein (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 3.0
                  max: 24.0

                definition: >
                  The adjusted crude protein content of the forage sample,
                  expressed as a percentage of dry matter.

                narration: |
                  This value reflects the digestible portion of total protein
                  after subtracting indigestible fractions. Expressed on a dry
                  matter basis, it helps evaluate forage quality under varying
                  harvest and storage conditions.

                validation_guidance: |
                  - Must be a decimal between 3.0 and 24.0.
                  - Compare to CP and ADICP values for internal consistency.

              - id: adjusted_crude_protein_pct_af
                title: Adjusted crude protein (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 2.5
                  max: 19.0

                definition: >
                  The adjusted crude protein content of the forage sample, expressed as a percentage of the as-fed material, including moisture.

                narration: |
                  This as-fed value includes moisture effects and is useful for practical feeding and ration adjustments. It complements the dry matter figure and is especially important
                  when hay is fed in variable moisture states.

                validation_guidance: |
                  - Must be a decimal between 2.5 and 19.0.
                  - Adjust based on forage moisture to interpret values appropriately.

          - id: neutral_detergent_insoluble_crude_protein
            title: NDICP (neutral detergent insoluble CP)
            data_type: object
            required: false
            any_of:
              - required: [neutral_detergent_insoluble_crude_protein_pct_dm]
              - required: [neutral_detergent_insoluble_crude_protein_pct_af]

            definition: >
              A structured field reporting the neutral detergent insoluble crude
              protein (NDICP) content of the forage sample, expressed on a dry
              matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Neutral Detergent Insoluble Crude Protein (NDICP) refers to the
              portion of crude protein bound within the plant cell wall, as
              measured during neutral detergent fiber (NDF) analysis. This
              fraction includes both indigestible and slowly digestible protein
              linked to cell wall components.

              NDICP is generally higher than acid detergent insoluble protein
              (ADICP), as it includes all protein associated with the fiber
              matrix, not just the most resistant portion. Its value is useful
              for estimating rumen-undegradable protein (RUP) and metabolizable
              protein contributions, particularly in mature or weathered forage.

              Elevated NDICP levels may indicate excessive fiber, delayed
              harvest, or heat damage. Proper interpretation is essential in
              formulating rations for animals with high protein requirements or
              limited rumen degradation time.

            validation_guidance: |
              - Must be a decimal between 1.0 and 10.0.
              - NDICP includes both digestible and indigestible fiber-bound protein.
              - Typical hay values range from 0.5% to 1.5%; values above 2.5% suggest maturity, damage, or poor curing.
              - Should be compared with ADICP and crude protein for consistency.

            fields:
              - id: neutral_detergent_insoluble_crude_protein_pct_dm
                title: NDICP (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 1.0
                  max: 10.0

                definition: >
                  The neutral detergent insoluble crude protein content of the
                  forage sample, expressed as a percentage of dry matter.

                narration: |
                  This value reflects the fiber-bound portion of total crude
                  protein that may resist ruminal degradation. It helps assess
                  true protein availability in dry matter terms.

                validation_guidance: |
                  - Must be a decimal between 1.0 and 10.0.
                  - Compare with ADICP and CP to assess indigestibility levels.

              - id: neutral_detergent_insoluble_crude_protein_pct_af
                title: NDICP (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.8
                  max: 8.0

                definition: >
                  The neutral detergent insoluble crude protein content of the
                  forage sample, expressed as a percentage of as-fed weight.

                narration: |
                  This value represents the NDICP fraction with moisture
                  included and supports ration balancing under practical feeding
                  conditions.

                validation_guidance: |
                  - Must be a decimal between 0.8 and 8.0.
                  - Adjust expected values based on forage moisture content.

          - id: soluble_protein_pct_cp
            title: Soluble protein (% of CP)
            data_type: float
            units: percent_cp
            valid_range:
              min: 15.0
              max: 50.0
            validation_pending: true

            definition: >
              A positive decimal value representing the soluble protein fraction
              of the hay sample, expressed as a percentage of crude protein (%
              of CP).

            narration: |
              Soluble Protein is the fraction of crude protein that dissolves
              rapidly in rumen fluid and becomes quickly available for microbial
              fermentation. It includes non-protein nitrogen (NPN), peptides,
              amino acids, and some true protein. This field expresses soluble
              protein as a percentage of the total crude protein content.
              Typical values for hay range from 15 to 40 percent of CP. Higher
              values reflect faster ruminal degradation and may lead to nitrogen
              imbalances if not supported by sufficient fermentable energy.
              Soluble protein is an important component of degradable intake
              protein and is often used in formulating balanced rations to
              support optimal microbial protein synthesis in ruminants.

            validation_guidance: |
              - Must be a decimal between 15.0 and 50.0.
              - Soluble protein is the rapidly available fraction of crude protein. It plays a key role in microbial growth and rumen function. Most forages range from 30-60%. Values above
              70% are uncommon and may suggest high NPN or sampling error.

          - id: degradable_protein_pct_cp
            title: Degradable protein (% of CP)
            data_type: float
            units: percent_cp
            valid_range:
              min: 40.0
              max: 85.0
            validation_pending: true

            definition: >
              A positive decimal value representing the degradable crude protein
              content of the hay sample, expressed as a percentage of crude
              protein (% of CP).

            narration: |
              Degradable Protein, also referred to as Ruminally Degradable
              Protein (RDP), is the portion of crude protein that is broken down
              in the rumen into ammonia, peptides, and amino acids. This
              fraction supports microbial protein synthesis and helps drive
              efficient fermentation. The value is expressed as a percentage of
              total crude protein and includes soluble protein as a subset,
              along with more slowly degradable true protein components. Forages
              generally contain 30 to 80 percent degradable protein relative to
              CP. When degradability is very high, diets may require
              supplementation with rumen undegradable protein (RUP) to ensure
              balanced nitrogen and energy availability.

            validation_guidance: |
              - Must be a decimal between 40.0 and 85.0.
              - Degradable protein represents the portion of total crude protein that is broken down in the rumen. Most grass hay ranges from 55-70%, and alfalfa from 65-80%. Values below
              40% may indicate heat damage or spoilage.

      - id: amino_acid_profile
        title: Amino acid profile

        definition: >
          Reports the concentration of key essential amino acids present in the
          forage sample, relevant for animal growth, production, and metabolic
          efficiency.

        narration: |
          This group focuses on the amino acid composition of the forage, with
          emphasis on lysine and methionine -- two of the most limiting amino
          acids in ruminant and monogastric diets. These values help refine
          protein balancing and support accurate formulation of performance
          rations for dairy, equine, and specialty livestock systems.

          Amino acid profiling may be particularly relevant in high-value hay
          intended for young, lactating, or fast-growing animals.

        fields:
          - id: lysine
            title: Lysine
            data_type: object
            required: false
            any_of:
              - required: [lysine_pct_dm]
              - required: [lysine_pct_af]

            definition: >
              A structured field reporting the lysine content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Lysine is an essential amino acid important for growth, muscle
              development, immune function, and milk production in livestock.
              Forages vary in lysine content depending on species, maturity at
              harvest, and preservation conditions. Alfalfa and legumes tend to
              contain more lysine than grasses.

              This field enables reporting of lysine concentration either on a
              dry matter basis (`% DM`) or as fed (`% AF`). Dry matter values
              are preferred for comparison and formulation; as-fed values may be
              useful for on-farm feeding contexts.

            validation_guidance: |
              - At least one of `lysine_pct_dm` or `lysine_pct_af` must be provided.
              - Both values may be reported if available and derived from the same laboratory test or model.
              - Values outside typical ranges may indicate errors in testing, incorrect units, or unusual forage types.

            fields:
              - id: lysine_pct_dm
                title: Lysine (% DM)
                data_type: float
                units: percent_dm
                required: false
                valid_range:
                  min: 0.10
                  max: 0.40

                definition: >
                  Lysine content of the forage sample, expressed as a percentage
                  of dry matter.

                narration: |
                  Reports lysine concentration based on a 100% dry matter basis,
                  which removes the variability introduced by moisture. This is
                  the preferred value for ration formulation, comparison across
                  samples, and use in feed models.

                  Typical values range from 0.3% to 1.5% of dry matter. Values
                  above 2.0% are rare and may indicate reporting or sampling
                  anomalies.

                validation_guidance: |
                  - Must be a decimal between 0.10 and 0.40.
                  - Values above 2.0% should be flagged for review.
                  - For legumes, typical values range from 0.3% to 0.7%.
                  - For grass hays, typical values are lower, often 0.2% to 0.4%.

              - id: lysine_pct_af
                title: Lysine (% AF)
                data_type: float
                units: percent_as_fed
                required: false
                valid_range:
                  min: 0.08
                  max: 0.30

                definition: >
                  Lysine content of the forage sample, expressed as a percentage
                  of the sample as fed (including moisture).

                narration: |
                  Reports lysine concentration in the form the forage will be
                  fed, including its natural moisture content. This value may be
                  derived from the dry matter concentration using laboratory
                  moisture data.

                  While not ideal for comparing across lots or species, it may
                  help explain on-farm performance if actual feeding moisture is
                  known.

                validation_guidance: |
                  - Must be a decimal between 0.08 and 0.30.
                  - Value should be equal to `lysine_pct_dm * dry_matter_fraction`, where the dry matter fraction is typically between 0.80 and 0.92.
                  - Values above 1.5% are uncommon on an as-fed basis.

          - id: methionine
            title: Methionine
            data_type: object
            required: false
            any_of:
              - required: [methionine_pct_dm]
              - required: [methionine_pct_af]

            definition: >
              A structured field reporting the methionine content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Methionine is an essential sulfur-containing amino acid involved
              in protein synthesis, liver function, and methylation processes.
              It is particularly important in dairy cow rations, where it often
              ranks as the second limiting amino acid after lysine.

              This field supports methionine concentration reporting on both a
              dry matter basis (`% DM`) and an as-fed basis (`% AF`). Values are
              usually determined via laboratory testing using Near Infrared
              Reflectance (NIR) or wet chemistry. Typical values for hay range
              from 0.10 to 0.30 percent of dry matter.

            validation_guidance: |
              - At least one of `methionine_pct_dm` or `methionine_pct_af` must be provided.
              - Both values may be reported if available and derived from the same sample.
              - Values exceeding 0.45% are rare and may suggest analytical or unit-entry errors.

            fields:
              - id: methionine_pct_dm
                title: Methionine (% DM)
                data_type: float
                units: percent_dm
                required: false
                valid_range:
                  min: 0.05
                  max: 0.20

                definition: >
                  Methionine content of the forage sample, expressed as a
                  percentage of dry matter.

                narration: |
                  Reports the methionine concentration on a 100% dry matter
                  basis. This is the standard format for ration formulation and
                  nutritional modeling.

                  Most grass and legume forages contain between 0.10% and 0.30%
                  methionine on a dry matter basis. Values above 0.45% are rare
                  and may indicate sample contamination or mislabeling.

                validation_guidance: |
                  - Must be a decimal between 0.05 and 0.20.
                  - Values exceeding 0.45% should be flagged for review.
                  - Use of dry matter values supports consistency across samples and species.

              - id: methionine_pct_af
                title: Methionine (% AF)
                data_type: float
                units: percent_as_fed
                required: false
                valid_range:
                  min: 0.04
                  max: 0.16

                definition: >
                  Methionine content of the forage sample, expressed as a
                  percentage of the as-fed material (including moisture).

                narration: |
                  Reports methionine concentration including the natural
                  moisture content of the sample. This value may be calculated
                  from dry matter using known moisture levels or measured
                  directly.

                  As-fed values are useful for evaluating actual feeding
                  scenarios but are less reliable for intersample comparisons
                  due to moisture variability.

                validation_guidance: |
                  - Must be a decimal between 0.04 and 0.16.
                  - Value should approximately equal `methionine_pct_dm * dry_matter_fraction`.
                  - Values above 0.35% on an as-fed basis are uncommon.

      - id: carbohydrate_profile
        title: Carbohydrate profile

        definition: >
          Breaks down the structural and non-structural carbohydrate components
          of the forage, which influence energy availability, digestibility, and
          intake behavior.

        narration: |
          This group characterizes the forage's carbohydrate makeup, including
          fiber fractions and non-fiber carbohydrates. It helps quantify both
          slowly and rapidly fermentable energy sources, guiding ration
          formulation for energy balance and digestive health.

          Structural carbohydrates such as ADF and NDF affect intake and
          digestibility, while non-fiber components such as starch and WSC
          influence fermentation rate and rumen dynamics. These values are
          essential for predicting animal response and optimizing feed
          efficiency.

        validation_guidance: |
          This is a structural field used to organize related fields into a
          logical group.

          - This field must have an empty `group` key.
          - All member fields should appear immediately after this group in the section.
          - Each member field must reference this group using the `group` key.
          - This field has a `data_type` of `group` and is used only for organizing related fields; it does not store data itself and should not appear in any dataset or form.

          Validation logic should ensure that grouped fields are present and
          correctly associated via the `group` key.

        fields:
          - id: acid_detergent_fiber
            title: Acid Detergent Fiber (ADF)
            data_type: object
            required: false
            any_of:
              - required: [acid_detergent_fiber_pct_dm]
              - required: [acid_detergent_fiber_pct_af]

            definition: >
              A structured field reporting the Acid Detergent Fiber (ADF)
              content of the forage sample, expressed on a dry matter (% DM)
              and/or as-fed (% AF) basis.

            narration: |
              Acid Detergent Fiber (ADF) is the portion of plant fiber made up
              primarily of cellulose and lignin -- the least digestible
              components of forage. ADF is one of the most commonly used fiber
              metrics in forage analysis and is strongly associated with
              digestibility and energy content.

              This field supports reporting of ADF on both a dry matter basis
              (`% DM`) and an as-fed basis (`% AF`). Laboratory results are
              typically obtained via wet chemistry or estimated using Near
              Infrared Reflectance (NIR). Typical ADF values for hay fall
              between 25% and 45% on a dry matter basis.

            validation_guidance: |
              - At least one of `acid_detergent_fiber_pct_dm` or `acid_detergent_fiber_pct_af` must be provided.
              - Both values may be reported if available and derived from the same sample.
              - Values below 20% or above 60% are uncommon and should be reviewed for accuracy.

            fields:
              - id: acid_detergent_fiber_pct_dm
                title: ADF (% DM)
                data_type: float
                units: percent_dm
                required: false
                valid_range:
                  min: 18.0
                  max: 45.0

                definition: >
                  Acid Detergent Fiber content of the forage sample, expressed
                  as a percentage of dry matter.

                narration: |
                  Reports the ADF concentration on a 100% dry matter basis. This
                  is the standard metric used in ration formulation and forage
                  quality evaluation.

                  ADF values on a dry matter basis typically range from 25% to
                  45% in most hays. Values above 60% may indicate highly fibrous
                  or weather-damaged forage, while values below 20% are rare and
                  may suggest mislabeling or unusual forage types.

                validation_guidance: |
                  - Must be a decimal between 18.0 and 45.0.
                  - Values outside the typical 20-60% range should be flagged for further review.
                  - Consistent use of DM basis improves comparability between samples.

              - id: acid_detergent_fiber_pct_af
                title: ADF (% AF)
                data_type: float
                units: percent_as_fed
                required: false
                valid_range:
                  min: 15.0
                  max: 37.0

                definition: >
                  Acid Detergent Fiber content of the forage sample, expressed
                  as a percentage of the as-fed material (including moisture).

                narration: |
                  Reports ADF concentration based on the hay's natural moisture
                  content. This value may be calculated from the dry matter
                  percentage or measured directly, and is typically used in
                  feeding scenarios where hay is delivered without drying.

                  As-fed ADF values are influenced by moisture content and may
                  appear lower than dry matter equivalents.

                validation_guidance: |
                  - Must be a decimal between 15.0 and 37.0.
                  - Value should approximately equal `acid_detergent_fiber_pct_dm * dry_matter_fraction`.
                  - As-fed values above 50% are rare and may suggest very fibrous material or unit conversion issues.

          - id: neutral_detergent_fiber
            title: Neutral Detergent Fiber (NDF)
            data_type: object
            required: false
            any_of:
              - required: [neutral_detergent_fiber_pct_dm]
              - required: [neutral_detergent_fiber_pct_af]

            definition: >
              A structured field reporting the neutral detergent fiber (NDF) content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Neutral Detergent Fiber (NDF) quantifies the total cell wall content of forage, including hemicellulose, cellulose, and lignin. NDF is a key factor in determining forage bulk
              and is a primary constraint on dry matter intake in ruminants. Lower NDF values are generally associated with higher forage quality, greater palatability, and improved intake.

              This field supports NDF concentration reporting on both a dry matter and as-fed basis. Values are typically determined via Near Infrared Reflectance (NIR) spectroscopy or
              standard wet chemistry methods using a neutral detergent solution.

            validation_guidance: |
              - NDF should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Values for hay commonly range from 40.0 to 65.0 percent of dry matter.
              - Values below 30.0 or above 75.0 percent may reflect sampling error or atypical forage composition.
              - NDF is inversely related to intake and is a key parameter in ration balancing.

            fields:
              - id: neutral_detergent_fiber_pct_dm
                title: NDF (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 30.0
                  max: 70.0

                definition: >
                  The neutral detergent fiber (NDF) concentration of the forage sample, expressed as a percentage of dry matter.

                narration: |
                  This value represents the NDF content on a dry matter basis. It reflects the fibrous components of plant material that limit intake in ruminants. Higher NDF values often
                  indicate more mature or stemmy forage. Reported as % of dry matter (% DM), it is a core metric in forage testing.

                validation_guidance: |
                  - Must be a decimal between 30.0 and 70.0.
                  - Typical range is 40.0 to 65.0 percent of dry matter.
                  - Use standardized laboratory methods such as NIR or wet chemistry for measurement.

              - id: neutral_detergent_fiber_pct_af
                title: NDF (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 25.0
                  max: 58.0

                definition: >
                  The neutral detergent fiber (NDF) concentration of the forage sample, expressed as a percentage of the as-fed weight.

                narration: |
                  This value represents the NDF content of the forage on an as-fed basis, taking into account the moisture present in the sample. This can aid in ration comparisons and
                  reflects the effective fiber concentration as it would be consumed by the animal.

                validation_guidance: |
                  - Must be a decimal between 25.0 and 58.0.
                  - Will generally be lower than the dry matter value due to dilution by moisture.
                  - Ensure consistency of sampling and moisture correction when reporting both DM and AF values.

          - id: lignin
            title: Lignin
            data_type: object
            required: false
            any_of:
              - required: [lignin_pct_dm]
              - required: [lignin_pct_af]

            definition: >
              A structured field reporting the lignin content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Lignin is an indigestible polymer found in plant cell walls that provides rigidity and resistance to microbial breakdown. While essential for plant structure, lignin impedes
              digestibility in ruminant diets. Its concentration is strongly correlated with forage maturity and is a key factor in limiting fiber digestibility.

              Lignin values are typically measured via acid detergent lignin (ADL) methods, either by wet chemistry or Near Infrared Reflectance (NIR) analysis. Reporting lignin content on both
              dry matter and as-fed bases supports a full evaluation of forage nutritive value.

            validation_guidance: |
              - Lignin should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for lignin in hay range from 2.0 to 8.0 percent of dry matter.
              - Values below 1.0 or above 10.0 percent may reflect errors in sampling or unusual forage types.
              - Higher lignin levels usually indicate decreased digestibility and lower feeding value.

            fields:
              - id: lignin_pct_dm
                title: Lignin (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 2.0
                  max: 12.0

                definition: >
                  The concentration of lignin in the forage sample expressed as a percentage of dry matter.

                narration: |
                  This value represents the lignin fraction of the forage on a dry matter basis. Lignin is highly resistant to microbial digestion and is negatively correlated with digestibility
                  and energy availability. Forages with lower lignin content are typically more digestible and palatable.

                validation_guidance: |
                  - Must be a decimal between 2.0 and 12.0.
                  - Typical values for hay range from 2.0 to 8.0 percent of dry matter.
                  - Use wet chemistry or NIR methods for measurement.

              - id: lignin_pct_af
                title: Lignin (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 1.5
                  max: 10.0

                definition: >
                  The concentration of lignin in the forage sample expressed as a percentage of the as-fed weight.

                narration: |
                  This value represents the lignin content of the forage on an as-fed basis, accounting for its natural moisture content. As-fed values are useful when comparing rations or
                  evaluating total nutrient supply under feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 1.5 and 10.0.
                  - Typically lower than dry matter values due to dilution by moisture.
                  - Use consistent methodology with DM-based measurements for comparability.

          - id: non_fiber_carbohydrates
            title: Non-Fiber Carbohydrates (NFC)
            data_type: object
            required: false
            any_of:
              - required: [non_fiber_carbohydrates_pct_dm]
              - required: [non_fiber_carbohydrates_pct_af]

            definition: >
              A structured field reporting the non-fiber carbohydrate (NFC) content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Non-Fiber Carbohydrates (NFC) represent the rapidly fermentable portion of the forage, composed of sugars, starches, pectins, and organic acids. These components are important
              sources of energy in ruminant diets and are more readily digested than fiber-based fractions.

              NFC is typically calculated as the remainder after subtracting NDF, crude protein (CP), fat, and ash from 100 percent of the dry matter. While high NFC forages can boost
              energy density, excessive NFC intake may increase the risk of ruminal acidosis if not properly balanced with effective fiber.

            validation_guidance: |
              - NFC should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Values typically range from 15.0 to 35.0 percent of dry matter.
              - Values below 10.0 or above 45.0 percent are uncommon and may indicate sampling or calculation errors.
              - Confirm lab methods or formulas used if the result is atypical.

            fields:
              - id: non_fiber_carbohydrates_pct_dm
                title: NFC (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 10.0
                  max: 35.0

                definition: >
                  The concentration of non-fiber carbohydrates in the forage sample, expressed as a percentage of dry matter.

                narration: |
                  This value represents the NFC content on a dry matter basis. It reflects the portion of the forage that is rapidly fermentable and not part of the fibrous cell wall
                  structure. Typical sources include simple sugars, starch, and pectin. It is often calculated indirectly from other lab values.

                validation_guidance: |
                  - Must be a decimal between 10.0 and 35.0.
                  - Values between 15.0 and 35.0 percent of dry matter are typical.
                  - Confirm that calculation is consistent with NRC or lab-specific methodology.

              - id: non_fiber_carbohydrates_pct_af
                title: NFC (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 8.0
                  max: 28.0

                definition: >
                  The concentration of non-fiber carbohydrates in the forage sample, expressed as a percentage of the as-fed weight.

                narration: |
                  This value expresses NFC content on an as-fed basis, accounting for the moisture present in the forage. It is used to assess the actual fermentable carbohydrate intake
                  animals receive when consuming the forage in its fed form.

                validation_guidance: |
                  - Must be a decimal between 8.0 and 28.0.
                  - As-fed values will be lower than dry matter values due to dilution by moisture.
                  - Ensure consistency in conversion between dry matter and as-fed values when calculating NFC.

          - id: starch
            title: Starch
            data_type: object
            required: false
            any_of:
              - required: [starch_pct_dm]
              - required: [starch_pct_af]

            definition: >
              A structured field reporting the starch content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Starch is a non-structural carbohydrate that provides a dense,
              rapidly fermentable source of energy in ruminant diets. It is
              found primarily in cereal grains and small-grain forages,
              especially when harvested at the boot, milk, or dough stages. Most
              grass and legume hays contain very little starch.

              This field supports starch concentration reporting on both dry
              matter and as-fed bases. Laboratory determination typically uses
              wet chemistry methods such as enzymatic hydrolysis or Near
              Infrared Reflectance (NIR) scanning.

            validation_guidance: |
              - Starch should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for hay range from 0.5 to 6.0 percent of dry matter.
              - Values above 10.0 percent are uncommon and may indicate grain contamination or misclassification.
              - For high-starch forage types (e.g., oat hay with immature grain), levels up to 12.0 percent are plausible.

            fields:
              - id: starch_pct_dm
                title: Starch (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.5
                  max: 8.0

                definition: >
                  The starch concentration of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value represents starch content on a dry matter basis,
                  reflecting the total amount of fermentable starch in the
                  forage. Dry matter values allow consistent comparison across
                  different moisture levels and are especially relevant when
                  balancing rations for energy supply.

                validation_guidance: |
                  - Must be a decimal between 0.5 and 8.0.
                  - Typical values range from 0.5 to 6.0 percent of dry matter.
                  - Values above 12.0 percent may indicate grain contamination or classification as a silage or cereal forage rather than hay.

              - id: starch_pct_af
                title: Starch (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.4
                  max: 6.5

                definition: >
                  The starch concentration of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value reports starch content on an as-fed basis,
                  accounting for the forage's natural moisture. It reflects the
                  actual intake of starch when fed and is helpful for
                  calculating energy contribution in practical feeding
                  situations.

                validation_guidance: |
                  - Must be a decimal between 0.4 and 6.5.
                  - Values are typically lower than dry matter values due to moisture dilution.
                  - Ensure moisture content is accurately known when converting between AF and DM bases.

          - id: water_soluble_carbohydrates
            title: Water-Soluble Carbohydrates (WSC)
            data_type: object
            required: false
            any_of:
              - required: [water_soluble_carbohydrates_pct_dm]
              - required: [water_soluble_carbohydrates_pct_af]

            definition: >
              A structured field reporting the water-soluble carbohydrate (WSC)
              content of the forage sample, expressed on a dry matter (% DM)
              and/or as-fed (% AF) basis.

            narration: |
              Water-Soluble Carbohydrates (WSC) are composed primarily of simple
              sugars and some fructans that dissolve in water. These rapidly
              fermentable carbohydrates contribute to the palatability and
              energy density of forage and play an important role in animal
              performance and digestive health.

              WSC levels influence forage suitability for animals with
              carbohydrate sensitivity, such as horses with metabolic disorders.
              In ensiled forages, WSC content affects fermentation quality. WSC
              is typically measured by wet chemistry methods such as ethanol
              extraction and colorimetric assays.

            validation_guidance: |
              - WSC should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 6.0 to 18.0 percent of dry matter, depending on forage species and maturity.
              - Values below 2.0 or above 25.0 percent are unusual and may indicate sampling or analytical error.
              - WSC is a key consideration for equine diets and fermentability of forage.

            fields:
              - id: water_soluble_carbohydrates_pct_dm
                title: WSC (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 3.0
                  max: 25.0

                definition: >
                  The concentration of water-soluble carbohydrates in the forage
                  sample expressed as a percentage of dry matter.

                narration: |
                  This value reflects the amount of WSC in the forage on a dry
                  matter basis, representing sugars and soluble carbohydrates
                  that are readily digestible and often rapidly fermented in the
                  rumen or hindgut. WSC contributes to both palatability and
                  energy yield.

                validation_guidance: |
                  - Must be a decimal between 3.0 and 25.0.
                  - Typical range is 6.0 to 18.0 percent of dry matter.
                  - Values above 25.0 percent may indicate immature or highly sugar-rich forages or analytical error.

              - id: water_soluble_carbohydrates_pct_af
                title: WSC (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 2.5
                  max: 20.0

                definition: >
                  The concentration of water-soluble carbohydrates in the forage
                  sample expressed as a percentage of the as-fed weight.

                narration: |
                  This value expresses the WSC content on an as-fed basis,
                  reflecting the soluble carbohydrate contribution in the
                  moisture-adjusted form in which animals actually consume the
                  forage. Useful for ration balancing and metabolic load
                  considerations.

                validation_guidance: |
                  - Must be a decimal between 2.5 and 20.0.
                  - As-fed values are typically lower than dry matter values due to moisture dilution.
                  - Ensure consistent sample moisture correction when calculating or reporting WSC.


      - id: fat_content
        title: Fat content

        definition: >
          Describes the fat and lipid composition of the forage, including both total fat and biologically active fatty acid fractions relevant to energy density and rumen function.

        narration: |
          This group quantifies the fat content of the hay sample and its potential impact on energy value and rumen health. It includes both crude fat (total ether-extractable material)
          and total fatty acids (the biologically relevant portion of the fat fraction).

          The rumen_unsaturated_fatty_acid_load field helps assess risk of milk fat depression or fermentation disruption in high-fat diets. These metrics are important in dairy and beef
          rations where lipid levels and fat source types influence animal performance and feed efficiency.

        validation_guidance: |
          This is a structural field used to organize related fields into a logical group.

          - This field must have an empty `group` key.
          - All member fields should appear immediately after this group in the section.
          - Each member field must reference this group using the `group` key.
          - This field has a `data_type` of `group` and is used only for organizing related fields; it does not store data itself and should not appear in any dataset or form.

          Validation logic should ensure that grouped fields are present and correctly associated via the `group` key.

        fields:
          - id: crude_fat
            title: Crude fat
            data_type: object
            required: false
            any_of:
              - required: [crude_fat_pct_dm]
              - required: [crude_fat_pct_af]

            definition: >
              A structured field reporting the crude fat content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Crude fat represents the ether-extractable fraction of forage, including lipids, fatty acids, waxes, pigments, sterols, and other organic compounds soluble in ether.
              Although forages are not typically rich in fat, this component contributes to the total digestible energy of the diet and may influence palatability and conservation
              characteristics.

              Elevated crude fat levels may occur in forages treated with oil-based additives, ensiled materials, or hay supplemented with lipid-rich components such as oilseeds
              or byproduct feeds. Crude fat is usually measured by laboratory solvent extraction techniques.

            validation_guidance: |
              - Crude fat should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for hay range from 2.0 to 3.5 percent of dry matter.
              - Values below 1.0 or above 5.0 percent are rare and may indicate sampling, classification, or laboratory error.
              - Higher values may be legitimate for mixed or treated forages, but should be flagged for review.

            fields:
              - id: crude_fat_pct_dm
                title: Crude fat (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 1.0
                  max: 4.0

                definition: >
                  The crude fat concentration of the forage sample expressed as a percentage of dry matter.

                narration: |
                  This value indicates the total ether-extractable lipid content of the forage on a dry matter basis. Crude fat includes both structural and non-structural lipids and
                  is used in energy calculations such as total digestible nutrients (TDN) and net energy estimates.

                validation_guidance: |
                  - Must be a decimal between 1.0 and 4.0.
                  - Typical values range from 2.0 to 3.5 percent of dry matter in hay.
                  - Values over 5.0 percent may indicate additives or inclusion of lipid-rich materials.

              - id: crude_fat_pct_af
                title: Crude fat (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.8
                  max: 3.2

                definition: >
                  The crude fat concentration of the forage sample expressed as a percentage of the as-fed weight.

                narration: |
                  This value represents the ether-extractable fat content of the forage on an as-fed basis, accounting for natural moisture. It is helpful for evaluating nutrient
                  intake under feeding conditions and contributes to dietary energy density.

                validation_guidance: |
                  - Must be a decimal between 0.8 and 3.2.
                  - As-fed values are typically lower than dry matter values due to moisture content.
                  - Ensure consistency with DM-based values and proper moisture correction.

          - id: total_fatty_acids
            title: Total fatty acids
            data_type: object
            required: false
            any_of:
              - required: [total_fatty_acids_pct_dm]
              - required: [total_fatty_acids_pct_af]

            definition: >
              A structured field reporting the total fatty acid content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Total Fatty Acids (TFA) represent the proportion of ether-extractable lipids in forage that consists of true fatty acids. This excludes non-nutritive ether-soluble
              compounds such as waxes, pigments, sterols, and essential oils. Because fatty acids contribute directly to energy metabolism, TFA is used in nutritional models to
              estimate Net Energy for Lactation (NEL), Maintenance (NEM), and Gain (NEG).

              TFA is typically measured via laboratory extraction or estimated by applying a multiplier (commonly 0.8) to the crude fat value. TFA is considered a more biologically
              meaningful metric than crude fat in ration formulation.

            validation_guidance: |
              - TFA should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 1.5 to 3.0 percent of dry matter.
              - Values below 0.5 or above 4.0 percent are unusual and may indicate measurement or calculation errors.
              - If calculated, document the formula used (e.g., 0.8 x crude fat).

            fields:
              - id: total_fatty_acids_pct_dm
                title: Total fatty acids (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.8
                  max: 3.5

                definition: >
                  The total fatty acid content of the forage sample expressed as a percentage of dry matter.

                narration: |
                  This value quantifies the proportion of true fatty acids in the forage on a dry matter basis. Total fatty acids more accurately represent the metabolizable lipid
                  content than crude fat and are often derived by multiplying crude fat by an adjustment factor, typically 0.8.

                validation_guidance: |
                  - Must be a decimal between 0.8 and 3.5.
                  - Typical range is 1.5 to 3.0 percent of dry matter.
                  - Values over 4.0 percent are rare for hay and may suggest misclassification or contamination.

              - id: total_fatty_acids_pct_af
                title: Total fatty acids (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.6
                  max: 2.8

                definition: >
                  The total fatty acid content of the forage sample expressed as a percentage of the as-fed weight.

                narration: |
                  This value reflects the metabolizable lipid content of the forage on an as-fed basis, accounting for the moisture present at feeding. It is useful for determining
                  actual fatty acid intake under field conditions.

                validation_guidance: |
                  - Must be a decimal between 0.6 and 2.8.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Ensure conversion from DM to AF is based on accurate moisture content.

          - id: rumen_unsaturated_fatty_acid_load
            title: Rumen Unsaturated Fatty Acid Load (RUFAL)
            data_type: object
            required: false
            any_of:
              - required: [rumen_unsaturated_fatty_acid_load_pct_dm]
              - required: [rumen_unsaturated_fatty_acid_load_pct_af]

            definition: >
              A structured field reporting the Rumen Unsaturated Fatty Acid Load (RUFAL) of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Rumen Unsaturated Fatty Acid Load (RUFAL) estimates the concentration of unsaturated fatty acids in forage that may influence rumen fermentation, fiber digestibility,
              and milk fat synthesis. High RUFAL levels can suppress microbial activity and are associated with increased risk of milk fat depression (MFD) in dairy cattle.

              This field is especially relevant in high-producing dairy rations where multiple lipid sources are included. RUFAL is typically calculated from laboratory fatty acid profiles
              and expressed as a percentage of dry matter or as-fed weight, though some labs may report it in grams per kilogram or per 100 grams of DM.

            validation_guidance: |
              - RUFAL should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for hay range from 0.5 to 3.0 percent of dry matter.
              - Values above 4.0 percent may impair rumen function if not counterbalanced by effective fiber and buffer strategies.
              - Be aware of unit discrepancies; some sources report RUFAL in g/kg instead of percentage.

            fields:
              - id: rumen_unsaturated_fatty_acid_load_pct_dm
                title: RUFAL (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.3
                  max: 1.5

                definition: >
                  The Rumen Unsaturated Fatty Acid Load (RUFAL) of the forage sample, expressed as a percentage of dry matter.

                narration: |
                  This value represents the concentration of unsaturated fatty acids that affect rumen metabolism, calculated on a dry matter basis. RUFAL is a useful predictor of potential
                  milk fat depression or reduced fiber digestibility when dietary lipid levels are high.

                validation_guidance: |
                  - Must be a decimal between 0.3 and 1.5.
                  - Typical values are 0.5 to 3.0 percent of dry matter.
                  - Ensure consistency with lab-reported units; convert g/kg or g/100g to percent if needed.

              - id: rumen_unsaturated_fatty_acid_load_pct_af
                title: RUFAL (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.2
                  max: 1.2

                definition: >
                  The Rumen Unsaturated Fatty Acid Load (RUFAL) of the forage sample, expressed as a percentage of the as-fed weight.

                narration: |
                  This value reflects the unsaturated fatty acid load on an as-fed basis, accounting for forage moisture. It is important for ration-level intake assessments,
                  particularly when evaluating total lipid contribution from forage.

                validation_guidance: |
                  - Must be a decimal between 0.2 and 1.2.
                  - As-fed values will typically be lower than DM values due to moisture content.
                  - Ensure conversion is based on accurately measured dry matter content.

      - id: digestibility_energy
        title: Digestibility and energy metrics

        definition: >
          Captures digestibility metrics and additional energy values relevant for both ruminants and non-ruminants, including in vitro tests and equine energy estimation.

        narration: |
          This group brings together forage digestibility indicators and broader energy metrics not included in the NRC 2001 system. It includes in vitro true digestibility (IVTD), fiber
          digestibility (NDFD), and digestion rate (Kd), as well as Total Digestible Nutrients (TDN) and horse-specific digestible energy.

          These fields support ration formulation, intake prediction, and performance modeling for various livestock classes, especially when tailoring diets to energy demand or
          digestive sensitivity.

        validation_guidance: |
          This is a structural field used to organize related fields into a logical group.

          - This field must have an empty `group` key.
          - All member fields should appear immediately after this group in the section.
          - Each member field must reference this group using the `group` key.
          - This field has a `data_type` of `group` and is used only for organizing related fields; it does not store data itself and should not appear in any dataset or form.

          Validation logic should ensure that grouped fields are present and correctly associated via the `group` key.

        fields:
          - id: in_vitro_true_digestibility_30hr_percent_dm
            title: In vitro true digestibility (30 hr, % of DM)
            data_type: float
            units: percent_dm
            valid_range:
              min: 50.0
              max: 90.0
            validation_pending: true

            definition: >
              A positive decimal value representing the in vitro true digestibility of the hay sample after 30 hours of fermentation, expressed as a percentage of dry matter.

            narration: |
              This field reflects In Vitro True Digestibility (IVTD) after 30 hours of laboratory fermentation, simulating rumen conditions. It measures the proportion of the forage that is
              truly digestible by ruminants and is expressed as a percentage of dry matter. IVTD is typically determined using rumen fluid or enzymatic digestion models. Higher values
              indicate higher quality forage and greater energy availability. IVTD is a key metric for dairy and beef producers aiming to improve feed efficiency and optimize production
              outcomes such as milk yield or average daily gain.

            validation_guidance: |
              - Must be a decimal between 50.0 and 90.0.
              - This field estimates true digestibility of dry matter after 30 hours of in vitro rumen simulation.
              - Typical values range from 55 to 80 percent depending on forage species and maturity.
              - Values below 40 or above 90 percent are rare and may suggest lab or sampling error.

          - id: neutral_detergent_fiber_digestibility_30hr_percent_ndf
            title: NDF digestibility (30 hr, % of NDF)
            data_type: float
            units: percent_of_ndf
            valid_range:
              min: 35.0
              max: 70.0
            validation_pending: true

            definition: >
              A positive decimal value representing the 30-hour in vitro digestibility of the neutral detergent fiber (NDF) portion of the hay sample, expressed as a percentage of NDF.

            narration: |
              This field measures Neutral Detergent Fiber Digestibility (NDFD) after 30 hours of fermentation under simulated rumen conditions. It is expressed as a percentage of the total
              NDF content in the forage and indicates how much of the fiber fraction can be digested by ruminants within a biologically meaningful timeframe. Higher NDFD values are
              associated with better forage digestibility, improved dry matter intake, and enhanced animal performance. This metric is commonly used in dairy nutrition models such as NRC and
              CNCPS. Laboratory measurement typically involves rumen fluid incubation or enzymatic digestion protocols.

            validation_guidance: |
              - Must be a decimal between 35.0 and 70.0.
              - This field measures the digestible portion of forage fiber after 30 hours of in vitro fermentation.
              - Typical values range from 40 to 60 percent of NDF depending on species and maturity.
              - Values below 30 or above 70 percent are rare and may indicate lab or sampling error.

          - id: total_digestible_nutrients
            title: Total Digestible Nutrients (TDN)
            data_type: object
            required: false
            any_of:
              - required: [total_digestible_nutrients_pct_dm]
              - required: [total_digestible_nutrients_pct_af]

            definition: >
              A structured field reporting the Total Digestible Nutrients (TDN)
              of the forage sample, expressed on a dry matter (% DM) and/or
              as-fed (% AF) basis.

            narration: |
              Total Digestible Nutrients (TDN) is an aggregate estimate of the
              forage's energy value. It combines digestible components of fiber,
              protein, non-fiber carbohydrates, and fat (multiplied by 2.25 to
              account for its higher caloric content). TDN is commonly expressed
              as a percentage of dry matter and is widely used in ration
              balancing, forage evaluation, and comparative feed value
              calculations.

              TDN may be determined through wet chemistry, derived from
              digestibility studies, or predicted using Near Infrared
              Reflectance Spectroscopy (NIR). It is a key indicator of forage
              quality, with higher values reflecting improved nutrient density
              and potential intake.

            validation_guidance: |
              - TDN should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for hay range from 50.0 to 65.0 percent of dry matter.
              - Values below 40.0 or above 70.0 percent are uncommon and may reflect sampling error or misclassification.
              - If TDN is derived from formulas (e.g., summation of digestible nutrients), the methodology should be noted.

            fields:
              - id: total_digestible_nutrients_pct_dm
                title: TDN (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 48.0
                  max: 72.0

                definition: >
                  The Total Digestible Nutrients (TDN) content of the forage
                  expressed as a percentage of dry matter.

                narration: |
                  This value represents the proportion of the forage dry matter
                  that is digestible and available for energy metabolism. It
                  includes contributions from digestible fiber, protein,
                  carbohydrates, and fat. It is a core measure of forage quality
                  and energy yield in ruminant nutrition.

                validation_guidance: |
                  - Must be a decimal between 48.0 and 72.0.
                  - Typical hay values range from 50.0 to 65.0 percent of dry matter.
                  - Values above 70.0 or below 40.0 should prompt verification of sampling or laboratory method.

              - id: total_digestible_nutrients_pct_af
                title: TDN (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 40.0
                  max: 65.0

                definition: >
                  The Total Digestible Nutrients (TDN) content of the forage
                  expressed as a percentage of the as-fed weight.

                narration: |
                  This value indicates the energy available from the forage as
                  it is actually fed, taking into account moisture content. It
                  provides a practical estimate of nutrient contribution under
                  feeding conditions and is important for intake and ration
                  calculations.

                validation_guidance: |
                  - Must be a decimal between 40.0 and 65.0.
                  - As-fed TDN values will generally be lower than dry matter values due to moisture dilution.
                  - Ensure the moisture content used for conversion is accurately measured or reported.

          - id: horse_digestible_energy_mcal_per_lb
            title: Digestible energy for horses (Mcal/lb)
            data_type: float
            units: mcal_per_lb
            valid_range:
              min: 0.8
              max: 1.2
            validation_pending: true

            definition: >
              A positive decimal value representing the Digestible Energy (DE) of the hay sample for horses, expressed in megacalories per pound of dry matter.

            narration: |
              This field represents the Digestible Energy (DE) content of forage for horses, expressed in megacalories per pound of dry matter. DE accounts for the energy available to the
              horse after losses in feces and is the standard energy unit used in equine ration formulation. Typical values vary based on forage type and maturity. Grass hays generally fall
              between 0.80 and 1.00 Mcal/lb, while high-quality alfalfa may exceed 1.15 Mcal/lb. DE may be calculated from nutrient components like TDN or NDF, or derived from empirical
              equations based on equine digestion. This value is used to formulate horse diets according to class-specific energy needs such as maintenance, growth, lactation, or work.

            validation_guidance: |
              - Must be a decimal between 0.8 and 1.2.
              - Horse digestible energy reflects the amount of usable energy per pound of forage dry matter for equine diets.
              - Typical values range from 0.85 to 1.10 Mcal/lb depending on forage type and maturity.
              - Values below 0.70 or above 1.25 Mcal/lb are uncommon and may indicate incorrect TDN estimation or testing error.

          - id: kd_percent_per_hr
            title: Kd (rate of digestion, %/hr)
            data_type: float
            units: percent_per_hour
            valid_range:
              min: 1.0
              max: 6.0
            validation_pending: true

            definition: >
              A positive decimal value representing the rate of digestion (kd) of the forage sample, expressed in percent per hour.

            narration: |
              The kd value represents the fractional rate at which forage dry matter or fiber is digested in the rumen, expressed as the percentage of the component digested per hour. It is
              a dynamic parameter used in ruminant nutrition models to estimate retention time, nutrient availability, and intake potential. Higher kd values reflect more rapidly digestible
              forages, often younger or less lignified. Lower kd values are associated with more mature, weathered, or fibrous material. Measurements are typically obtained through in vitro
              incubation with rumen fluid or estimated using Near Infrared Reflectance (NIR) calibration methods.

            validation_guidance: |
              - Must be a decimal between 1.0 and 6.0.
              - This field estimates the hourly rate of NDF digestion, referred to as "kd".
              - Typical values range from 2.5 to 5.0 percent per hour depending on forage species and maturity.
              - Values below 1.0 or above 7.0 are uncommon and may reflect analytical or sampling issues.

      - id: mineral_content
        title: Mineral content

        definition: >
          Reports the mineral composition of the hay sample, including both macro- and trace elements essential for animal health, performance, and ration balancing.

        narration: |
          This group quantifies the mineral profile of the forage, including ash content and key macro- and micronutrients. These values are critical for meeting dietary mineral
          requirements, preventing deficiencies or toxicities, and evaluating overall forage quality.

          Mineral composition influences everything from skeletal development and immune function to reproduction and metabolic efficiency. Accurate reporting supports balanced ration
          formulation, especially in regulated or performance-sensitive feeding systems.

        validation_guidance: |
          This is a structural field used to organize related fields into a logical group.

          - This field must have an empty `group` key.
          - All member fields should appear immediately after this group in the section.
          - Each member field must reference this group using the `group` key.
          - This field has a `data_type` of `group` and is used only for organizing related fields; it does not store data itself and should not appear in any dataset or form.

          Validation logic should ensure that grouped fields are present and correctly associated via the `group` key.

        fields:
          - id: ash
            title: Ash
            data_type: object
            required: false
            any_of:
              - required: [ash_pct_dm]
              - required: [ash_pct_af]

            definition: >
              A structured field reporting the ash content of the forage sample,
              expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Ash represents the total mineral residue left after complete
              combustion of the forage sample at high temperatures. It includes
              all inorganic material, such as naturally occurring macro- and
              micro-minerals (e.g., calcium, phosphorus, magnesium), as well as
              any extraneous matter like soil, sand, or dust that may be
              introduced during harvest and handling.

              While some ash is nutritionally valuable, excess ash -- especially
              from soil contamination -- can reduce the energy density and
              feeding value of forage. Monitoring ash is critical for accurate
              ration formulation, particularly in dairy and performance
              livestock systems.

            validation_guidance: |
              - Ash should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 6.0 to 10.0 percent of dry matter.
              - Values below 4.0 or above 16.0 percent are uncommon and may reflect measurement or sampling error.
              - Ash content above 12.0 percent may indicate contamination and should be evaluated carefully.

            fields:
              - id: ash_pct_dm
                title: Ash (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 4.0
                  max: 16.0

                definition: >
                  The ash content of the forage sample expressed as a percentage
                  of dry matter.

                narration: |
                  This value reflects the proportion of the forage dry matter
                  composed of mineral residue following combustion. It includes
                  essential nutrients and any incidental inorganic material.
                  Elevated ash may reduce the proportion of organic matter and
                  thus the energy available from the forage.

                validation_guidance: |
                  - Must be a decimal between 4.0 and 16.0.
                  - Typical range is 6.0 to 10.0 percent of dry matter.
                  - Values above 14.0 percent should be reviewed for potential soil contamination.

              - id: ash_pct_af
                title: Ash (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 3.0
                  max: 13.0

                definition: >
                  The ash content of the forage sample expressed as a percentage
                  of the as-fed weight.

                narration: |
                  This value indicates the total mineral content of the forage
                  on an as-fed basis, accounting for moisture content. It
                  provides insight into actual mineral intake under typical
                  feeding conditions and is useful for ration balancing and
                  contamination screening.

                validation_guidance: |
                  - Must be a decimal between 3.0 and 13.0.
                  - As-fed values are typically lower than dry matter values due to moisture dilution.
                  - Ensure accurate moisture data is used for conversion between AF and DM.

          - id: calcium
            title: Calcium
            data_type: object
            required: false
            any_of:
              - required: [calcium_pct_dm]
              - required: [calcium_pct_af]

            definition: >
              A structured field reporting the calcium content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Calcium (Ca) is a critical macromineral involved in skeletal
              development, muscle contraction, nerve transmission, and milk
              production. It is one of the most important minerals for livestock
              health and productivity, especially in dairy cows, young animals,
              and horses.

              Calcium concentrations in forage vary widely by species. Legumes
              such as alfalfa and clover are typically high in calcium, while
              grass hays such as bermudagrass, timothy, and orchardgrass are
              lower. Forage calcium content is usually measured by wet chemistry
              or estimated using Near Infrared Reflectance (NIR).

              Proper calcium levels are essential to prevent metabolic disorders
              such as hypocalcemia (milk fever), bone abnormalities, and poor
              growth.

            validation_guidance: |
              - Calcium should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values for grass hay range from 0.25 to 0.60 percent of dry matter.
              - Legume hays may contain 1.20 to 2.00 percent calcium.
              - Values below 0.20 or above 2.00 percent are uncommon and may indicate sampling or testing error.

            fields:
              - id: calcium_pct_dm
                title: Calcium (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.2
                  max: 1.8

                definition: >
                  The calcium content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value indicates the concentration of calcium on a dry
                  matter basis, which allows consistent comparison across
                  forages with differing moisture contents. It is essential for
                  evaluating mineral adequacy in livestock diets and for
                  ensuring proper bone development and metabolic function.

                validation_guidance: |
                  - Must be a decimal between 0.2 and 1.8.
                  - Values between 0.25 and 0.60 percent are common for grass hay.
                  - Values between 1.20 and 2.00 percent are typical for legume hay.
                  - Values outside these ranges should be reviewed for accuracy.

              - id: calcium_pct_af
                title: Calcium (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.2
                  max: 1.5

                definition: >
                  The calcium content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value reflects the amount of calcium animals would
                  consume in the forage as it is actually fed, accounting for
                  moisture. It supports accurate ration formulation and intake
                  analysis in practical feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 0.2 and 1.5.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Ensure conversion is based on accurate moisture content to avoid misrepresentation of mineral intake.

          - id: phosphorus
            title: Phosphorus
            data_type: object
            required: false
            any_of:
              - required: [phosphorus_pct_dm]
              - required: [phosphorus_pct_af]

            definition: >
              A structured field reporting the phosphorus content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Phosphorus (P) is an essential macromineral involved in energy
              metabolism, bone formation, reproductive health, and microbial
              growth in the rumen. It plays a key role in the digestion of
              fibrous forages and overall animal performance.

              Phosphorus levels in forage depend on species, maturity stage,
              soil fertility, and harvest conditions. Grass hays typically
              contain 0.15 to 0.35 percent phosphorus, while legume hays like
              alfalfa may range from 0.25 to 0.45 percent. Inadequate phosphorus
              intake can lead to reduced growth, poor fertility, and bone
              disorders.

              Maintaining the proper calcium-to-phosphorus ratio is especially
              important in diets for growing animals, dairy cows, and horses.

            validation_guidance: |
              - Phosphorus should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical forage values range from 0.15 to 0.35 percent of dry matter.
              - Legume hays may reach 0.45 percent, especially when grown on phosphorus-rich soils.
              - Values below 0.10 or above 0.50 percent are uncommon and may indicate lab error or unusual growing conditions.

            fields:
              - id: phosphorus_pct_dm
                title: Phosphorus (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.1
                  max: 0.5

                definition: >
                  The phosphorus content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value reflects the phosphorus concentration of the forage
                  after accounting for moisture. It is used to evaluate mineral
                  sufficiency and balance in livestock rations, especially in
                  relation to calcium.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.5.
                  - Typical values range from 0.15 to 0.35 percent of dry matter.
                  - Values below 0.10 or above 0.50 should be reviewed for accuracy or soil deficiency.

              - id: phosphorus_pct_af
                title: Phosphorus (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.1
                  max: 0.4

                definition: >
                  The phosphorus content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value reflects the amount of phosphorus delivered to the
                  animal in the forage's natural, moisture-containing form. It
                  is relevant for evaluating daily intake and mineral balance
                  under feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.4.
                  - As-fed values will typically be lower than dry matter values due to moisture dilution.
                  - Use accurate moisture content when converting between DM and AF bases.

          - id: magnesium
            title: Magnesium
            data_type: object
            required: false
            any_of:
              - required: [magnesium_pct_dm]
              - required: [magnesium_pct_af]

            definition: >
              A structured field reporting the magnesium content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Magnesium (Mg) is an essential macromineral that plays a key role
              in energy metabolism, nerve impulse transmission, enzyme
              activation, and skeletal development. It is particularly important
              in ruminants, where magnesium deficiency can lead to grass tetany
              (hypomagnesemia) -- a potentially fatal condition.

              Grass hays typically contain 0.10 to 0.25 percent magnesium, while
              legume hays such as alfalfa tend to be higher, ranging from 0.20
              to 0.40 percent. Magnesium levels can be affected by fertilization
              practices, especially when potassium or nitrogen rates are high,
              as these can interfere with absorption. Monitoring magnesium
              content is essential for preventing metabolic disorders in grazing
              and high-performance livestock systems.

            validation_guidance: |
              - Magnesium should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 0.15 to 0.35 percent of dry matter.
              - Values below 0.10 or above 0.50 percent are uncommon and may indicate analytical or sampling error.
              - Evaluate in context with potassium and calcium to assess risk for grass tetany.

            fields:
              - id: magnesium_pct_dm
                title: Magnesium (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.1
                  max: 0.5

                definition: >
                  The magnesium content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value represents the concentration of magnesium in the
                  forage once moisture is removed. It is used to evaluate
                  dietary mineral adequacy, particularly in relation to other
                  electrolytes such as calcium and potassium.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.5.
                  - Typical values range from 0.15 to 0.35 percent of dry matter.
                  - Values below 0.10 or above 0.50 percent should be reviewed for possible laboratory or sampling error.

              - id: magnesium_pct_af
                title: Magnesium (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.1
                  max: 0.4

                definition: >
                  The magnesium content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value reflects the magnesium concentration in the forage
                  as it would be consumed, accounting for its natural moisture.
                  It helps evaluate mineral intake under typical feeding
                  conditions and supports ration balancing in practice.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.4.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Ensure accurate moisture content is used when converting between DM and AF.

          - id: potassium
            title: Potassium
            data_type: object
            required: false
            any_of:
              - required: [potassium_pct_dm]
              - required: [potassium_pct_af]

            definition: >
              A structured field reporting the potassium content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Potassium (K) is an essential macromineral required for nerve
              transmission, muscle contraction, osmotic regulation, and
              acid-base balance in livestock. It is also critical for plant
              vigor and regrowth, which is why potassium is often applied as a
              fertilizer.

              Forage potassium levels vary widely depending on plant species,
              soil type, and fertilization practices. Grass hays typically
              contain 1.00 to 3.00 percent potassium, while legume hays often
              range from 2.00 to 3.50 percent. Excessive potassium levels can
              interfere with the absorption of magnesium and calcium, especially
              in periparturient animals, increasing the risk of metabolic
              disorders such as milk fever and grass tetany.

              Accurate measurement of potassium is important when balancing
              diets for transition dairy cows, pregnant livestock, and animals
              on lush or heavily fertilized forage.

            validation_guidance: |
              - Potassium should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 1.5 to 3.5 percent of dry matter.
              - Values below 1.0 or above 5.0 percent are uncommon and may indicate analytical error or unusual fertility conditions.
              - If values exceed 3.0 percent, review the full mineral profile to assess risk of metabolic antagonisms.

            fields:
              - id: potassium_pct_dm
                title: Potassium (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.8
                  max: 4.5

                definition: >
                  The potassium content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value reflects the concentration of potassium once
                  moisture is removed from the forage. It is used to evaluate
                  mineral supply and balance, particularly in relation to
                  magnesium and calcium. Potassium content plays a key role in
                  diagnosing and preventing metabolic imbalances in livestock.

                validation_guidance: |
                  - Must be a decimal between 0.8 and 4.5.
                  - Typical values range from 1.5 to 3.5 percent of dry matter.
                  - Values above 3.5 percent should prompt closer review of mineral interactions and animal risk factors.

              - id: potassium_pct_af
                title: Potassium (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.6
                  max: 3.6

                definition: >
                  The potassium content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value shows how much potassium is present in the forage
                  as it is actually fed, accounting for moisture content. It is
                  important for calculating real-world mineral intake and for
                  ration adjustments under field conditions.

                validation_guidance: |
                  - Must be a decimal between 0.6 and 3.6.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Ensure conversion from DM to AF is based on accurate moisture content for proper ration formulation.

          - id: sulfur
            title: Sulfur
            data_type: object
            required: false
            any_of:
              - required: [sulfur_pct_dm]
              - required: [sulfur_pct_af]

            definition: >
              A structured field reporting the sulfur content of the forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Sulfur (S) is an essential macromineral involved in the synthesis of sulfur-containing amino acids such as methionine and cysteine, as well as the production of
              B-vitamins by rumen microbes. It also supports structural integrity in tissues like wool, hair, skin, and hooves.

              Forage sulfur content varies with species, soil sulfur levels, and fertilization practices. Grass hays generally contain 0.10 to 0.25 percent sulfur on a dry matter basis,
              while legume hays may range from 0.20 to 0.35 percent. Although sulfur is critical for microbial function, excessive intake can lead to neurologic toxicity, particularly
              polioencephalomalacia (PEM), especially in cattle and sheep. Risk increases when total dietary sulfur -- including drinking water and supplements -- exceeds 0.40 percent
              of dry matter.

            validation_guidance: |
              - Sulfur should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 0.10 to 0.25 percent for grass hay and 0.20 to 0.35 percent for legume hay.
              - Values below 0.10 or above 0.45 percent are uncommon and may indicate sampling, fertilization, or analytical issues.
              - Evaluate total dietary sulfur from all sources when values exceed 0.30 percent.

            fields:
              - id: sulfur_pct_dm
                title: Sulfur (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.1
                  max: 0.4

                definition: >
                  The sulfur content of the forage sample expressed as a percentage of dry matter.

                narration: |
                  This value represents the sulfur concentration in the forage after moisture has been removed. It is used to assess whether the forage provides sufficient sulfur
                  to support rumen microbial activity and amino acid synthesis, without exceeding safe thresholds for total dietary sulfur.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.4.
                  - Typical range is 0.10 to 0.35 percent of dry matter.
                  - Values over 0.40 percent require careful evaluation of all sulfur inputs (e.g., water, byproducts, mineral mixes).

              - id: sulfur_pct_af
                title: Sulfur (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.1
                  max: 0.3

                definition: >
                  The sulfur content of the forage sample expressed as a percentage of the as-fed weight.

                narration: |
                  This value indicates the amount of sulfur present in the forage in its natural moisture-containing form. It is important for evaluating actual intake and
                  for balancing total sulfur exposure when calculating rations.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 0.3.
                  - As-fed values are typically lower than dry matter values due to moisture dilution.
                  - Ensure moisture content is measured or estimated accurately to avoid miscalculating total sulfur intake.

          - id: sodium
            title: Sodium
            data_type: object
            required: false
            any_of:
              - required: [sodium_pct_dm]
              - required: [sodium_pct_af]

            definition: >
              A structured field reporting the sodium content of the forage
              sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Sodium (Na) is an essential electrolyte that plays a key role in
              fluid balance, nerve impulse transmission, and muscle function. It
              also supports the uptake of other nutrients across cellular
              membranes and helps regulate blood pressure and osmotic balance in
              animals.

              Forage is generally low in sodium, especially when grown on
              low-sodium soils or in regions with high rainfall. Sodium
              concentrations typically range from 0.01 to 0.10 percent of dry
              matter, though higher levels may occur near coastal areas or with
              salt-based fertilization. Because most forage does not supply
              enough sodium to meet livestock requirements, salt supplementation
              is commonly necessary.

            validation_guidance: |
              - Sodium should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 0.01 to 0.10 percent of dry matter.
              - Values above 0.30 percent are unusual and may reflect salt contamination, soil salinity, or seawater exposure.
              - Ensure moisture content and soil source are considered when interpreting sodium levels.

            fields:
              - id: sodium_pct_dm
                title: Sodium (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.0
                  max: 0.5

                definition: >
                  The sodium content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value indicates the sodium concentration in the dry
                  matter portion of the forage. Most forages supply inadequate
                  sodium for livestock, making this value important for
                  determining salt supplementation needs and monitoring
                  environmental salinity.

                validation_guidance: |
                  - Must be a decimal between 0.0 and 0.5.
                  - Values above 0.30 percent of dry matter are uncommon and may indicate saltwater influence or mineral treatment.

              - id: sodium_pct_af
                title: Sodium (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.0
                  max: 0.4

                definition: >
                  The sodium content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value reflects the sodium content of the forage in its
                  natural, moisture-containing form. It is used to assess
                  dietary sodium intake under typical feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 0.0 and 0.4.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Confirm proper moisture correction when comparing sodium levels across feeds.

          - id: chloride_ion
            title: Chloride
            data_type: object
            required: false
            any_of:
              - required: [chloride_pct_dm]
              - required: [chloride_pct_af]

            definition: >
              A structured field reporting the chloride ion (Cl) content of the
              forage sample, expressed on a dry matter (% DM) and/or as-fed (% AF)
              basis.

            narration: |
              Chloride (Cl) is a negatively charged electrolyte essential for
              maintaining acid-base balance, osmotic pressure, and digestive
              function through the production of hydrochloric acid. It plays an
              especially important role in dairy cattle nutrition due to its
              influence on the Dietary Cation-Anion Difference (DCAD).

              Chloride content in forage varies by plant type, soil salinity, and
              environmental exposure. Most hays contain 0.20 to 0.50 percent
              chloride on a dry matter basis. Levels above 0.60 percent are uncommon
              and may indicate contamination from saline irrigation water, manure,
              coastal spray, or chloride-based fertilizers.

            validation_guidance: |
              - Chloride ion content should be reported as a percentage of dry matter (% DM) and/or as-fed (% AF).
              - Typical values range from 0.20 to 0.50 percent of dry matter.
              - Values below 0.10 or above 0.60 percent are uncommon and may reflect external contamination or testing error.
              - This value is used in DCAD calculations to assess calcium mobilization risk in transition dairy cows.

            fields:
              - id: chloride_pct_dm
                title: Chloride (% DM)
                data_type: float
                units: percent_dm
                valid_range:
                  min: 0.1
                  max: 1.2

                definition: >
                  The chloride ion (Cl) content of the forage sample expressed as a
                  percentage of dry matter.

                narration: |
                  This value quantifies the chloride ion concentration in the forage
                  once moisture is removed. It is used in mineral balancing and DCAD
                  formulation to reduce the risk of milk fever in dairy cattle.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 1.2.
                  - Typical values fall between 0.20 and 0.50 percent of dry matter.
                  - Values above 0.60 percent should prompt review for contamination or fertilization history.

              - id: chloride_pct_af
                title: Chloride (% AF)
                data_type: float
                units: percent_as_fed
                valid_range:
                  min: 0.1
                  max: 1.0

                definition: >
                  The chloride ion (Cl) content of the forage sample expressed as a
                  percentage of the as-fed weight.

                narration: |
                  This value expresses the chloride ion concentration in the forage
                  as it is actually fed, accounting for moisture content. It is
                  important for ration balancing in high-precision dairy systems and
                  to calculate DCAD under field conditions.

                validation_guidance: |
                  - Must be a decimal between 0.1 and 1.0.
                  - As-fed values are generally lower than dry matter values due to moisture dilution.
                  - Ensure moisture content is accurately measured for DM-to-AF conversion.

          - id: iron
            title: Iron (Fe)
            data_type: object
            required: false
            any_of:
              - required: [iron_ppm_dm]
              - required: [iron_ppm_af]

            definition: >
              A structured field reporting the iron (Fe) content of the forage
              sample, expressed in parts per million (ppm) on a dry matter (%
              DM) and/or as-fed (% AF) basis.

            narration: |
              Iron (Fe) is a trace mineral essential for oxygen transport (as
              part of hemoglobin), cellular respiration, immune function, and
              various enzyme systems. It is typically abundant in forage, and
              deficiencies are rare under normal feeding conditions.

              Most hay samples contain 100 to 500 ppm of iron on a dry matter
              basis. However, excessively high iron levels -- often due to soil
              or dust contamination, rusted harvesting equipment, or iron-rich
              irrigation water -- can interfere with the absorption of copper,
              zinc, and manganese. When total dietary iron exceeds 1,000 ppm,
              supplementation strategies for other trace minerals may need to be
              adjusted.

            validation_guidance: |
              - Iron content should be reported in parts per million (ppm), on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical values range from 100 to 500 ppm on a dry matter basis.
              - Values below 50 ppm or above 1,000 ppm are uncommon and may suggest contamination or laboratory error.
              - Iron levels exceeding 1,000 ppm may antagonize copper, zinc, or manganese absorption and should prompt review of total mineral balance.

            fields:
              - id: iron_ppm_dm
                title: Iron (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 80
                  max: 1500

                definition: >
                  The iron (Fe) concentration of the forage sample expressed in
                  parts per million on a dry matter basis.

                narration: |
                  This value indicates the iron content of the forage once
                  moisture has been removed. Iron is rarely deficient in forage,
                  but excess levels may interfere with the uptake of other trace
                  minerals and may result from soil or equipment contamination.

                validation_guidance: |
                  - Must be a numeric value between 80 and 1500.
                  - Typical values range from 100 to 500 ppm DM.
                  - Values above 1000 ppm may suppress trace mineral absorption and should be reviewed alongside copper and zinc.

              - id: iron_ppm_af
                title: Iron (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 60
                  max: 1200

                definition: >
                  The iron (Fe) concentration of the forage sample expressed in
                  parts per million on an as-fed basis.

                narration: |
                  This value reflects the iron content of the forage in its
                  natural moisture-containing form. It is useful for estimating
                  actual iron intake under feeding conditions and evaluating
                  dietary mineral interactions.

                validation_guidance: |
                  - Must be a numeric value between 60 and 1200.
                  - As-fed values are typically lower than dry matter values due to moisture content.
                  - Ensure consistent moisture correction when calculating from DM values.

          - id: zinc
            title: Zinc (Zn)
            data_type: object
            required: false
            any_of:
              - required: [zinc_ppm_dm]
              - required: [zinc_ppm_af]

            definition: >
              A structured field reporting the zinc (Zn) content of the forage
              sample, expressed in parts per million (ppm) on a dry matter (%
              DM) and/or as-fed (% AF) basis.

            narration: |
              Zinc (Zn) is an essential trace mineral required for a wide range
              of physiological processes, including enzyme activity, immune
              system function, skin integrity, reproductive health, and wound
              healing. It also plays a role in hoof structure and epithelial
              tissue maintenance.

              Forage zinc concentrations often range from 20 to 50 ppm on a dry
              matter basis, but levels below 30 ppm are common and may be
              inadequate for optimal animal performance, particularly in young,
              growing, or lactating livestock. High levels of calcium, iron, or
              phytates in the diet can reduce zinc bioavailability.

              Supplementation is commonly needed when dietary zinc levels are
              marginal, especially in intensive production systems.

            validation_guidance: |
              - Zinc should be reported in parts per million (ppm) on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical values range from 20 to 50 ppm on a dry matter basis.
              - Values below 15 ppm may indicate deficiency; values above 100 ppm are unusual and may reflect oversupplementation or contamination.
              - Consider calcium, iron, and copper levels when evaluating zinc adequacy.

            fields:
              - id: zinc_ppm_dm
                title: Zinc (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 10
                  max: 80

                definition: >
                  The zinc (Zn) concentration of the forage sample expressed in
                  parts per million on a dry matter basis.

                narration: |
                  This value represents the zinc content of the forage with
                  moisture removed. It is used to assess whether the forage
                  meets baseline trace mineral needs, especially for
                  reproduction, growth, immune function, and hoof health.

                validation_guidance: |
                  - Must be a decimal between 10 and 80.
                  - Typical values range from 20 to 50 ppm DM.
                  - Values below 15 ppm suggest likely need for dietary supplementation.
                  - Values above 100 ppm should be reviewed for accuracy or oversupply.

              - id: zinc_ppm_af
                title: Zinc (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 8
                  max: 65

                definition: >
                  The zinc (Zn) concentration of the forage sample expressed in
                  parts per million on an as-fed basis.

                narration: |
                  This value reflects the zinc content of the forage in its
                  natural moisture-containing state. It is important for
                  evaluating actual zinc intake under practical feeding
                  conditions.

                validation_guidance: |
                  - Must be a decimal between 8 and 65.
                  - As-fed values are typically lower than dry matter values due to dilution by moisture.
                  - Accurate moisture correction is needed to convert between DM and AF values reliably.

          - id: manganese
            title: Manganese (Mn)
            data_type: object
            required: false
            any_of:
              - required: [manganese_ppm_dm]
              - required: [manganese_ppm_af]

            definition: >
              A structured field reporting the manganese (Mn) content of the
              forage sample, expressed in parts per million (ppm) on a dry
              matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Manganese (Mn) is a trace mineral essential for skeletal
              development, reproductive health, enzyme activation, and
              antioxidant function in livestock. Although manganese is typically
              abundant in forage, its bioavailability is often low and may be
              further reduced by dietary antagonists such as excess calcium,
              phosphorus, or iron.

              Most hay samples contain between 40 and 300 ppm of manganese on a
              dry matter basis. Values below 40 ppm may be insufficient for
              optimal performance in young growing animals, breeding stock, or
              high-producing dairy cows. While manganese toxicity is rare,
              levels above 400 ppm may contribute to trace mineral imbalances
              and warrant consideration when formulating diets.

            validation_guidance: |
              - Manganese should be reported in parts per million (ppm), on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical values range from 30 to 100 ppm on a dry matter basis.
              - Values below 20 ppm may indicate deficiency; values above 400 ppm are uncommon and may interfere with absorption of other minerals.
              - Assess manganese alongside iron, copper, and zinc to evaluate potential antagonism.

            fields:
              - id: manganese_ppm_dm
                title: Manganese (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 30
                  max: 300

                definition: >
                  The manganese (Mn) concentration of the forage sample
                  expressed in parts per million on a dry matter basis.

                narration: |
                  This value represents the manganese content of the forage once
                  moisture has been removed. While most forages contain adequate
                  levels, low bioavailability may necessitate supplementation,
                  particularly for breeding and high-performance livestock.

                validation_guidance: |
                  - Must be a decimal between 30 and 300.
                  - Typical values range from 30 to 100 ppm on a dry matter basis.
                  - Values below 20 or above 400 ppm should be reviewed in context of total mineral intake.

              - id: manganese_ppm_af
                title: Manganese (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 25
                  max: 240

                definition: >
                  The manganese (Mn) concentration of the forage sample
                  expressed in parts per million on an as-fed basis.

                narration: |
                  This value reflects the manganese concentration of the forage
                  in its natural, moisture-containing form. It is important for
                  calculating actual intake and balancing trace minerals in the
                  context of real-world feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 25 and 240.
                  - As-fed values are generally lower than dry matter values due to moisture content.
                  - Use accurate moisture values when converting between DM and AF formats.

          - id: molybdenum
            title: Molybdenum (Mo)
            data_type: object
            required: false
            any_of:
              - required: [molybdenum_ppm_dm]
              - required: [molybdenum_ppm_af]

            definition: >
              A structured field reporting the molybdenum (Mo) content of the
              forage sample, expressed in parts per million (ppm) on a dry
              matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Molybdenum (Mo) is a trace mineral required in very small amounts
              for enzyme function in livestock. While essential, molybdenum
              becomes antagonistic at elevated levels due to its interaction
              with sulfur and copper in the rumen.

              High molybdenum levels promote the formation of thiomolybdates,
              which bind dietary copper and reduce its bioavailability -- often
              leading to secondary copper deficiency in ruminants. This is
              particularly concerning in cattle and sheep, especially when
              sulfur content is also high.

              Most forages contain less than 2.0 ppm of molybdenum. Levels above
              3.0 ppm require close monitoring of copper status. Values
              exceeding 5.0 ppm are considered high risk and typically
              necessitate dietary copper adjustment or the use of chelated
              copper supplements.

            validation_guidance: |
              - Molybdenum should be reported in parts per million (ppm), on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical values range from 0.5 to 2.0 ppm DM.
              - Values above 3.0 ppm increase the risk of copper deficiency.
              - Values above 5.0 ppm are uncommon and may indicate need for intervention in mineral balancing.

            fields:
              - id: molybdenum_ppm_dm
                title: Molybdenum (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 0.2
                  max: 5.0

                definition: >
                  The molybdenum (Mo) concentration of the forage sample
                  expressed in parts per million on a dry matter basis.

                narration: |
                  This value represents molybdenum concentration in forage after
                  moisture has been removed. Elevated molybdenum may impair
                  copper absorption and contribute to deficiency symptoms in
                  ruminants, especially when sulfur is also elevated.

                validation_guidance: |
                  - Must be a decimal between 0.2 and 5.0.
                  - Values above 2.5 ppm warrant review of total dietary copper and sulfur status.
                  - Values above 5.0 ppm are considered antagonistic and require dietary adjustment.

              - id: molybdenum_ppm_af
                title: Molybdenum (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 0.2
                  max: 4.0

                definition: >
                  The molybdenum (Mo) concentration of the forage sample
                  expressed in parts per million on an as-fed basis.

                narration: |
                  This value indicates the amount of molybdenum present in the
                  forage as consumed, accounting for its moisture content. It is
                  important for assessing actual intake and trace mineral
                  interactions under practical feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 0.2 and 4.0.
                  - As-fed values are generally lower than dry matter values due to dilution.
                  - Ensure accurate DM correction to maintain consistency in molybdenum reporting.

          - id: copper
            title: Copper (Cu)
            data_type: object
            required: false
            any_of:
              - required: [copper_ppm_dm]
              - required: [copper_ppm_af]

            definition: >
              A structured field reporting the copper (Cu) content of the forage
              sample, expressed in parts per million (ppm) on a dry matter (%
              DM) and/or as-fed (% AF) basis.

            narration: |
              Copper (Cu) is a vital trace mineral involved in enzyme
              activation, immune function, iron metabolism, connective tissue
              formation, and coat pigmentation. Copper deficiency is one of the
              most common trace mineral imbalances in forage-fed livestock,
              particularly in regions with high soil or dietary levels of
              antagonistic minerals such as molybdenum, sulfur, or iron, which
              reduce copper bioavailability.

              Most hay samples contain 5 to 15 ppm of copper on a dry matter
              basis. Levels below 8 ppm are often marginal, while values under 4
              ppm are likely deficient for many classes of livestock. Copper
              toxicity is uncommon but can occur in sheep when dietary levels
              exceed 20 to 30 ppm. Accurate monitoring of copper in the context
              of total dietary antagonists is essential for avoiding both
              deficiency and toxicity.

            validation_guidance: |
              - Copper should be reported in parts per million (ppm), on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical forage values range from 5 to 15 ppm DM.
              - Values below 4 ppm may indicate deficiency; values above 30 ppm may be toxic to sheep.
              - Assess copper values alongside sulfur, molybdenum, and iron to evaluate effective copper status.

            fields:
              - id: copper_ppm_dm
                title: Copper (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 0
                  max: 100

                definition: >
                  The copper (Cu) concentration of the forage sample expressed
                  in parts per million on a dry matter basis.

                narration: |
                  This value represents the copper content of the forage with
                  moisture removed. Copper is one of the most common trace
                  mineral deficiencies in forage-based diets due to widespread
                  interactions with dietary antagonists such as iron, sulfur,
                  and molybdenum.

                validation_guidance: |
                  - Must be a decimal between 0 and 100.
                  - Typical values range from 5 to 15 ppm DM.
                  - Values below 4 ppm indicate probable deficiency.
                  - Values above 20 ppm should be reviewed for sheep toxicity risk.

              - id: copper_ppm_af
                title: Copper (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 0
                  max: 100

                definition: >
                  The copper (Cu) concentration of the forage sample expressed
                  in parts per million on an as-fed basis.

                narration: |
                  This value reflects the copper concentration of the forage as
                  it is actually consumed, accounting for natural moisture. It
                  is used in total dietary copper intake calculations and is
                  especially important in confined feeding systems or when
                  balancing trace minerals for sheep and other sensitive
                  species.

                validation_guidance: |
                  - Must be a decimal between 0 and 100.
                  - As-fed values are typically lower than dry matter values due to moisture content.
                  - Accurate moisture correction is required for evaluating total intake and copper risk.

          - id: selenium
            title: Selenium (Se)
            data_type: object
            required: false
            any_of:
              - required: [selenium_ppm_dm]
              - required: [selenium_ppm_af]

            definition: >
              A structured field reporting the selenium (Se) content of the
              forage sample, expressed in parts per million (ppm) on a dry
              matter (% DM) and/or as-fed (% AF) basis.

            narration: |
              Selenium (Se) is an essential trace mineral that supports
              antioxidant defense, immune function, thyroid hormone metabolism,
              and muscle health. It is required in extremely small amounts and
              has a narrow range between dietary sufficiency and toxicity.

              Selenium content in forage is highly variable and strongly
              influenced by soil selenium levels. Most forages contain between
              0.05 and 0.30 ppm selenium on a dry matter basis. Values below
              0.10 ppm may result in selenium-responsive disorders such as white
              muscle disease, particularly in young livestock. Levels above 2.0
              ppm are potentially toxic and should be interpreted cautiously,
              especially in sheep and horses.

            validation_guidance: |
              - Selenium should be reported in parts per million (ppm), on a dry matter (% DM) and/or as-fed (% AF) basis.
              - Typical values range from 0.05 to 0.30 ppm DM.
              - Values below 0.10 ppm may be deficient; values above 2.0 ppm may be toxic depending on species and total intake.
              - Selenium supplementation is strictly regulated in many regions and should be guided by lab results and total dietary load.

            fields:
              - id: selenium_ppm_dm
                title: Selenium (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 0.02
                  max: 0.50

                definition: >
                  The selenium (Se) concentration of the forage sample expressed
                  in parts per million on a dry matter basis.

                narration: |
                  This value reflects the selenium content of the forage once
                  moisture has been removed. Selenium is required in micro
                  amounts and varies widely by soil region. Both deficiency and
                  toxicity are important considerations, particularly in sheep,
                  goats, and horses.

                validation_guidance: |
                  - Must be a decimal between 0.02 and 0.50.
                  - Values between 0.05 and 0.30 ppm DM are typical.
                  - Values above 2.0 ppm may pose toxicity risks, especially in selenium-accumulator plants.

              - id: selenium_ppm_af
                title: Selenium (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 0.02
                  max: 0.40

                definition: >
                  The selenium (Se) concentration of the forage sample expressed
                  in parts per million on an as-fed basis.

                narration: |
                  This value indicates the amount of selenium present in the
                  forage as consumed, accounting for its moisture content. It is
                  used to estimate actual selenium intake under feeding
                  conditions.

                validation_guidance: |
                  - Must be a decimal between 0.02 and 0.40.
                  - As-fed values are typically lower than dry matter values due to moisture dilution.
                  - Use caution in interpreting high values, and confirm with regional regulatory thresholds for maximum selenium intake.

          - id: cobalt
            title: Cobalt (Co)
            data_type: object
            required: false
            any_of:
              - required: [cobalt_ppm_dm]
              - required: [cobalt_ppm_af]

            definition: >
              A structured field reporting the cobalt (Co) content of the forage
              sample, expressed in parts per million (ppm) on a dry matter (%
              DM) and/or as-fed (% AF) basis.

            narration: |
              Cobalt (Co) is a trace mineral required by ruminants for the
              synthesis of vitamin B12 by rumen microbes. It plays a key role in
              energy metabolism, red blood cell production, and immune function.
              Cobalt deficiencies are most common in sandy, acidic, or heavily
              weathered soils.

              Forage cobalt concentrations typically range from 0.05 to 0.30 ppm
              on a dry matter basis. Levels below 0.10 ppm may impair ruminal
              vitamin B12 synthesis, leading to reduced appetite, poor growth,
              or anemia. Toxicity is rare, even at levels above 1.0 ppm, but
              excessive intake should still be monitored in the context of total
              diet.

            validation_guidance: |
              - Cobalt should be reported in parts per million (ppm) on a dry matter and/or as-fed basis.
              - Typical values range from 0.05 to 0.30 ppm DM.
              - Values below 0.10 ppm may be considered deficient for vitamin B12 synthesis in ruminants.
              - Values above 1.0 ppm are uncommon but not typically toxic.

            fields:
              - id: cobalt_ppm_dm
                title: Cobalt (ppm DM)
                data_type: float
                units: ppm_dm
                valid_range:
                  min: 0.05
                  max: 1.00

                definition: >
                  The cobalt (Co) concentration of the forage sample expressed
                  in parts per million on a dry matter basis.

                narration: |
                  This value indicates the cobalt content of forage after
                  moisture removal. Adequate cobalt is necessary for rumen
                  microbes to synthesize vitamin B12, especially important in
                  growing or breeding ruminants.

                validation_guidance: |
                  - Must be a decimal between 0.05 and 1.00.
                  - Values below 0.10 ppm DM may be considered deficient.
                  - Values between 0.05 and 0.30 ppm DM are typical.

              - id: cobalt_ppm_af
                title: Cobalt (ppm AF)
                data_type: float
                units: ppm_af
                valid_range:
                  min: 0.04
                  max: 0.80

                definition: >
                  The cobalt (Co) concentration of the forage sample expressed
                  in parts per million on an as-fed basis.

                narration: |
                  This value reflects cobalt levels in forage including moisture
                  content, offering a practical view of actual cobalt intake
                  under feeding conditions.

                validation_guidance: |
                  - Must be a decimal between 0.04 and 0.80.
                  - As-fed values are usually lower than dry matter values.
                  - Ensure sufficient cobalt is supplied across the total ration to support microbial vitamin B12 synthesis.

  - id: intended_use
    title: Intended Use and Market Context

    definition: >
      Captures the grower's or seller's intended market, buyer type, and end-use
      application for the hay. This section helps position the product within
      market contexts and buyer expectations.

    narration: |
      This section captures the grower's intended livestock audience, production philosophy
      including any certifications, and other contextual factors relevant to how the hay is
      positioned in the market.

      These fields help buyers assess suitability for their specific animals, comply with regulatory
      or programmatic requirements such as organic certification or weed-free sourcing, and identify
      potential constraints such as restrictions on the import of genetically modified organisms.

    fields:
      - id: intended_forage_use
        title: Intended forage use
        data_type: enum
        required: false
        enum_select_mode: multiple
        valid_values:
          - dairy
          - beef
          - horse
          - goat
          - sheep
          - deer
          - camel
          - rabbit
          - guinea_pig
          - tortoise
          - zoo_or_wildlife
          - landscape
          - other

        definition: >
          Identifies the primary intended animal class or application for which
          the hay or forage is marketed.

        narration: |
          - `dairy`  High-energy, high-protein, low-fiber forage suitable for lactating dairy cows.
          - `beef`  For growing, breeding, or finishing beef cattle with varied quality tolerance.
          - `horse`  Typically dust-free, low NSC forage with consistent texture and color.
          - `goat`  Moderate- to high-protein forage, tolerates stemmier material.
          - `sheep`  Requires attention to copper and energy levels; typically higher quality than beef forage.
          - `deer`  Highly digestible forage for farmed or captive cervids.
          - `camel`  Includes llamas, alpacas, and camels; suitable for coarser forage.
          - `rabbit`  High-fiber, low-calcium forage; typically small-stem grass hay.
          - `guinea_pig`  Similar to rabbit requirements; may need stricter control on mold and texture.
          - `tortoise`  Drier, low-protein hays (e.g., timothy or orchardgrass).
          - `zoo_or_wildlife`  Regulated or specialized forage for zoological or rescue settings.
          - `landscape`  Erosion control, bedding, weed suppression, or decorative mulch.

        validation_guidance: |
          - Valid values: `dairy`, `beef`, `horse`, `goat`, `sheep`, `deer`, `camel`, `rabbit`, `guinea_pig`, `tortoise`, `zoo_or_wildlife`, `landscape`, `other`.
          - Allow multiple selections if hay is marketed toward more than one class.

      - id: intended_use_case
        title: Intended use case
        data_type: enum
        required: false
        enum_select_mode: multiple
        valid_values:
          - maintenance
          - growth
          - lactation
          - work
          - general_purpose
          - unknown

        definition: >
          Captures the functional purpose for which the hay was intended, such
          as maintaining body condition, supporting growth, or producing milk.

        narration: |
          This metadata helps buyers evaluate whether the hay aligns with their nutritional goals and may inform expected quality ranges.
          - `maintenance`  Intended for animals not in production (e.g., dry cows, idle horses).
          - `growth`  Designed to support young or growing animals.
          - `lactation`  Targeted for milk-producing animals with high energy/protein demand.
          - `work`  For animals performing physical labor (e.g., working horses).
          - `general_purpose`  No specific function; applicable to various use cases.
          - `unknown`  Intention not known or not disclosed. If specified, accept no other values.

        validation_guidance: |
          Valid values: `maintenance`, `growth`, `lactation`, `work`, `general_purpose`, `unknown`.

      - id: gmo_presence_status
        title: GMO presence status
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values:
          - gmo
          - non-gmo_certified
          - non-gmo_uncertified
          - unknown

        definition: >
          Describes whether the hay was produced from a genetically modified
          crop and whether any non-GMO designation is formally certified.

        narration: |
          This field is important for export, specialty feed, and organic markets, where GMO crops may be restricted or excluded by regulation or buyer preference.
          - `gmo`  Hay was produced from a genetically modified crop (e.g., Roundup Ready alfalfa).
          - `non-gmo_certified`  Hay was produced from a non-GMO crop and has been certified by a recognized non-GMO verification program.
          - `non-gmo_uncertified`  The producer affirms that the hay is non-GMO but without formal certification.
          - `unknown`  GMO status of the source crop is not known or not disclosed.

        validation_guidance: |
          - Valid values: `gmo`, `non-gmo_certified`, `non-gmo_uncertified`, `unknown`.
          - Accepted certification programs include Non-GMO Project Verified, USDA Organic (which prohibits GMOs), Certified Naturally Grown (if GMO-free attestation is included), and EU
          Organic Certification (Regulation (EU) 2018/848).
          - Notable regulatory contexts include:
          - European Union  Requires GMO labeling above 0.9% content for feed products.
          - Mexico  Imposes GMO corn restrictions with broader trade implications.
          - Selecting `unknown` affirms that GMO status is not known or not disclosed. This value should be used explicitly rather than omitting the field, to ensure transparency and
          regulatory compliance.

      - id: production_certification_status
        title: Production certification status
        data_type: enum
        required: true
        enum_select_mode: multiple
        valid_values:
          - certified_organic
          - certified_non_gmo
          - certified_weed_free
          - transitional_ organic
          - none
          - unknown

        definition: >
          Captures the production-related certifications or designations that
          apply to the hay. These certifications provide assurance to buyers
          about how the hay was grown and handled.

        narration: |
          This field may influence eligibility for specific markets or regulatory programs.
          - `certified_organic`  Certified under a recognized organic program (e.g., USDA NOP, EU Organic).
          - `certified_non-gmo`  Certified free of genetically modified organisms.
          - `certified_weed_free`  Certified noxious weed-free, often required for public land use or export.
          - `transitional_organic`  Produced using organic-compliant methods but not yet fully certified.
          - `none`  No applicable production-related certifications.
          - `unknown`  Certification status is not known or not disclosed.

        validation_guidance: |
          - Valid values: `certified_organic`, `certified_non-gmo`, `certified_weed_free`, `transitional_organic`, `none`, `unknown`.
          - Multiple values may be selected if more than one certification applies.
          - Use `none` if the producer affirms that no certifications apply.
          - Use `unknown` if certification status is not disclosed or not yet confirmed.

      - id: distribution_channel
        title: Distribution channel
        data_type: enum
        required: true
        enum_select_mode: single
        valid_values:
          - local
          - regional
          - national
          - export
          - unknown

        definition: >
          Captures the primary distribution context or market scope for which
          the hay was prepared.

        narration: |
          This field may indicate associated quality expectations, packaging format, and logistical considerations.
          - `local`  Intended for use within the immediate community or county.
          - `regional`  Distributed across a multi-county or state/province area.
          - `national`  Distributed across the entire country.
          - `export`  Intended for international sale or shipping.
          - `unknown`  Not disclosed or not applicable.

          This information may support regulatory compliance, freight planning,
          and market segmentation analysis.

        validation_guidance: |
          - Valid values: `local`, `regional`, `national`, `export`, `unknown`.
          - Choose the value that best reflects the primary target distribution region.
          - Use `unknown` if the intended distribution region is not known or not disclosed.

      - id: export_eligibility_documentation
        title: Export eligibility documentation
        data_type: enum
        required: true
        enum_select_mode: multiple
        valid_values:
          - phytosanitary_certificate
          - fumigation_certificate
          - certificate_of_origin
          - weed_free_declaration
          - none
          - unknown

        definition: >
          Identifies the export-related documentation available for the hay.
          Such documentation may be required to comply with quarantine laws,
          invasive species controls, or import regulations.

        narration: |
          This field supports international trade, reduces the risk of shipment rejection, and helps buyers comply with destination country requirements.
          - `phytosanitary_certificate` - Verifies the hay is free from regulated pests and meets the import requirements of the destination country.
          - `fumigation_certificate` - Confirms the hay has been treated with a fumigant prior to shipment.
          - `certificate_of_origin` - States the country of production, often required for trade preference or regulatory compliance.
          - `weed_free_declaration` - Indicates certification of noxious weed-free status under applicable standards.
          - `none` - No export documentation is provided with this hay.
          - `unknown` - The documentation status is not known or not disclosed.

        validation_guidance: |
          - Valid values: `phytosanitary_certificate`, `fumigation_certificate`, `certificate_of_origin`, `weed_free_declaration`, `none`, `unknown`.
          - Allow multiple selections to reflect all relevant documentation.

- id: metadata
  title: Metadata
  definition: >
    Structural, authorship, licensing, contact, and publication-related
    information for this specification release. Document-level authority values
    (title, version, status, date_published, license, publisher, schema_uri)
    are defined in the header and must not be overridden here. This section
    provides human-readable context for rendered documentation and exports.
  narration: |
    The metadata section captures supporting information about the
    specifications origin, stewardship, and revision history. All YAML remains
    ASCII-only; Unicode characters, if needed, may be introduced during export
    (see the header character_encoding_policy).

  subsections:

    - id: document_info
      title: Document Info
      description: >
        Key identifying information for this specification release. The
        authoritative machine-readable values are stored in the specification
        header; the fields below must match those header values.
      fields:
        - id: spec_name
          title: Specification Name
          data_type: string
          required: true
          definition: >
            Human-readable name of the specification. See the 'title' field in
            the header for the authoritative value.
          validation_guidance: |
            - Free-text string up to 100 characters.
            - Must match the 'title' value in the header.

        - id: version
          title: Specification Version
          data_type: string
          required: true
          definition: >
            Semantic version number of this release. See the 'version' field in
            the header for the authoritative value.
          validation_guidance: |
            - Must follow major.minor.patch format (e.g., 1.0.0, 0.91.0).
            - Must match the 'version' value in the header.

        - id: date_published
          title: Date Published
          data_type: date
          required: true
          definition: >
            Official publication date for this version. See the 'date_published'
            field in the header for the authoritative value.
          validation_guidance: |
            - Must be formatted as YYYYMMDD.
            - Must be a valid ISO 8601 date.
            - Must match the 'date_published' value in the header.

        - id: status
          title: Status
          data_type: string
          required: true
          definition: >
            Current release status (e.g., draft, candidate, final). See the
            'status' field in the header for the authoritative value.
          validation_guidance: |
            - Recommended values: draft, candidate, final.
            - Must match the 'status' value in the header.

        - id: license
          title: License
          data_type: string
          required: true
          definition: >
            License under which the specification is released. See the 'license'
            field in the header for the authoritative value.
          validation_guidance: |
            - Recommended format includes license name and version (e.g., CC BY 4.0).
            - Must match the 'license' value in the header.

        - id: publisher
          title: Publisher
          data_type: string
          required: true
          definition: >
            Organization responsible for publishing the specification. See the
            'publisher' field in the header for the authoritative value.
          validation_guidance: |
            - Free-text string up to 100 characters.
            - Must match the 'publisher' value in the header.

        - id: schema_uri
          title: Schema URI
          data_type: string
          required: false
          definition: >
            Resolvable URI where the machine-readable schema for this version
            can be accessed. See the 'schema_uri' field in the header for the
            authoritative value.
          validation_guidance: |
            - Must be a valid URI.
            - If present, must match the 'schema_uri' value in the header.

    - id: contact
      title: Contact
      description: >
        This specification is published by Lode, a provider of information,
        logistics, and trading support for agricultural commodities.

        For questions, feedback, or to request implementation guidance, please contact:

        Lode Standards Team
        Email: standards@lode.global
        Web: https://lode.global

        We welcome inquiries from producers, merchants, buyers, researchers,
        industry groups, and software providers seeking to adopt or integrate
        this standard.

    - id: licensing_notice
      title: Licensing Notice
      description: >
        This specification is provided for public use and may be implemented
        freely by producers, buyers, software developers, and standards
        organizations under the terms of the Creative Commons Attribution 4.0
        International License (CC BY 4.0).

        Under this license, you are free to:
        - Share - copy and redistribute the material in any medium or format
        - Adapt - remix, transform, and build upon the material for any purpose, even commercially

        Under the following terms:
        - Attribution - You must give appropriate credit, provide a link to the license, and indicate if changes were made.
          You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.

        To contribute improvements or extensions to this specification, or to
        report implementation experiences, please contact the maintainers via
        email at standards@lode.global.

    - id: acknowledgements
      title: Acknowledgements
      description: >
        Recognition of individuals and organizations whose expertise and feedback
        informed the development of this specification.
      items:
        - |
          County extension agents across Texas, Kentucky, New Mexico, and California who provided
          field-level insight into hay production practices and buyer needs.
        - |
          University faculty and forage specialists whose published research and personal correspondence
          shaped key definitions and data models.
        - |
          Hay testing laboratories and forage analysis professionals whose sample reports and reference values
          guided the formation of nutrient analysis and traceability fields.
        - |
          Ranchers, hay producers, merchants, and buyers who reviewed early drafts and offered practical feedback
          based on real-world use cases and market conditions.
        - |
          Members of the National Forage Testing Association (NFTA) and American Forage and Grassland Council (AFGC)
          for their standards, publications, and advocacy for consistent forage quality reporting.

    - id: contributors
      title: Contributors
      fields:
        - id: contributors
          title: Contributors
          data_type: "string[]"
          required: false
          definition: >
            Individuals, groups, or organizations that authored, reviewed, or
            materially shaped this specification.
          validation_guidance: |
            - List of free-text strings.
            - Each entry may include a name, affiliation, or contact reference.
            - Each string must not exceed 250 characters.

    - id: version_history
      title: Version History
      description: >
        Highlights major changes to the specification across published versions.
        This section is for human reference; the authoritative version and date
        are maintained in the header.
      items:
        - |
          v0.91.0 (2025-08-09) - Updated metadata structure to remove duplication with header fields,
          added character encoding policy for ASCII-only YAML with export-time Unicode overrides, and
          harmonized human-readable metadata content. Minor corrections to field definitions and validation guidance.
        - |
          v0.90.0 (2025-05-05) - Initial draft of the hay specification prepared by the Lode Standards Team.

    - id: display_prefs
      title: Display Preferences
      description: >
        Advisory settings for how implementations may present values in user
        interfaces or exports. These do not alter stored field units or data.
      fields:
        - id: unit_system_preference
          title: Unit System Preference
          data_type: enum
          required: false
          enum_select_mode: single
          valid_values:
            - metric
            - us_customary
          definition: >
            Preferred measurement system for display. Does not override per-field
            unit declarations. See the header 'unit_handling_policy' for the
            authoritative unit handling rules.
          validation_guidance: |
            - Must be either 'metric' or 'us_customary'.
            - May be used by UIs to determine display formatting.

    - id: encoding_display
      title: Encoding and Display
      description: >
        YAML content in this specification is ASCII-only. Non-ASCII glyphs may
        be introduced during export (e.g., Markdown, HTML) according to the
        header 'character_encoding_policy' and the reference
        'references/orthography_overrides.yaml', which stores overrides using
        Unicode escape sequences. Exporters decode those sequences at render time.

    - id: references
      title: References
      fields:
        - id: references
          title: References
          data_type: "string[]"
          required: false
          definition: >
            Source materials, standards, and publications consulted in the
            development of this specification.
          validation_guidance: |
            - List of free-text strings.
            - Each entry may include a title, organization, publication year, or URL.
            - Each string must not exceed 250 characters.

    - id: release_notes
      title: Release Notes
      fields:
        - id: release_notes
          title: Release Notes
          data_type: string
          required: false
          definition: >
            Summary of changes, additions, or corrections introduced in this
            specification version.
          validation_guidance: |
            Free-text field; recommended maximum length: 500 characters.
